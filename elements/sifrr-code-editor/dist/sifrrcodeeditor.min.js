/*! SifrrCodeEditor v0.0.4 - sifrr project | MIT licensed | https://github.com/sifrr/sifrr-elements */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("@sifrr/dom")):"function"==typeof define&&define.amd?define(["@sifrr/dom"],e):(t=t||self).SifrrCodeEditor=e(t.Sifrr.Dom)}(this,function(t){"use strict";function e(){const t=(s=['\n<style media="screen">\n  ','\n</style>\n<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/${this.theme}.min.css">\n<pre class=\'hljs\'>\n  <code id="highlight" data-sifrr-html="true">\n    ${this.htmlValue}\n  </code>\n</pre>\n<textarea class=\'hljs\' _input="${this.input}"></textarea>'],(i=['\n<style media="screen">\n  ','\n</style>\n<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/\\${this.theme}.min.css">\n<pre class=\'hljs\'>\n  <code id="highlight" data-sifrr-html="true">\n    \\${this.htmlValue}\n  </code>\n</pre>\n<textarea class=\'hljs\' _input="\\${this.input}"></textarea>'])||(i=s.slice(0)),Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(i)}})));var s,i;return e=function(){return t},t}const s=(t=t&&t.hasOwnProperty("default")?t.default:t).template(e(),":host{display:block;position:relative}*{box-sizing:border-box}code,pre{width:100%;display:block}.hljs{width:100%;height:100%;font-family:Consolas,Liberation Mono,Courier,monospace;font-size:14px;line-height:18px;padding:8px;margin:0;position:absolute;white-space:pre-wrap;top:0;left:0}.hljs *{word-break:break-word}textarea{z-index:2;resize:none;border:none}textarea.loaded{background:transparent!important;text-shadow:0 0 0 transparent;text-fill-color:transparent;-webkit-text-fill-color:transparent}pre{z-index:1}");class i extends t.Element{static get template(){return s}static observedAttrs(){return["value","theme"]}static hljs(){return this._hljs=this._hljs||fetch("https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js").then(t=>t.text()).then(t=>new Function(t)()),this._hljs}onAttributeChange(){this.update()}onConnect(){this.constructor.hljs().then(()=>this.hljsLoaded());const t=this.$("textarea");t.addEventListener("keydown",e=>{let s=e.keyCode||e.which;if(this.$("#highlight").style.height=this.$("textarea").height,9==s){e.preventDefault();const s=t.selectionStart,i=t.selectionEnd,n="  ",r=2;t.value=t.value.substring(0,s)+n+t.value.substring(i),t.selectionStart=t.selectionEnd=s+r,this.update()}}),t.onscroll=(()=>{this.$("pre.hljs").scrollTop=t.scrollTop})}input(){t.Event.trigger(this,"input"),this.update()}hljsLoaded(){this.$("textarea").classList.add("loaded"),this.update()}get htmlValue(){return window.hljs?window.hljs.highlight(this.lang,this.value.replace(/\n$/,"\n\n")).value:this.value.replace(/</g,"&lt;")}get theme(){return this.getAttribute("theme")||"atom-one-dark"}set theme(t){this.setAttribute("theme",t),this.update()}get value(){return this.$("textarea").value}set value(t){this.$("textarea").value=t,this.update()}get lang(){return this.getAttribute("lang")||"html"}}return t.register(i),i});
/*! (c) @aadityataparia */
