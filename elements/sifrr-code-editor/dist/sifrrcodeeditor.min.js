/*! SifrrCodeEditor v0.0.4 - sifrr project | MIT licensed | https://github.com/sifrr/sifrr-elements */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@sifrr/dom")):"function"==typeof define&&define.amd?define(["@sifrr/dom"],t):(e=e||self).SifrrCodeEditor=t(e.Sifrr.Dom)}(this,function(e){"use strict";function t(){const e=(s=['\n<style media="screen">\n  ','\n</style>\n<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/${this.theme}.min.css">\n<pre class=\'hljs\'>\n  <code id="highlight" data-sifrr-html="true">\n    ${this.htmlValue}\n  </code>\n</pre>\n<textarea class=\'hljs\' _input="${this.input}" _scroll="console.log(this)"></textarea>'],(i=['\n<style media="screen">\n  ','\n</style>\n<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/\\${this.theme}.min.css">\n<pre class=\'hljs\'>\n  <code id="highlight" data-sifrr-html="true">\n    \\${this.htmlValue}\n  </code>\n</pre>\n<textarea class=\'hljs\' _input="\\${this.input}" _scroll="console.log(this)"></textarea>'])||(i=s.slice(0)),Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(i)}})));var s,i;return t=function(){return e},e}const s=(e=e&&e.hasOwnProperty("default")?e.default:e).template(t(),":host{display:block;position:relative}*{box-sizing:border-box}.hljs{width:100%;height:100%;font-family:Consolas,Liberation Mono,Courier,monospace;font-size:14px;line-height:18px;padding:8px;margin:0;position:absolute;white-space:pre-wrap;top:0;left:0}textarea{z-index:2;resize:none;border:none}textarea.loaded{background:transparent!important;text-shadow:0 0 0 transparent;text-fill-color:transparent;-webkit-text-fill-color:transparent}pre{z-index:1}");class i extends e.Element{static get template(){return s}static observedAttrs(){return["value","theme"]}onAttributeChange(){this.update()}onConnect(){fetch("https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js").then(e=>e.text()).then(e=>new Function(e)()).then(()=>this.hljsLoaded());const e=this.$("textarea");e.addEventListener("keydown",t=>{let s=t.keyCode||t.which;if(this.$("#highlight").style.height=this.$("textarea").height,9==s){t.preventDefault();const s=e.selectionStart,i=e.selectionEnd,n="  ",r=2;e.value=e.value.substring(0,s)+n+e.value.substring(i),e.selectionStart=e.selectionEnd=s+r}}),e.onscroll=(()=>{this.$("pre.hljs").scrollTop=e.scrollTop})}input(){e.Event.trigger(this,"input"),this.update()}hljsLoaded(){this.$("textarea").classList.add("loaded"),this.update()}get htmlValue(){return window.hljs?window.hljs.highlight(this.lang,this.value).value:this.value.replace(/</g,"&lt;")}get theme(){return this.getAttribute("theme")||"atom-one-dark"}set theme(e){this.setAttribute("theme",e),this.update()}get value(){return this.$("textarea").value}set value(e){this.$("textarea").value=e,this.update()}get lang(){return this.getAttribute("lang")||"html"}}return window&&e.register(i),i});
/*! (c) @aadityataparia */
