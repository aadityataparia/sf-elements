/*! SifrrCodeEditor v0.0.5 - sifrr project | MIT licensed | https://github.com/sifrr/sifrr-elements */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@sifrr/dom")):"function"==typeof define&&define.amd?define(["@sifrr/dom"],t):(e=e||self).SifrrCodeEditor=t(e.Sifrr.Dom)}(this,function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;function t(){const e=(r=['\n<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@','/lib/codemirror.css">\n<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@','/theme/${this.getTheme()}.css">\n<style media="screen">\n  ',"\n</style>\n<textarea></textarea>"],(i=['\n<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@','/lib/codemirror.css">\n<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@','/theme/\\${this.getTheme()}.css">\n<style media="screen">\n  ',"\n</style>\n<textarea></textarea>"])||(i=r.slice(0)),Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}})));var r,i;return t=function(){return e},e}const r="5.48.0",i=e.template(t(),r,r,":host{display:block;position:relative}*{box-sizing:border-box}textarea{resize:none;border:none}.CodeMirror,textarea{height:100%;width:100%}");class n extends e.Element{static get template(){return i}static observedAttrs(){return["value","theme","lang"]}static syncedAttrs(){return["theme"]}static cm(){return this._cm=this._cm||e.Loader.executeJS("https://cdn.jsdelivr.net/npm/codemirror@".concat(r,"/lib/codemirror.js")),this._cm}onAttributeChange(e,t,r){this._cmLoaded&&("theme"===e&&this.cm.setOption("theme",r),"lang"===e&&this.cm.setOption("mode",this.getTheme()))}onConnect(){this.constructor.cm().then(()=>this.cmLoaded())}input(){e.Event.trigger(this,"input"),this.update()}cmLoaded(){e.Loader.executeJS("https://cdn.jsdelivr.net/npm/codemirror@".concat(r,"/mode/").concat(this.lang,"/").concat(this.lang,".js")).then(()=>{this.cm=window.CodeMirror.fromTextArea(this.$("textarea"),{value:this.$("textarea").value,mode:this.lang,htmlMode:!0,theme:this.getTheme(),indentUnit:2,tabSize:2,lineNumbers:!0}),this.cm.on("change",this.input.bind(this)),this._cmLoaded=!0})}getTheme(){return this.theme?this.theme.split(" ")[0]:"dracula"}get value(){return this._cmLoaded?this.cm.getValue():this.$("textarea").value}set value(e){if(e!==this.value)return this._cmLoaded?this.cm.setValue(e):void(this.$("textarea").value=e)}get lang(){const e=this.getAttribute("lang");return e&&"html"!==e?e:"xml"}}return e.register(n),n});
/*! (c) @aadityataparia */
