/*! SifrrCodeEditor v0.0.4 - sifrr project | MIT licensed | https://github.com/sifrr/sifrr-elements */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@sifrr/dom")):"function"==typeof define&&define.amd?define(["@sifrr/dom"],t):(e=e||self).SifrrCodeEditor=t(e.Sifrr.Dom)}(this,function(e){"use strict";function t(){const e=(n=['\n<style media="screen">\n  ','\n</style>\n<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/atom-one-dark.min.css">\n<pre class=\'hljs\'>\n  <code id="highight" data-sifrr-html="true">\n    ${this.htmlValue}\n  </code>\n</pre>\n<textarea class=\'hljs\' _input="${this.input}"></textarea>'],(i=['\n<style media="screen">\n  ','\n</style>\n<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/atom-one-dark.min.css">\n<pre class=\'hljs\'>\n  <code id="highight" data-sifrr-html="true">\n    \\${this.htmlValue}\n  </code>\n</pre>\n<textarea class=\'hljs\' _input="\\${this.input}"></textarea>'])||(i=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(i)}})));var n,i;return t=function(){return e},e}const n=(e=e&&e.hasOwnProperty("default")?e.default:e).template(t(),":host{display:block;position:relative}*{box-sizing:border-box}.hljs{width:100%;height:100%;font-family:Consolas,Liberation Mono,Courier,monospace;font-size:14px;line-height:18px;padding:8px;margin:0;position:absolute;white-space:pre-wrap;top:0;left:0}textarea{background:transparent!important;z-index:2;resize:none;text-shadow:0 0 0 transparent;border:none;text-fill-color:transparent;-webkit-text-fill-color:transparent}pre{z-index:1}");e.Event.add("load");class i extends e.Element{static get template(){return n}onAttributeChange(){this.update()}onConnect(){const e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js",e.onLoad=this.update(),document.body.appendChild(e);const t=this.$("textarea");this.$("textarea").addEventListener("keydown",e=>{if(9==(e.keyCode||e.which)){e.preventDefault();const n=t.selectionStart,i=t.selectionEnd,s="  ",r=2;t.value=t.value.substring(0,n)+s+t.value.substring(i),t.selectionStart=t.selectionEnd=n+r}})}input(){e.Event.trigger(this,"input"),this.update()}get htmlValue(){return window.hljs?hljs.highlight(this.lang,this.value).value:this.value}get value(){return this.$("textarea").value}set value(e){this.$("textarea").value=e,this.update()}get lang(){return this.getAttribute("lang")||"html"}}return window&&e.register(i),i});
/*! (c) @aadityataparia */
