{"version":3,"file":"sifrrinclude.js","sources":["../src/sifrrinclude.js"],"sourcesContent":["import SifrrDom from '@sifrr/dom';\n\nclass SifrrInclude extends SifrrDom.Element {\n  static syncedAttrs() {\n    return ['url', 'type'];\n  }\n\n  onConnect() {\n    let preffix = '',\n      suffix = '';\n    if (this.type === 'js') {\n      preffix = '<script>';\n      suffix = '</script>';\n    } else if (this.type === 'css') {\n      preffix = '<style>';\n      suffix = '</style>';\n    }\n\n    if (this.url) {\n      fetch(this.url)\n        .then(r => r.text())\n        .then(text => {\n          this.innerHTML = preffix + text + suffix;\n        });\n    }\n  }\n}\n\nSifrrDom.register(SifrrInclude);\n\nexport default SifrrInclude;\n"],"names":["SifrrInclude","SifrrDom","Element","syncedAttrs","onConnect","preffix","suffix","type","url","fetch","then","r","text","innerHTML","register"],"mappings":";;;;;;;;;EAEA,MAAMA,YAAN,SAA2BC,QAAQ,CAACC,OAApC,CAA4C;EAC1C,SAAOC,WAAP,GAAqB;EACnB,WAAO,CAAC,KAAD,EAAQ,MAAR,CAAP;EACD;EAEDC,EAAAA,SAAS,GAAG;EACV,QAAIC,OAAO,GAAG,EAAd;EAAA,QACEC,MAAM,GAAG,EADX;EAEA,QAAI,KAAKC,IAAL,KAAc,IAAlB,EAAwB;EACtBF,MAAAA,OAAO,GAAG,UAAV;EACAC,MAAAA,MAAM,GAAG,WAAT;EACD,KAHD,MAGO,IAAI,KAAKC,IAAL,KAAc,KAAlB,EAAyB;EAC9BF,MAAAA,OAAO,GAAG,SAAV;EACAC,MAAAA,MAAM,GAAG,UAAT;EACD;EAED,QAAI,KAAKE,GAAT,EAAc;EACZC,MAAAA,KAAK,CAAC,KAAKD,GAAN,CAAL,CACGE,IADH,CACQC,CAAC,IAAIA,CAAC,CAACC,IAAF,EADb,EAEGF,IAFH,CAEQE,IAAI,IAAI;EACZ,aAAKC,SAAL,GAAiBR,OAAO,GAAGO,IAAV,GAAiBN,MAAlC;EACD,OAJH;EAKD;EACF;EAvByC;EA0B5CL,QAAQ,CAACa,QAAT,CAAkBd,YAAlB;;;;;;;;;;;"}