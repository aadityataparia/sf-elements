/*! SifrrTabs v0.0.4 - sifrr project | MIT licensed | https://github.com/sifrr/sifrr-elements */
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i(require("@sifrr/dom")):"function"==typeof define&&define.amd?define(["@sifrr/dom"],i):(t=t||self).SifrrTabs=i(t.Sifrr.Dom)}(this,function(t){"use strict";function i(){const t=(s=['<style media="screen">\n  ','\n</style>\n<style>\n  .tabs {\n    height: ${this.options ? this.options.tabHeight : \'auto\'};\n    width: ${this.totalWidth + \'px\'};\n  }\n  .headings {\n    display: ${this.headingDisplay};\n    background: ${this.options ? this.options.background : \'transparent\'};\n  }\n  .content *::slotted([slot="tab"]) {\n    width: ${this.tabWidth + \'px\'};\n    margin: 0 ${this.options ? this.options.arrowMargin + \'px\' : 0};\n  }\n  .arrow {\n    width: ${this.options ? this.options.arrowWidth : \'20px\'};\n  }\n</style>\n<div class="headings">\n  <ul>\n    <slot name="heading">\n    </slot>\n  </ul>\n  <div class="underline"></div>\n</div>\n<div class="content">\n  <div class="arrow l" _click=${this.prev}>\n    <span></span>\n  </div>\n  <div class="arrow r" _click=${this.next}>\n    <span></span>\n  </div>\n  <div class="tabs">\n    <slot name="tab">\n    </slot>\n  </div>\n</div>'],(n=['<style media="screen">\n  ','\n</style>\n<style>\n  .tabs {\n    height: \\${this.options ? this.options.tabHeight : \'auto\'};\n    width: \\${this.totalWidth + \'px\'};\n  }\n  .headings {\n    display: \\${this.headingDisplay};\n    background: \\${this.options ? this.options.background : \'transparent\'};\n  }\n  .content *::slotted([slot="tab"]) {\n    width: \\${this.tabWidth + \'px\'};\n    margin: 0 \\${this.options ? this.options.arrowMargin + \'px\' : 0};\n  }\n  .arrow {\n    width: \\${this.options ? this.options.arrowWidth : \'20px\'};\n  }\n</style>\n<div class="headings">\n  <ul>\n    <slot name="heading">\n    </slot>\n  </ul>\n  <div class="underline"></div>\n</div>\n<div class="content">\n  <div class="arrow l" _click=\\${this.prev}>\n    <span></span>\n  </div>\n  <div class="arrow r" _click=\\${this.next}>\n    <span></span>\n  </div>\n  <div class="tabs">\n    <slot name="tab">\n    </slot>\n  </div>\n</div>'])||(n=s.slice(0)),Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(n)}})));var s,n;return i=function(){return t},t}const s=(t=t&&t.hasOwnProperty("default")?t.default:t).template(i(),":host{\n  /* CSS for tabs container */line-height:24px;overflow:hidden;display:block}.headings,:host{width:100%;position:relative}.headings{\n  /* CSS for heading bar */overflow-y:hidden;overflow-x:auto;box-shadow:0 2px 3px rgba(0,0,0,.2)}.headings ul{padding:0 0 3px;margin:0;font-size:0}\n\n/* CSS for heading text li */.headings ::slotted(li){font-size:16px;display:inline-block;text-align:center;padding:8px;text-decoration:none;list-style:none;color:#fff;border-bottom:2px solid transparent;opacity:.9;cursor:pointer;box-sizing:border-box}.headings ::slotted(li.active),.headings ::slotted(li:hover){opacity:1}\n\n/* CSS for line under active tab heading */.headings .underline{position:absolute;bottom:0;left:0;height:3px;background:#fff}\n\n/* Arrows css */.arrow{z-index:5;top:0;bottom:0}.arrow,.arrow>*{position:absolute}.arrow>*{width:8px;height:8px;margin:-6px 5px;top:50%;border:solid #fff;border-width:0 3px 3px 0;display:inline-block;padding:3px;filter:drop-shadow(-1px -1px 3px #000)}.arrow.l{left:0;cursor:w-resize}.arrow.l>*{left:0;transform:rotate(135deg)}.arrow.r{right:0;cursor:e-resize}.arrow.r>*{right:0;transform:rotate(-45deg)}\n\n/* Tab container css */.content{width:100%;height:100%;overflow-x:auto;overflow-y:hidden;margin:0;line-height:normal;box-sizing:border-box}.content .tabs{min-height:1px}\n\n/* Tab element css */.content ::slotted([slot=tab]){float:left;max-height:100%;height:100%;overflow-x:hidden;overflow-y:auto;vertical-align:top;padding:8px;box-sizing:border-box}");function n(t,i,s){t instanceof HTMLElement&&(t=t.children);for(let n=0;n<t.length;n++)n!==s&&t[n]!==s?t[n].classList.remove(i):t[n].classList.add(i)}class e extends t.Element{static get template(){return s}static observedAttrs(){return["options"]}onConnect(){this._connected=!0,this.refresh(),this.setWindowResizeEvent(),this.setSlotChangeEvent(),this.setScrollEvent()}onAttributeChange(t,i,s){"options"===t&&(this._attrOptions=JSON.parse(s||"{}"),this._connected&&this.refresh())}refresh(){this.options=Object.assign({menu:this.$(".headings ul"),content:this.$(".content"),tabcontainer:this.$(".tabs"),menus:this.$("slot[name=heading]").assignedNodes(),tabs:this.$("slot[name=tab]").assignedNodes(),la:this.$(".arrow.l"),ra:this.$(".arrow.r"),line:this.$(".underline"),num:1,showArrows:!1,arrowMargin:0,arrowWidth:"20px",showMenu:!0,step:1,tabHeight:"auto",showUnderline:!0,loop:!1,animation:"easeOut",animationTime:300,scrollBreakpoint:.2,background:"#714cfe"},this._attrOptions),!this.options.tabs||this.options.tabs.length<1||(this.usableWidth=this.clientWidth,this.totalWidth=this.usableWidth/this.options.num*this.options.tabs.length,this.usableWidth-=2*this.options.arrowMargin,this.tabWidth=this.usableWidth/this.options.num,this.setProps(),this.update(),this.active=this.active||0)}setProps(){this.options.showArrows?(this.options.la.style.display="block",this.options.ra.style.display="block",Array.from(this.options.tabs).forEach(t=>t.style.margin="0 ".concat(this.margin,"px"))):(this.options.la.style.display="none",this.options.ra.style.display="none"),this.options.showUnderline||(this.options.line.style.display="none"),this.options.showMenu?(this.headingDisplay="block",this.options.line.style.width=this.options.menus[0].offsetWidth+"px",this.setMenuProps()):this.headingDisplay="none"}setMenuProps(){let t=0;this.options.menuProps=[],Array.from(this.options.menus).forEach((i,s)=>{this.options.menuProps[s]={width:i.offsetWidth,left:t},t+=i.offsetWidth,i._click=(()=>this.active=s)});const i=this.options.menuProps[this.options.menus.length-1];this.options.menu.style.width=i.left+i.width+5*this.options.menus.length+"px";const s=this.options.menuProps[this.active];this.options.line.style.left=s.left+"px",this.options.line.style.width=s.width+"px"}setScrollEvent(){let t,i,s=this;function n(){i=s.active;const n=s.options.content.scrollLeft/s.tabWidth,e=n%1,o=Math.floor(n);if(s.options.showMenu){const t=s.options.menuProps[o].left*(1-e)+(s.options.menuProps[o+1]||{left:0}).left*e,i=s.options.menuProps[o].width*(1-e)+(s.options.menuProps[o+1]||{width:0}).width*e;s.options.line.style.left=t+"px",s.options.line.style.width=i+"px",s.options.menu.parentElement.scrollLeft=t+(i-s.tabWidth)/2}clearTimeout(t),t=setTimeout(function(){n-i<-s.options.scrollBreakpoint?s.active=o:n-i>+s.options.scrollBreakpoint?s.active=o+1:s.active=i},66)}this.options.content.onscroll=(()=>requestAnimationFrame(n))}setWindowResizeEvent(){window.addEventListener("resize",()=>{this._resizing&&clearTimeout(this._resizing),this._resizing=setTimeout(()=>{this._resizing=null,this.refresh()},66)})}setSlotChangeEvent(){const t=this,i=()=>{t.options.menus=t.$$("slot")[0].assignedNodes(),t.options.tabs=t.$$("slot")[1].assignedNodes(),t.refresh()};this.$$("slot")[0].addEventListener("slotchange",i),this.$$("slot")[1].addEventListener("slotchange",i)}get active(){return this.state?this.state.active:0}set active(t){this.state={active:t}}beforeUpdate(){if(!this.options)return;let t=this.state.active;if(t=this.getTabNumber(t),!isNaN(t)&&t!==this.state.active)return this.active=t;this.animate(this.options.content,"scrollLeft",t*(this.tabWidth+2*this.options.arrowMargin),this.options.animationTime,this.options.animation),n(this.options.tabs,"active",t),n(this.options.tabs,"prev",this.getTabNumber(t-1)),n(this.options.tabs,"next",this.getTabNumber(t+1)),n(this.options.menus,"active",t),n(this.options.menus,"prev",this.getTabNumber(t-1)),n(this.options.menus,"next",this.getTabNumber(t+1)),this.options.showArrows&&(this.options.la.style.display=this.hasPrev()||this.options.loop?"block":"none",this.options.ra.style.display=this.hasNext()||this.options.loop?"block":"none")}next(){this.active=this.state.active+this.options.step}hasNext(){return this.active!==this.options.tabs.length-this.options.num}prev(){this.active=this.state.active-this.options.step}hasPrev(){return 0!==this.active}getTabNumber(t){const i=this.options.tabs.length,s=this.options.num;return(t=t<0?t+i:t%i)+s-1>=i&&(t=this.options.loop?0:i-s),t}animate(t,i,s,n,e="easeOut"){const o=t[i],a=s-o,r=this;let h;window.requestAnimationFrame(function l(p){if(p-(h=h||p)>n)return void(t[i]=s);let d=(p-h)/n;t[i]=Math.round(r.animations[e].call(this,d)*a+o),window.requestAnimationFrame(l)})}get animations(){return{linear:t=>t,easeOut:t=>--t*t*t+1,easeIn:t=>t*t*t,none:()=>1}}}return e.defaultState={active:0},t.register(e),e});
/*! (c) @aadityataparia */
