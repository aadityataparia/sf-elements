/*! SifrrTabs v0.0.4 - sifrr project | MIT licensed | https://github.com/sifrr/sifrr-elements */
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i(require("@sifrr/dom")):"function"==typeof define&&define.amd?define(["@sifrr/dom"],i):(t=t||self).SifrrTabs=i(t.Sifrr.Dom)}(this,function(t){"use strict";function i(){const t=(s=['<style media="screen">\n  ','\n</style>\n<div class="headings">\n  <ul>\n    <slot name="heading">\n    </slot>\n  </ul>\n  <div class="underline"></div>\n</div>\n<div class="content">\n  <div class="arrow l">\n    <span></span>\n  </div>\n  <div class="arrow r">\n    <span></span>\n  </div>\n  <div class="tabs">\n    <slot name="tab">\n    </slot>\n  </div>\n</div>'],e||(e=s.slice(0)),Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(e)}})));var s,e;return i=function(){return t},t}const s=(t=t&&t.hasOwnProperty("default")?t.default:t).template(i(),":host{\n  /* CSS for tabs container */line-height:24px;overflow:hidden;display:block;border:1px solid rgba(0,0,0,.1);border-radius:5px}.headings,:host{width:100%;position:relative}.headings{\n  /* CSS for heading bar */overflow-y:hidden;overflow-x:auto;background:#714cfe;box-shadow:0 2px 3px rgba(0,0,0,.2)}.headings ul{padding:0 0 3px;margin:0;font-size:0}\n\n/* CSS for heading text li */.headings ::slotted(li){font-size:16px;display:inline-block;text-align:center;padding:8px;text-decoration:none;list-style:none;color:#fff;border-bottom:2px solid transparent;opacity:.9;cursor:pointer;box-sizing:border-box}.headings ::slotted(li.active),.headings ::slotted(li:hover){opacity:1}\n\n/* CSS for line under active tab heading */.headings .underline{position:absolute;bottom:0;left:0;height:3px;background:#fff}\n\n/* Arrows css */.arrow{z-index:5;top:0;bottom:0;width:20px}.arrow,.arrow>*{position:absolute}.arrow>*{width:8px;height:8px;margin:-6px 5px;top:50%;border:solid #fff;border-width:0 3px 3px 0;display:inline-block;padding:3px;filter:drop-shadow(-1px -1px 3px #000)}.arrow.l{left:0}.arrow.l>*{left:0;transform:rotate(135deg)}.arrow.r{right:0}.arrow.r>*{right:0;transform:rotate(-45deg)}\n\n/* Tab container css */.content{width:100%;height:100%;overflow-x:auto;overflow-y:hidden;margin:0;line-height:normal;box-sizing:border-box}.content .tabs{min-height:1px}\n\n/* Tab element css */.content ::slotted([slot=tab]){float:left;max-height:100%;width:100%;height:100%;overflow-x:hidden;overflow-y:auto;vertical-align:top;padding:8px;box-sizing:border-box}");function e(t,i,s){for(let e=0;e<t.length;e++)e!==s&&t[e]!==s?t[e].classList.remove(i):t[e].classList.add(i)}class o extends t.Element{static get template(){return s}onConnect(){this.options={menu:this.$(".headings ul"),content:this.$(".content"),tabcontainer:this.$(".tabs"),menus:this.$("slot[name=heading]").assignedNodes(),tabs:this.$("slot[name=tab]").assignedNodes(),la:this.$(".arrow.l"),ra:this.$(".arrow.r"),line:this.$(".underline"),num:1,showArrows:!1,arrowMargin:0,showMenu:!0,step:1,tabHeight:"auto",showUnderline:!0,loop:!1,animation:"easeOut",animationTime:300,scrollBreakpoint:.2},this.getAttribute("options")&&Object.assign(this.options,JSON.parse(this.getAttribute("options"))),this.animations=this.animations(),this.setWindowResizeEvent(),this.setClickEvents(),this.setSlotChangeEvent(),this.refresh()}refresh(t={}){Object.assign(this.options,t),!this.options.tabs||this.options.tabs.length<1||(this.width=this.clientWidth/this.options.num,this.margin=0,this.options.showArrows&&(this.width-=2*this.options.arrowMargin,this.margin=this.options.arrowMargin),this.setProps(),this.active=t.active||this.active||0)}get active(){return this.state?this.state.active:0}set active(t){this.state={active:t}}onStateChange(){if(!this.options)return;let t=this.state.active;(t=this.getTabNumber(t))+this.options.num-1==this.options.tabs.length&&(t=this.options.loop?0:this.options.tabs.length-this.options.num),isNaN(t)||t===this.state.active?(this.animate(this.options.content,"scrollLeft",t*(this.width+2*this.margin),this.options.animationTime,this.options.animation),e(this.options.tabs,"active",t),e(this.options.tabs,"prev",this.getTabNumber(t-1)),e(this.options.tabs,"next",this.getTabNumber(t+1)),e(this.options.menus,"active",t),e(this.options.menus,"prev",this.getTabNumber(t-1)),e(this.options.menus,"next",this.getTabNumber(t+1)),this.options.showArrows&&(this.options.la.style.display=this.hasPrev()||this.options.loop?"block":"none",this.options.ra.style.display=this.hasNext()||this.options.loop?"block":"none")):this.state={active:t}}next(){this.active=this.state.active+this.options.step}hasNext(){return this.active!==this.options.tabs.length-this.options.num}prev(){this.active=this.state.active-this.options.step}hasPrev(){return 0!==this.active}getTabNumber(t){const i=this.options.tabs.length;return t=t<0?t+i:t%i}setProps(){this.options.showArrows?Array.from(this.options.tabs).forEach(t=>t.style.margin="0 ".concat(this.margin,"px")):(this.options.la&&(this.options.la.style.display="none"),this.options.ra&&(this.options.ra.style.display="none")),this.options.showUnderline||this.options.line&&(this.options.line.style.display="none"),this.options.showMenu?(this.setMenuProps(),this.options.line.style.width=this.options.menus[0].offsetWidth+"px"):this.options.menu&&(this.options.menu.style.display="none"),this.setScrollEvent(),this.options.tabcontainer.style.width=this.options.tabs.length*(this.width+2*this.margin)+"px",this.options.tabcontainer.style.height=this.options.tabHeight,Array.from(this.options.tabs).forEach(t=>t.style.width=this.width+"px")}setMenuProps(){const t=this;let i=0;this.options.menuProps={},Array.from(this.options.menus).forEach((s,e)=>{this.options.menuProps[e]={width:s.offsetWidth,left:i},i+=s.offsetWidth,s._click=(()=>t.active=e)});const s=this.options.menuProps[this.options.menus.length-1];this.options.menu.style.width=s.left+s.width+5+"px";const e=this.options.menuProps[this.active];e&&(t.options.line.style.left=e.left+"px",t.options.line.style.width=e.width+"px")}setClickEvents(){let t=this;this.options.la&&(this.options.la._click=(()=>t.prev())),this.options.ra&&(this.options.ra._click=(()=>t.next()))}setScrollEvent(){let t,i=this,s=-1;function e(){const e=i.options.content.scrollLeft/i.width,o=e%1;s<0&&(s=o);const n=Math.floor(e);try{const t=i.options.menuProps[n].left*(1-o)+(i.options.menuProps[n+1]||{left:0}).left*o,s=i.options.menuProps[n].width*(1-o)+(i.options.menuProps[n+1]||{width:0}).width*o;i.options.line.style.left=t+"px",i.options.line.style.width=s+"px",i.options.menu.parentElement.scrollLeft=t-(i.width-s)/2}catch(t){}clearTimeout(t),t=setTimeout(function(){o-s<-i.options.scrollBreakpoint?i.active=n:o-s>+i.options.scrollBreakpoint?i.active=n+1:i.active=i.active,s=-1},66)}i.options.content.onscroll=(()=>requestAnimationFrame(e))}setWindowResizeEvent(){const t=this;window.addEventListener("resize",function(){t.refresh()})}setSlotChangeEvent(){const t=this,i=()=>{t.options.menus=t.$$("slot")[0].assignedNodes(),t.options.tabs=t.$$("slot")[1].assignedNodes(),t.refresh()};this.$$("slot")[0].addEventListener("slotchange",i),this.$$("slot")[1].addEventListener("slotchange",i)}animate(t,i,s,e,o="easeOut"){const n=t[i],a=s-n,r=this;let h;window.requestAnimationFrame(function l(p){if(p-(h=h||p)>e)return void(t[i]=s);let d=(p-h)/e;t[i]=Math.round(r.animations[o].call(this,d)*a+n),window.requestAnimationFrame(l)})}animations(){return{linear:t=>t,easeOut:t=>--t*t*t+1,easeIn:t=>t*t*t,none:t=>1}}}return window&&t.register(o),o});
/*! (c) @aadityataparia */
