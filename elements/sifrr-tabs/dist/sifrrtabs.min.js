/*! SifrrTabs v0.0.4 - sifrr project | MIT licensed | https://github.com/sifrr/sifrr-elements */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("@sifrr/dom")):"function"==typeof define&&define.amd?define(["@sifrr/dom"],n):(t=t||self).SifrrTabs=n(t.Sifrr.Dom)}(this,function(t){"use strict";function n(){const t=(i=['<style media="screen">\n  ','\n</style>\n<div class="headings">\n  <ul>\n    <slot name="heading">\n    </slot>\n  </ul>\n  <div class="underline"></div>\n</div>\n<div class="content">\n  <div class="arrow l">\n    <span></span>\n  </div>\n  <div class="arrow r">\n    <span></span>\n  </div>\n  <div class="tabs">\n    <slot name="tab">\n    </slot>\n  </div>\n</div>'],s||(s=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(s)}})));var i,s;return n=function(){return t},t}const i=(t=t&&t.hasOwnProperty("default")?t.default:t).template(n(),':host {\n  /* CSS for tabs container */\n  line-height: 24px;\n  overflow: hidden;\n  width: 100%;\n  display: block;\n  position: relative;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: 5px; }\n\n.headings {\n  /* CSS for heading bar */\n  width: 100%;\n  overflow-y: hidden;\n  overflow-x: auto;\n  position: relative;\n  background: #714cfe;\n  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2); }\n\n.headings ul {\n  padding: 0 0 3px;\n  margin: 0;\n  font-size: 0; }\n\n/* CSS for heading text li */\n.headings *::slotted(li) {\n  font-size: 16px;\n  display: inline-block;\n  text-align: center;\n  padding: 8px;\n  text-decoration: none;\n  list-style: none;\n  color: white;\n  border-bottom: 2px solid transparent;\n  opacity: 0.9;\n  cursor: pointer;\n  box-sizing: border-box; }\n\n.headings *::slotted(li.active) {\n  opacity: 1; }\n\n.headings *::slotted(li:hover) {\n  opacity: 1; }\n\n/* CSS for line under active tab heading */\n.headings .underline {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: 3px;\n  background: white; }\n\n/* Arrows css */\n.arrow {\n  position: absolute;\n  z-index: 5;\n  top: 0;\n  bottom: 0;\n  width: 20px; }\n\n.arrow > * {\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  margin: -6px 5px;\n  top: 50%;\n  border: solid white;\n  border-width: 0 3px 3px 0;\n  display: inline-block;\n  padding: 3px;\n  filter: drop-shadow(-1px -1px 3px #000); }\n\n.arrow.l {\n  left: 0; }\n\n.arrow.l > * {\n  left: 0;\n  transform: rotate(135deg); }\n\n.arrow.r {\n  right: 0; }\n\n.arrow.r > * {\n  right: 0;\n  transform: rotate(-45deg); }\n\n/* Tab container css */\n.content {\n  width: 100%;\n  height: 100%;\n  overflow-x: auto;\n  overflow-y: hidden;\n  margin: 0;\n  line-height: normal;\n  box-sizing: border-box; }\n\n.content .tabs {\n  min-height: 1px; }\n\n/* Tab element css */\n.content *::slotted([slot="tab"]) {\n  float: left;\n  max-height: 100%;\n  width: 100%;\n  height: 100%;\n  overflow-x: hidden;\n  overflow-y: auto;\n  vertical-align: top;\n  padding: 8px;\n  box-sizing: border-box; }\n');function s(t,n,i){for(let s=0;s<t.length;s++)s!==i&&t[s]!==i?t[s].classList.remove(n):t[s].classList.add(n)}class e extends t.Element{static get template(){return i}onConnect(){this.options={menu:this.$(".headings ul"),content:this.$(".content"),tabcontainer:this.$(".tabs"),menus:this.$("slot[name=heading]").assignedNodes(),tabs:this.$("slot[name=tab]").assignedNodes(),la:this.$(".arrow.l"),ra:this.$(".arrow.r"),line:this.$(".underline"),num:1,showArrows:!1,arrowMargin:0,showMenu:!0,step:1,tabHeight:"auto",showUnderline:!0,loop:!1,animation:"easeOut",animationTime:150,scrollBreakpoint:.2},this.getAttribute("options")&&Object.assign(this.options,JSON.parse(this.getAttribute("options"))),this.animations=this.animations(),this.setWindowResizeEvent(),this.setClickEvents(),this.setSlotChangeEvent(),this.refresh()}refresh(t={}){Object.assign(this.options,t),!this.options.tabs||this.options.tabs.length<1||(this.width=this.clientWidth/this.options.num,this.margin=0,this.options.showArrows&&(this.width-=2*this.options.arrowMargin,this.margin=this.options.arrowMargin),this.setProps(),this.active=t.active||this.active||0)}get active(){return this.state?this.state.active:0}set active(t){this.state={active:t}}onStateChange(){if(!this.options)return;let t=this.state.active;(t=this.getTabNumber(t))+this.options.num-1==this.options.tabs.length&&(t=this.options.loop?0:this.options.tabs.length-this.options.num),t===this.state.active?(this.animate(this.options.content,"scrollLeft",t*(this.width+2*this.margin),this.options.animationTime,this.options.animation),s(this.options.tabs,"active",t),s(this.options.tabs,"prev",this.getTabNumber(t-1)),s(this.options.tabs,"next",this.getTabNumber(t+1)),s(this.options.menus,"active",t),s(this.options.menus,"prev",this.getTabNumber(t-1)),s(this.options.menus,"next",this.getTabNumber(t+1)),this.options.showArrows&&(this.options.la.style.display=this.hasPrev()||this.options.loop?"block":"none",this.options.ra.style.display=this.hasNext()||this.options.loop?"block":"none")):this.state={active:t}}next(){this.active=this.state.active+this.options.step}hasNext(){return this.active!==this.options.tabs.length-this.options.num}prev(){this.active=this.state.active-this.options.step}hasPrev(){return 0!==this.active}getTabNumber(t){const n=this.options.tabs.length;return t=t<0?t+n:t%n}setProps(){this.options.showArrows?Array.from(this.options.tabs).forEach(t=>t.style.margin="0 ".concat(this.margin,"px")):(this.options.la&&(this.options.la.style.display="none"),this.options.ra&&(this.options.ra.style.display="none")),this.options.showUnderline||this.options.line&&(this.options.line.style.display="none"),this.options.showMenu?(this.setMenuProps(),this.options.line.style.width=this.options.menus[0].offsetWidth+"px"):this.options.menu&&(this.options.menu.style.display="none"),this.setScrollEvent(),this.options.tabcontainer.style.width=this.options.tabs.length*(this.width+2*this.margin)+"px",this.options.tabcontainer.style.height=this.options.tabHeight,Array.from(this.options.tabs).forEach(t=>t.style.width=this.width+"px")}setMenuProps(){const t=this;let n=0;this.options.menuProps={},Array.from(this.options.menus).forEach((i,s)=>{this.options.menuProps[s]={width:i.offsetWidth,left:n},n+=i.offsetWidth,i._click=(()=>t.active=s)});const i=this.options.menuProps[this.options.menus.length-1];this.options.menu.style.width=i.left+i.width+5+"px";const s=this.options.menuProps[this.active];s&&(t.options.line.style.left=s.left+"px",t.options.line.style.width=s.width+"px")}setClickEvents(){let t=this;this.options.la&&(this.options.la._click=(()=>t.prev())),this.options.ra&&(this.options.ra._click=(()=>t.next()))}setScrollEvent(){let t,n=this,i=-1;function s(){const s=n.options.content.scrollLeft/n.width,e=s%1;i<0&&(i=e);const o=Math.floor(s);try{const t=n.options.menuProps[o].left*(1-e)+(n.options.menuProps[o+1]||{left:0}).left*e,i=n.options.menuProps[o].width*(1-e)+(n.options.menuProps[o+1]||{width:0}).width*e;n.options.line.style.left=t+"px",n.options.line.style.width=i+"px",n.options.menu.parentElement.scrollLeft=t-(n.width-i)/2}catch(t){}clearTimeout(t),t=setTimeout(function(){e-i<-n.options.scrollBreakpoint?n.active=o:e-i>+n.options.scrollBreakpoint?n.active=o+1:n.active=n.active,i=-1},66)}n.options.content.onscroll=(()=>requestAnimationFrame(s))}setWindowResizeEvent(){const t=this;window.addEventListener("resize",function(){t.refresh()})}setSlotChangeEvent(){const t=this,n=()=>{t.options.menus=t.$$("slot")[0].assignedNodes(),t.options.tabs=t.$$("slot")[1].assignedNodes(),t.refresh()};this.$$("slot")[0].addEventListener("slotchange",n),this.$$("slot")[1].addEventListener("slotchange",n)}animate(t,n,i,s,e="easeOut"){const o=t[n],a=i-o,r=this;let h;window.requestAnimationFrame(function l(p){if(p-(h=h||p)>s)return void(t[n]=i);let d=(p-h)/s;t[n]=Math.round(r.animations[e].call(this,d)*a+o),window.requestAnimationFrame(l)})}animations(){return{linear:t=>t,easeOut:t=>--t*t*t+1,easeIn:t=>t*t*t,none:t=>1}}}return window&&t.register(e),e});
/*! (c) @aadityataparia */
