/*! SifrrTabs v0.0.4 - sifrr project | MIT licensed | https://github.com/sifrr/sifrr-elements */
!function(t,s){"object"==typeof exports&&"undefined"!=typeof module?module.exports=s(require("@sifrr/dom")):"function"==typeof define&&define.amd?define(["@sifrr/dom"],s):(t=t||self).SifrrTabs=s(t.Sifrr.Dom)}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;class s{constructor(t){return this.setProps(...t),this.final.bind(this)}setProps(t,s,i,e){let n={x1:t,y1:s,x2:i,y2:e,A:(t,s)=>1-3*s+3*t,B:(t,s)=>3*s-6*t,C:t=>3*t,CalcBezier:(t,s,i)=>((this.A(s,i)*t+this.B(s,i))*t+this.C(s))*t,GetSlope:(t,s,i)=>3*this.A(s,i)*t*t+2*this.B(s,i)*t+this.C(s)};Object.assign(this,n)}final(t){return this.x1==this.y1&&this.x2==this.y2?t:this.CalcBezier(this.GetTForX(t),this.y1,this.y2)}GetTForX(t){let s=t;for(let i=0;i<4;++i){let i=this.GetSlope(s,this.x1,this.x2);if(0==i)return s;s-=(this.CalcBezier(s,this.x1,this.x2)-t)/i}return s}}function i(t,e,n,o=300,{preffix:a=!1,suffix:r=!1,type:h="ease"}={}){let l=t[e].toString(),p=n;n=n.toString(),l=Number(l.slice(a?a.length:0,r?-1*r.length:l.length));const d=(n=Number(n.slice(a?a.length:0,r?-1*r.length:n.length)))-l,c=new s(i.types[h]||h);let u;return new Promise(s=>{window.requestAnimationFrame(function i(n){const h=(n-(u=u||n))/o;if(h>=1)return t[e]=p,s();let g=c(h)*d+l;t[e]=r||a?(a||"")+g+(r||""):g,window.requestAnimationFrame(i)})})}i.types={linear:[0,0,1,1],ease:[.25,.1,.25,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1]};var e=i;function n(){const t=(s=['<style media="screen">\n  ','\n</style>\n<style>\n  .tabs {\n    height: ${this.options ? this.options.tabHeight : \'auto\'};\n    width: ${this.totalWidth + \'px\'};\n  }\n  .headings {\n    display: ${this.headingDisplay};\n    background: ${this.options ? this.options.background : \'transparent\'};\n  }\n  .content *::slotted([slot="tab"]) {\n    width: ${this.tabWidth + \'px\'};\n    margin: 0 ${this.options ? this.options.arrowMargin + \'px\' : 0};\n  }\n  .arrow {\n    width: ${this.options ? this.options.arrowWidth : \'20px\'};\n  }\n</style>\n<div class="headings">\n  <ul>\n    <slot name="heading">\n    </slot>\n  </ul>\n  <div class="underline"></div>\n</div>\n<div class="content">\n  <div class="arrow l" _click=${this.prev}>\n    <span></span>\n  </div>\n  <div class="arrow r" _click=${this.next}>\n    <span></span>\n  </div>\n  <div class="tabs">\n    <slot name="tab">\n    </slot>\n  </div>\n</div>'],(i=['<style media="screen">\n  ','\n</style>\n<style>\n  .tabs {\n    height: \\${this.options ? this.options.tabHeight : \'auto\'};\n    width: \\${this.totalWidth + \'px\'};\n  }\n  .headings {\n    display: \\${this.headingDisplay};\n    background: \\${this.options ? this.options.background : \'transparent\'};\n  }\n  .content *::slotted([slot="tab"]) {\n    width: \\${this.tabWidth + \'px\'};\n    margin: 0 \\${this.options ? this.options.arrowMargin + \'px\' : 0};\n  }\n  .arrow {\n    width: \\${this.options ? this.options.arrowWidth : \'20px\'};\n  }\n</style>\n<div class="headings">\n  <ul>\n    <slot name="heading">\n    </slot>\n  </ul>\n  <div class="underline"></div>\n</div>\n<div class="content">\n  <div class="arrow l" _click=\\${this.prev}>\n    <span></span>\n  </div>\n  <div class="arrow r" _click=\\${this.next}>\n    <span></span>\n  </div>\n  <div class="tabs">\n    <slot name="tab">\n    </slot>\n  </div>\n</div>'])||(i=s.slice(0)),Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(i)}})));var s,i;return n=function(){return t},t}const o=t.template(n(),":host{\n  /* CSS for tabs container */line-height:24px;overflow:hidden;display:block}.headings,:host{width:100%;position:relative}.headings{\n  /* CSS for heading bar */overflow-y:hidden;overflow-x:auto;box-shadow:0 2px 3px rgba(0,0,0,.2)}.headings ul{padding:0 0 3px;margin:0;font-size:0}\n\n/* CSS for heading text li */.headings ::slotted(li){font-size:16px;display:inline-block;text-align:center;padding:8px;text-decoration:none;list-style:none;color:#fff;border-bottom:2px solid transparent;opacity:.9;cursor:pointer;box-sizing:border-box}.headings ::slotted(li.active),.headings ::slotted(li:hover){opacity:1}\n\n/* CSS for line under active tab heading */.headings .underline{position:absolute;bottom:0;left:0;height:3px;background:#fff}\n\n/* Arrows css */.arrow{z-index:5;top:0;bottom:0}.arrow,.arrow>*{position:absolute}.arrow>*{width:8px;height:8px;margin:-6px 5px;top:50%;border:solid #fff;border-width:0 3px 3px 0;display:inline-block;padding:3px;filter:drop-shadow(-1px -1px 3px #000)}.arrow.l{left:0;cursor:w-resize}.arrow.l>*{left:0;transform:rotate(135deg)}.arrow.r{right:0;cursor:e-resize}.arrow.r>*{right:0;transform:rotate(-45deg)}\n\n/* Tab container css */.content{width:100%;height:100%;overflow-x:auto;overflow-y:hidden;margin:0;line-height:normal;box-sizing:border-box}.content .tabs{min-height:1px}\n\n/* Tab element css */.content ::slotted([slot=tab]){float:left;max-height:100%;height:100%;overflow-x:hidden;overflow-y:auto;vertical-align:top;padding:8px;box-sizing:border-box}");function a(t,s,i){t instanceof HTMLElement&&(t=t.children);for(let e=0;e<t.length;e++)e!==i&&t[e]!==i?t[e].classList.remove(s):t[e].classList.add(s)}class r extends t.Element{static get template(){return o}static observedAttrs(){return["options"]}onConnect(){this._connected=!0,this.refresh(),this.setWindowResizeEvent(),this.setSlotChangeEvent(),this.setScrollEvent()}onAttributeChange(t,s,i){"options"===t&&(this._attrOptions=JSON.parse(i||"{}"),this._connected&&this.refresh())}refresh(){this.options=Object.assign({menu:this.$(".headings ul"),content:this.$(".content"),tabcontainer:this.$(".tabs"),menus:this.$("slot[name=heading]").assignedNodes(),tabs:this.$("slot[name=tab]").assignedNodes(),la:this.$(".arrow.l"),ra:this.$(".arrow.r"),line:this.$(".underline"),num:1,showArrows:!1,arrowMargin:0,arrowWidth:"20px",showMenu:!0,step:1,tabHeight:"auto",showUnderline:!0,loop:!1,animation:"ease",animationTime:300,scrollBreakpoint:.2,background:"#714cfe"},this._attrOptions),!this.options.tabs||this.options.tabs.length<1||(this.usableWidth=this.clientWidth,this.totalWidth=this.usableWidth/this.options.num*this.options.tabs.length,this.usableWidth-=2*this.options.arrowMargin,this.tabWidth=this.usableWidth/this.options.num,this.setProps(),this.update(),this.active=this.active||0)}setProps(){this.options.showArrows?(this.options.la.style.display="block",this.options.ra.style.display="block",Array.from(this.options.tabs).forEach(t=>t.style.margin="0 ".concat(this.margin,"px"))):(this.options.la.style.display="none",this.options.ra.style.display="none"),this.options.showUnderline||(this.options.line.style.display="none"),this.options.showMenu?(this.headingDisplay="block",this.options.line.style.width=this.options.menus[0].offsetWidth+"px",this.setMenuProps()):this.headingDisplay="none"}setMenuProps(){let t=0;this.options.menuProps=[],Array.from(this.options.menus).forEach((s,i)=>{this.options.menuProps[i]={width:s.offsetWidth,left:t},t+=s.offsetWidth,s._click=(()=>this.active=i)});const s=this.options.menuProps[this.options.menus.length-1];this.options.menu.style.width=s.left+s.width+5*this.options.menus.length+"px";const i=this.options.menuProps[this.active];this.options.line.style.left=i.left+"px",this.options.line.style.width=i.width+"px"}setScrollEvent(){let t,s,i=this;function e(){s=i.active;const e=i.options.content.scrollLeft/i.tabWidth,n=e%1,o=Math.floor(e);if(i.options.showMenu){const t=i.options.menuProps[o].left*(1-n)+(i.options.menuProps[o+1]||{left:0}).left*n,s=i.options.menuProps[o].width*(1-n)+(i.options.menuProps[o+1]||{width:0}).width*n;i.options.line.style.left=t+"px",i.options.line.style.width=s+"px",i.options.menu.parentElement.scrollLeft=t+(s-i.tabWidth)/2}clearTimeout(t),t=setTimeout(function(){e-s<-i.options.scrollBreakpoint?i.active=o:e-s>+i.options.scrollBreakpoint?i.active=o+1:i.active=s},66)}this.options.content.onscroll=(()=>requestAnimationFrame(e))}setWindowResizeEvent(){window.addEventListener("resize",()=>requestAnimationFrame(this.refresh.bind(this)))}setSlotChangeEvent(){const t=this,s=()=>{t.options.menus=t.$$("slot")[0].assignedNodes(),t.options.tabs=t.$$("slot")[1].assignedNodes(),t.refresh()};this.$$("slot")[0].addEventListener("slotchange",s),this.$$("slot")[1].addEventListener("slotchange",s)}get active(){return this.state?this.state.active:0}set active(t){this.state={active:t}}beforeUpdate(){if(!this.options)return;let t=this.state.active;if(t=this.getTabNumber(t),!isNaN(t)&&t!==this.state.active)return this.active=t;e(this.options.content,"scrollLeft",t*(this.tabWidth+2*this.options.arrowMargin),this.options.animationTime,{type:this.options.animation}),a(this.options.tabs,"active",t),a(this.options.tabs,"prev",this.getTabNumber(t-1)),a(this.options.tabs,"next",this.getTabNumber(t+1)),a(this.options.menus,"active",t),a(this.options.menus,"prev",this.getTabNumber(t-1)),a(this.options.menus,"next",this.getTabNumber(t+1)),this.options.showArrows&&(this.options.la.style.display=this.hasPrev()||this.options.loop?"block":"none",this.options.ra.style.display=this.hasNext()||this.options.loop?"block":"none")}next(){this.active=this.state.active+this.options.step}hasNext(){return this.active!==this.options.tabs.length-this.options.num}prev(){this.active=this.state.active-this.options.step}hasPrev(){return 0!==this.active}getTabNumber(t){const s=this.options.tabs.length,i=this.options.num;return(t=t<0?t+s:t%s)+i-1>=s&&(t=this.options.loop?0:s-i),t}}return r.defaultState={active:0},t.register(r),r});
/*! (c) @aadityataparia */
