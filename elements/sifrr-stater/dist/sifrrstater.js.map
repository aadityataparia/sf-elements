{"version":3,"file":"sifrrstater.js","sources":["../../../helpers/animate.js","../../sifrr-tabs/src/sifrrtabs.js","../src/sifrrstater.js"],"sourcesContent":["const types = {\n    linear: [0, 0, 1, 1],\n    ease: [.25, .1, .25, 1],\n    easeIn: [.42, 0, 1, 1],\n    easeOut: [0, 0, .58, 1],\n    easeInOut: [.42, 0, .58, 1]\n  },\n  beziers = {},\n  digitRgx = /(\\d+)/,\n  noop = () => {};\n\nclass Bezier {\n  constructor(args){\n    const key = args.join('_');\n    if (!beziers[key]) {\n      this.setProps(...args);\n      beziers[key] = this.final.bind(this);\n    }\n    return beziers[key];\n  }\n\n  setProps(x1, y1, x2, y2) {\n    let props = {\n      x1: x1,\n      y1: y1,\n      x2: x2,\n      y2: y2,\n      A: (aA1, aA2) => 1.0 - 3.0 * aA2 + 3.0 * aA1,\n      B: (aA1, aA2) => 3.0 * aA2 - 6.0 * aA1,\n      C: (aA1) => 3.0 * aA1,\n      CalcBezier: (aT, aA1, aA2) => ((this.A(aA1, aA2)*aT + this.B(aA1, aA2))*aT + this.C(aA1))*aT,\n      GetSlope: (aT, aA1, aA2) => 3.0 * this.A(aA1, aA2)*aT*aT + 2.0 * this.B(aA1, aA2) * aT + this.C(aA1)\n    };\n    Object.assign(this, props);\n  }\n\n  final(x) {\n    if (this.x1 == this.y1 && this.x2 == this.y2) return x;\n    return this.CalcBezier(this.GetTForX(x), this.y1, this.y2);\n  }\n\n  GetTForX(xx) {\n    let t = xx;\n    for (let i = 0; i < 4; ++i) {\n      let slope = this.GetSlope(t, this.x1, this.x2);\n      if (slope == 0.0) return t;\n      let x = this.CalcBezier(t, this.x1, this.x2) - xx;\n      t -= x / slope;\n    }\n    return t;\n  }\n}\n\nfunction animateOne({\n  target,\n  prop,\n  from,\n  to,\n  time = 300,\n  type = 'ease',\n  onUpdate,\n  round = false\n} = {}) {\n  const toSplit = to.toString().split(digitRgx), l = toSplit.length, raw = [], fromNums = [], diffs = [];\n  const fromSplit = (from || target[prop] || '').toString().split(digitRgx);\n  const onUp = typeof onUpdate === 'function';\n  for (let i = 0; i < l; i++) {\n    const n = Number(toSplit[i]);\n    if (isNaN(n) || !toSplit[i]) raw.push(toSplit[i]);\n    else {\n      fromNums.push(Number(fromSplit[i]));\n      diffs.push(n - (Number(fromSplit[i]) || 0));\n    }\n  }\n  type = typeof type === 'function' ? type : new Bezier(types[type] || type);\n\n  return new Promise(res => {\n    let startTime;\n    function frame(currentTime) {\n      startTime = startTime || currentTime;\n      const percent = (currentTime - startTime) / time, bper = type(percent);\n      if (percent >= 1) {\n        target[prop] = to;\n        return res();\n      }\n      const next = diffs.map((d, i) => {\n        if (round) return Math.round(bper * d + (fromNums[i] || 0));\n        return bper * d + (fromNums[i] || 0);\n      });\n      const val = String.raw({ raw }, ...next);\n      target[prop] = Number(val) || val;\n      if (onUp) onUpdate(target, prop, val);\n      window.requestAnimationFrame(frame);\n    }\n    window.requestAnimationFrame(frame);\n  });\n}\n\nfunction animate({\n  targets,\n  target,\n  to,\n  time,\n  type,\n  onUpdate,\n  round\n} = {}) {\n  targets = targets ? Array.from(targets) : [target];\n  function iterate(target, props) {\n    const promises = [];\n    for (let prop in props) {\n      let from, final;\n      if (Array.isArray(props[prop])) [from, final] = props[prop];\n      else final = props[prop];\n      if (typeof props[prop] === 'object' && !Array.isArray(props[prop])) {\n        promises.push(iterate(target[prop], props[prop]));\n      } else {\n        promises.push(animateOne({\n          target,\n          prop,\n          to: final,\n          time,\n          type,\n          from,\n          onUpdate,\n          round\n        }));\n      }\n    }\n    return Promise.all(promises);\n  }\n  return Promise.all(targets.map(target => iterate(target, to)));\n}\n\nanimate.types = types;\n\nfunction wait(time = 0) {\n  return new Promise(res => setTimeout(res, time));\n}\n\nconst Sifrr = window.Sifrr || ( window.Sifrr = {} );\nSifrr.animate = animate;\nSifrr.wait = wait;\n\nexport default {\n  animate,\n  types,\n  wait\n};\nexport {\n  animate,\n  types,\n  wait\n};\n","import SifrrDom from '@sifrr/dom';\nimport style from './style.scss';\nimport { animate } from '../../../helpers/animate';\n\nconst template = SifrrDom.template`<style media=\"screen\">\n  ${style}\n</style>\n<style>\n  .tabs {\n    height: \\${this.options ? this.options.tabHeight : 'auto'};\n    width: \\${this.totalWidth + 'px'};\n  }\n  .headings {\n    display: \\${this.headingDisplay};\n    background: \\${this.options ? this.options.background : 'transparent'};\n  }\n  .content *::slotted([slot=\"tab\"]) {\n    width: \\${this.tabWidth + 'px'};\n    margin: 0 \\${this.options ? this.options.arrowMargin + 'px' : 0};\n  }\n  .arrow {\n    width: \\${this.options ? this.options.arrowWidth : '20px'};\n  }\n</style>\n<div class=\"headings\">\n  <ul>\n    <slot name=\"heading\">\n    </slot>\n  </ul>\n  <div class=\"underline\"></div>\n</div>\n<div class=\"content\">\n  <div class=\"arrow l\" _click=\\${this.prev}>\n    <span></span>\n  </div>\n  <div class=\"arrow r\" _click=\\${this.next}>\n    <span></span>\n  </div>\n  <div class=\"tabs\">\n    <slot name=\"tab\">\n    </slot>\n  </div>\n</div>`;\n\nfunction removeExceptOne(elements, name, index) {\n  if (elements instanceof HTMLElement) elements = elements.children;\n  for (let j = 0; j < elements.length; j++) {\n    j !== index && elements[j] !== index ? elements[j].classList.remove(name) : elements[j].classList.add(name);\n  }\n}\n\n//Simple tabs\nclass SifrrTabs extends SifrrDom.Element {\n  static get template() {\n    return template;\n  }\n\n  static observedAttrs() {\n    return ['options'];\n  }\n\n  onConnect() {\n    this._connected = true;\n    this.refresh();\n    this.setWindowResizeEvent();\n    this.setSlotChangeEvent();\n    this.setScrollEvent();\n  }\n\n  onAttributeChange(n, _, v) {\n    if (n === 'options') {\n      this._attrOptions = JSON.parse(v || '{}');\n      if (this._connected) this.refresh();\n    }\n  }\n\n  refresh() {\n    this.options = Object.assign({\n      menu: this.$('.headings ul'),\n      content: this.$('.content'),\n      tabcontainer: this.$('.tabs'),\n      menus: this.$('slot[name=heading]').assignedNodes(),\n      tabs: this.$('slot[name=tab]').assignedNodes(),\n      la: this.$('.arrow.l'),\n      ra: this.$('.arrow.r'),\n      line: this.$('.underline'),\n      num: 1,\n      showArrows: false,\n      arrowMargin: 0,\n      arrowWidth: '20px',\n      showMenu: true,\n      step: 1,\n      tabHeight: 'auto',\n      showUnderline: true,\n      loop: false,\n      animation: 'ease',\n      animationTime: 300,\n      scrollBreakpoint: 0.2,\n      background: '#714cfe'\n    }, this._attrOptions);\n    if (!this.options.tabs || this.options.tabs.length < 1) return;\n    this.usableWidth = this.clientWidth;\n    this.totalWidth = this.usableWidth / this.options.num * this.options.tabs.length;\n    this.usableWidth -= 2 * this.options.arrowMargin;\n    this.tabWidth = this.usableWidth / this.options.num;\n    this.setProps();\n    this.update();\n    this.active = this.active || 0;\n  }\n\n  setProps() {\n    if (!this.options.showArrows) {\n      this.options.la.style.display = 'none';\n      this.options.ra.style.display = 'none';\n    } else {\n      this.options.la.style.display = 'block';\n      this.options.ra.style.display = 'block';\n      Array.from(this.options.tabs).forEach(e => e.style.margin = `0 ${this.margin}px`);\n    }\n    if (!this.options.showUnderline) this.options.line.style.display = 'none';\n    if (this.options.showMenu) {\n      this.headingDisplay = 'block';\n      this.options.line.style.width = this.options.menus[0].offsetWidth + 'px';\n      this.setMenuProps();\n    } else this.headingDisplay = 'none';\n  }\n\n  setMenuProps() {\n    let left = 0;\n    this.options.menuProps = [];\n    Array.from(this.options.menus).forEach((elem, i) => {\n      this.options.menuProps[i] = {\n        width: elem.offsetWidth,\n        left: left\n      };\n      left += elem.offsetWidth;\n      elem._click = () => this.active = i;\n    });\n    const last = this.options.menuProps[this.options.menus.length - 1];\n    this.options.menu.style.width = last.left + last.width + 5 * this.options.menus.length + 'px';\n    const active = this.options.menuProps[this.active];\n    this.options.line.style.left = active.left + 'px';\n    this.options.line.style.width = active.width + 'px';\n  }\n\n  setScrollEvent() {\n    let me = this,\n      isScrolling,\n      scrollPos;\n    this.options.content.onscroll = () => requestAnimationFrame(onScroll);\n\n    function onScroll() {\n      scrollPos = me.active;\n      const total = me.options.content.scrollLeft / me.tabWidth;\n      const per = total % 1;\n      const t = Math.floor(total);\n      if (me.options.showMenu) {\n        const left = me.options.menuProps[t].left * (1 - per) + (me.options.menuProps[t + 1] || {\n          left: 0\n        }).left * per;\n        const width = me.options.menuProps[t].width * (1 - per) + (me.options.menuProps[t + 1] || {\n          width: 0\n        }).width * per;\n        me.options.line.style.left = left + 'px';\n        me.options.line.style.width = width + 'px';\n        me.options.menu.parentElement.scrollLeft = left + (width - me.tabWidth) / 2;\n      }\n      clearTimeout(isScrolling);\n      isScrolling = setTimeout(function() {\n        if (total - scrollPos < -me.options.scrollBreakpoint) {\n          me.active = t;\n        } else if (total - scrollPos > +me.options.scrollBreakpoint) {\n          me.active = t + 1;\n        } else {\n          me.active = scrollPos;\n        }\n      }, 66);\n    }\n  }\n\n  setWindowResizeEvent() {\n    window.addEventListener('resize', () => requestAnimationFrame(this.refresh.bind(this)));\n  }\n\n  setSlotChangeEvent() {\n    const me = this;\n    const fxn = () => {\n      me.options.menus = me.$$('slot')[0].assignedNodes();\n      me.options.tabs = me.$$('slot')[1].assignedNodes();\n      me.refresh();\n    };\n    this.$$('slot')[0].addEventListener('slotchange', fxn);\n    this.$$('slot')[1].addEventListener('slotchange', fxn);\n  }\n\n  get active() {\n    return this.state ? this.state.active : 0;\n  }\n\n  set active(i) {\n    this.state = {\n      active: i\n    };\n  }\n\n  beforeUpdate() {\n    if (!this.options) return;\n    let i = this.state.active;\n    i = this.getTabNumber(i);\n    if (!isNaN(i) && i !== this.state.active) return this.active = i;\n    animate({\n      target: this.options.content,\n      to: {\n        scrollLeft: i * (this.tabWidth + 2 * this.options.arrowMargin)\n      },\n      time: this.options.animationTime,\n      type: this.options.animation === 'none' ? () => 1 : this.options.animation\n    });\n    removeExceptOne(this.options.tabs, 'active', i);\n    removeExceptOne(this.options.tabs, 'prev', this.getTabNumber(i - 1));\n    removeExceptOne(this.options.tabs, 'next', this.getTabNumber(i + 1));\n    removeExceptOne(this.options.menus, 'active', i);\n    removeExceptOne(this.options.menus, 'prev', this.getTabNumber(i - 1));\n    removeExceptOne(this.options.menus, 'next', this.getTabNumber(i + 1));\n    if (this.options.showArrows) {\n      this.options.la.style.display = this.hasPrev() || this.options.loop ? 'block' : 'none';\n      this.options.ra.style.display = this.hasNext() || this.options.loop ? 'block' : 'none';\n    }\n  }\n\n  next() {\n    this.active = this.state.active + this.options.step;\n  }\n\n  hasNext() {\n    if (this.active === this.options.tabs.length - this.options.num) return false;\n    return true;\n  }\n\n  prev() {\n    this.active = this.state.active - this.options.step;\n  }\n\n  hasPrev() {\n    if (this.active === 0) return false;\n    return true;\n  }\n\n  getTabNumber(i) {\n    const l = this.options.tabs.length;\n    const num = this.options.num;\n    i = i < 0 ? i + l : i % l;\n    if (i + num - 1 >= l) {\n      i = this.options.loop ? 0 : l - num;\n    }\n    return i;\n  }\n}\n\nSifrrTabs.defaultState = { active: 0 };\n\nSifrrDom.register(SifrrTabs);\nexport default SifrrTabs;\n","import SifrrDom from '@sifrr/dom';\nimport SifrrStorage from '@sifrr/storage';\nimport '../../sifrr-tabs/src/sifrrtabs';\nimport style from './style.scss';\n\nconst template = SifrrDom.template`<style>\n  ${style}\n</style>\n<div id=\"showHide\" _click=\\${this.showHide}></div>\n<sifrr-tabs options='{\"tabHeight\": \"calc(100vh - 132px)\"}' data-sifrr-html=\"true\">\n  \\${ this.headingHtml() }\n  \\${ this.stateHtml() }\n</sifrr-tabs>\n<footer>\n  <input _keyup=\\${this.addTargetOnEnter} id=\"addTargetInput\" type=\"text\" name=\"addTargetInput\" value=\"\" placeholder=\"Enter css selector query of target\">\n  <button _click=\\${this.addTarget} class=\"btn3\" type=\"button\" name=\"addTargetButton\">Add Taget</button>\n  <button _click=\\${this.commitAll} class=\"btn3\" type=\"button\" name=\"commitAll\">Commit All</button>\n  <button _click=\\${this.resetAllToFirstState} class=\"btn3\" type=\"button\" name=\"resetAll\">Reset All</button>\n  <button _click=\\${this.saveData} class=\"btn3\" type=\"button\" name=\"saveData\">Save Data</button>\n  <button _click=\\${this.loadData} class=\"btn3\" type=\"button\" name=\"loadData\">Load Data</button>\n  <button _click=\\${this.clearAll} class=\"btn3\" type=\"button\" name=\"clearAll\">Remove All</button>\n</footer>`;\n\nSifrrDom.Event.add('click');\nSifrrDom.Event.add('keyup');\nclass SifrrStater extends SifrrDom.Element {\n  static get template() {\n    return template;\n  }\n\n  onConnect() {\n    let me = this;\n    this.storage = new SifrrStorage({\n      name: 'sifrr-stater' + window.location.href\n    });\n    SifrrDom.Event.addListener('click', '.state', function(e, el) {\n      el.classList.contains('open') ? el.classList.remove('open') : el.classList.add('open');\n    });\n    SifrrDom.Event.addListener('click', '.dotC', function(e, target, el) {\n      me.toState(parseInt(el.dataset.target), parseInt(el.dataset.stateIndex));\n    });\n    SifrrDom.Event.addListener('click', '.delete', function(e, el) {\n      me.deleteState(parseInt(el.dataset.target), parseInt(el.dataset.stateIndex));\n    });\n    SifrrDom.Event.addListener('click', '.commit', function(e, el) {\n      const i = parseInt(el.parentNode.dataset.target);\n      me.commit(i);\n    });\n    SifrrDom.Event.addListener('click', '.reset', function(e, el) {\n      const i = parseInt(el.parentNode.dataset.target);\n      me.resetToFirstState(i);\n    });\n    SifrrDom.Event.addListener('click', '.remove', function(e, el) {\n      const i = parseInt(el.parentNode.dataset.target);\n      me.removeTarget(i);\n    });\n  }\n\n  showHide() {\n    this.classList.contains('show') ? this.classList.remove('show') : this.classList.add('show');\n  }\n\n  addTargetOnEnter(event) {\n    if (event.key === 'Enter') {\n      this.addTarget();\n    }\n  }\n\n  headingHtml() {\n    return this.state.queries.map((q) => `<li slot=\"heading\">${q}</li>`).join('');\n  }\n\n  stateHtml() {\n    let me = this;\n    return this.state.states.map((s, i) =>\n      `<div data-target=\"${i}\" slot=\"tab\">\n      <button class=\"btn3 commit\" type=\"button\" name=\"commit\">Commit</button>\n      <button class=\"btn3 reset\" type=\"button\" name=\"reset\">Reset</button>\n      <button class=\"btn3 remove\" type=\"button\" name=\"remove\">Remove</button>\n      ${s.map((jsn, j) => `<div class=\"stateContainer ${j <= me.state.activeStates[i] ? 'on' : 'off'}\">\n                           <div class=\"dotC\" data-target=\"${i}\" data-state-index=\"${j}\"><div class=\"dot\"></div></div>\n                           <div class=\"state\">${SifrrStater.prettyJSON(jsn)}</div>\n                           <div class=\"delete\" data-target=\"${i}\" data-state-index=\"${j}\">X</div>\n                           </div>`).join('')}</div>`\n    ).join('');\n  }\n\n  addTarget(query) {\n    if (typeof query !== 'string') query = this.$('#addTargetInput').value;\n    let target = window.document.querySelector(query);\n    if (!target.isSifrr) {\n      window.console.log('Invalid Sifrr Element.', target);\n      return false;\n    }\n    if (!target.state) {\n      window.console.log('Sifrr Element has no state.', target);\n      return false;\n    }\n    const old = target.onStateChange, me = this;\n    target.onStateChange = function() {\n      me.addState(this, this.state);\n      old.call(this);\n    };\n    let index = this.state.targets.indexOf(target);\n    if (index > -1) return;\n    this.state.targets.push(target);\n    this.state.queries.push(query);\n    index = this.state.targets.indexOf(target);\n    this.state.states[index] = [JSON.parse(JSON.stringify(target.state))];\n    this.state.activeStates[index] = 0;\n    this.update();\n  }\n\n  removeTarget(el) {\n    const {\n      index\n    } = this.getTarget(el);\n    if (index > -1) {\n      this.state.targets.splice(index, 1);\n      this.state.queries.splice(index, 1);\n      this.state.states.splice(index, 1);\n      this.state.activeStates.splice(index, 1);\n      this.update();\n    }\n  }\n\n  addState(el, state) {\n    const {\n      index\n    } = this.getTarget(el);\n    if (index > -1) {\n      const active = this.state.activeStates[index];\n      const newState = JSON.stringify(state);\n      if (newState !== JSON.stringify(this.state.states[index][active])) {\n        this.state.states[index].splice(active + 1, 0, JSON.parse(newState));\n        this.state.activeStates[index] = active + 1;\n        this.update();\n      }\n    }\n  }\n  deleteState(el, stateN) {\n    const {\n      index\n    } = this.getTarget(el);\n    this.state.states[index].splice(stateN, 1);\n    if (stateN < this.state.activeStates[index]) {\n      this.state.activeStates[index] -= 1;\n    } else if (stateN == this.state.activeStates[index]) {\n      this.state.activeStates[index] -= 1;\n      this.toState(index, this.state.activeStates[index]);\n    }\n    this.update();\n  }\n\n  commit(el) {\n    const {\n      index\n    } = this.getTarget(el);\n    const last_state = this.state.states[index][this.state.states[index].length - 1];\n    this.state.states[index] = [last_state];\n    this.state.activeStates[index] = 0;\n    this.update();\n  }\n\n  commitAll() {\n    const me = this;\n    this.state.targets.forEach(t => me.commit(t));\n    this.update();\n  }\n\n  toState(el, n) {\n    const {\n      index,\n      target\n    } = this.getTarget(el);\n    this.state.activeStates[index] = n;\n    target.state = this.state.states[index][n];\n    this.update();\n  }\n\n  resetToFirstState(el) {\n    const {\n      index,\n      target\n    } = this.getTarget(el);\n    this.toState(target, 0, false);\n    this.state.states[index] = [this.state.states[index][0]];\n    this.update();\n  }\n\n  resetAllToFirstState() {\n    const me = this;\n    this.state.targets.forEach(t => me.resetToFirstState(t));\n    this.update();\n  }\n\n  clear(target) {\n    const {\n      index\n    } = this.getTarget(target);\n    this.state.activeStates[index] = -1;\n    this.state.states[index] = [];\n    this.update();\n  }\n\n  clearAll() {\n    const me = this;\n    this.state.targets.forEach(t => me.clear(t));\n    this.update();\n  }\n\n  saveData() {\n    const me = this;\n    this.storage.clear().then(() => {\n      me.state.queries.forEach((q, i) => {\n        const data = {\n          active: me.state.activeStates[i],\n          states: me.state.states[i]\n        };\n        me.storage.set(q, data);\n      });\n    });\n  }\n\n  loadData() {\n    const me = this;\n    this.storage.all().then((data) => {\n      let i = 0;\n      for (let q in data) {\n        me.addTarget(q);\n        me.clear(i);\n        data[q].states.forEach(s => me.addState(i, s));\n        me.toState(i, data[q].active);\n        i++;\n      }\n    });\n  }\n\n  getTarget(target) {\n    let index;\n    if (Number.isInteger(target)) {\n      index = target;\n      target = this.state.targets[index];\n    } else {\n      index = this.state.targets.indexOf(target);\n    }\n    return {\n      index: index,\n      target: target\n    };\n  }\n\n  static prettyJSON(json) {\n    json = JSON.stringify(json, null, 4);\n    json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n    return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)/g, function(match) {\n      let cls = 'number';\n      if (/:$/.test(match)) {\n        cls = 'key';\n        return '<span class=\"' + cls + '\">' + match + '</span>';\n      } else if (/^\"/.test(match)) {\n        cls = 'string';\n      } else if (/true|false/.test(match)) {\n        cls = 'boolean';\n      } else if (/null/.test(match)) {\n        cls = 'null';\n      }\n      return '<span class=\"' + cls + '\">' + match + '</span>';\n    });\n  }\n}\n\nSifrrStater.defaultState = {\n  targets: [],\n  states: [],\n  queries: [],\n  activeStates: []\n};\n\nSifrrDom.register(SifrrStater);\n\nexport default SifrrStater;\n"],"names":["types","linear","ease","easeIn","easeOut","easeInOut","beziers","digitRgx","Bezier","constructor","args","key","join","setProps","final","bind","x1","y1","x2","y2","props","A","aA1","aA2","B","C","CalcBezier","aT","GetSlope","Object","assign","x","GetTForX","xx","t","i","slope","animateOne","target","prop","from","to","time","type","onUpdate","round","toSplit","toString","split","l","length","raw","fromNums","diffs","fromSplit","onUp","n","Number","isNaN","push","Promise","res","startTime","frame","currentTime","percent","bper","next","map","d","Math","val","String","window","requestAnimationFrame","animate","targets","Array","iterate","promises","isArray","all","wait","setTimeout","Sifrr","template","SifrrDom","style","removeExceptOne","elements","name","index","HTMLElement","children","j","classList","remove","add","SifrrTabs","Element","observedAttrs","onConnect","_connected","refresh","setWindowResizeEvent","setSlotChangeEvent","setScrollEvent","onAttributeChange","_","v","_attrOptions","JSON","parse","options","menu","$","content","tabcontainer","menus","assignedNodes","tabs","la","ra","line","num","showArrows","arrowMargin","arrowWidth","showMenu","step","tabHeight","showUnderline","loop","animation","animationTime","scrollBreakpoint","background","usableWidth","clientWidth","totalWidth","tabWidth","update","active","display","forEach","e","margin","headingDisplay","width","offsetWidth","setMenuProps","left","menuProps","elem","_click","last","me","isScrolling","scrollPos","onscroll","onScroll","total","scrollLeft","per","floor","parentElement","clearTimeout","addEventListener","fxn","$$","state","beforeUpdate","getTabNumber","hasPrev","hasNext","prev","defaultState","register","Event","SifrrStater","storage","SifrrStorage","location","href","addListener","el","contains","toState","parseInt","dataset","stateIndex","deleteState","parentNode","commit","resetToFirstState","removeTarget","showHide","addTargetOnEnter","event","addTarget","headingHtml","queries","q","stateHtml","states","s","jsn","activeStates","prettyJSON","query","value","document","querySelector","isSifrr","console","log","old","onStateChange","addState","call","indexOf","stringify","getTarget","splice","newState","stateN","last_state","commitAll","resetAllToFirstState","clear","clearAll","saveData","then","data","set","loadData","isInteger","json","replace","match","cls","test"],"mappings":"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"}