/*! SifrrTabHeader v0.0.5 - sifrr project | MIT licensed | https://github.com/sifrr/sifrr-elements */
!function(t,s){"object"==typeof exports&&"undefined"!=typeof module?module.exports=s(require("@sifrr/dom")):"function"==typeof define&&define.amd?define(["@sifrr/dom"],s):(t=t||self).SifrrTabHeader=s(t.Sifrr.Dom)}(this,function(t){"use strict";function s(){const t=(e=['<style media="screen">\n  ',"\n  slot::slotted(*) {\n    ${this.options ? this.options.style : ''}\n  }\n</style>\n<slot>\n</slot>\n<div class=\"underline\"></div>"],(i=['<style media="screen">\n  ',"\n  slot::slotted(*) {\n    \\${this.options ? this.options.style : ''}\n  }\n</style>\n<slot>\n</slot>\n<div class=\"underline\"></div>"])||(i=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(i)}})));var e,i;return s=function(){return t},t}const e=(t=t&&t.hasOwnProperty("default")?t.default:t).template(s(),":host{width:100%;position:relative;overflow-x:auto;box-sizing:border-box;padding-bottom:3px}:host,slot{display:block}slot{min-width:100%}slot::slotted(*){float:left;text-align:center;vertical-align:middle;opacity:.7;cursor:pointer}slot::slotted(.active){opacity:1}slot::slotted(:hover){opacity:.9}.underline{position:absolute;bottom:0;height:3px;background:#fff}");class i extends t.Element{static get template(){return e}static observedAttrs(){return["options"]}onConnect(){this._connected=!0,this.$("slot").addEventListener("slotchange",this.refresh.bind(this,{})),this.refresh()}onAttributeChange(t,s,e){"options"===t&&(this._attrOptions=JSON.parse(e||"{}"),this._connected&&this.refresh())}refresh(t){this.options=Object.assign({content:this,slot:this.$("slot"),showUnderline:!0,line:this.$(".underline"),container:null},this.options,t,this._attrOptions),this.options.menus=this.options.slot.assignedNodes().filter(t=>1===t.nodeType),!this.options.menus||this.options.menus.length<1||(this.setProps(),this.active=this.active||0)}setProps(){if(this.options.showUnderline||(this.options.line.style.display="none"),this.setMenuProps(),this.options.container){const s=this.options.container;s.onScrollPercent=this.setScrollPercent.bind(this),t.Event.addListener("update",s,()=>this.active=s.active)}this.setScrollPercent(0)}setMenuProps(){let t=0;this.options.menuProps=[],Array.from(this.options.menus).forEach((s,e)=>{this.options.menuProps[e]={width:s.offsetWidth,left:t},t+=s.offsetWidth,s._click=()=>{this.options.container?this.options.container.active=e:this.active=e}});const s=this.options.menuProps[this.options.menus.length-1];this.options.totalMenuWidth=s.left+s.width,this.$("slot").style.width=this.options.slot.style.width=s.left+s.width+1*this.options.menuProps.length+"px"}setScrollPercent(t){const s=t%1,e=Math.floor(t),i=this.options.menuProps[e].left*(1-s)+(this.options.menuProps[e+1]||{left:0}).left*s,o=this.options.menuProps[e].width*(1-s)+(this.options.menuProps[e+1]||{width:0}).width*s;this.options.line.style.left=i+"px",this.options.line.style.width=o+"px",this.scrollLeft=i+(o-this.clientWidth)/2,0===s&&(this._active=e,this.update())}get active(){return this._active||0}set active(t){this._active=t,this.setScrollPercent(t),this.update()}onUpdate(){if(this.options){for(let t=0,s=this.options.menus.length;t<s;t++)this.options.menus[t].classList[t===this.active?"add":"remove"]("active");this.setMenuProps()}}}return t.register(i),i});
/*! (c) @aadityataparia */
