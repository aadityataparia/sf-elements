/*! SifrrTabHeader v0.0.5 - sifrr project | MIT licensed | https://github.com/sifrr/sifrr-elements */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("@sifrr/dom")):"function"==typeof define&&define.amd?define(["@sifrr/dom"],e):(t=t||self).SifrrTabHeader=e(t.Sifrr.Dom)}(this,function(t){"use strict";function e(){const t=(s=['<style media="screen">\n  ',"\n  slot::slotted(*) {\n    ${this.options ? this.options.style : ''}\n  }\n</style>\n<slot>\n</slot>\n<div class=\"underline\"></div>"],(i=['<style media="screen">\n  ',"\n  slot::slotted(*) {\n    \\${this.options ? this.options.style : ''}\n  }\n</style>\n<slot>\n</slot>\n<div class=\"underline\"></div>"])||(i=s.slice(0)),Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(i)}})));var s,i;return e=function(){return t},t}const s=(t=t&&t.hasOwnProperty("default")?t.default:t).template(e(),":host{line-height:24px;width:100%;position:relative;overflow-x:auto;box-sizing:border-box}:host,slot{display:block}slot::slotted(*){float:left;text-align:center;padding:8px;opacity:.8;cursor:pointer}slot::slotted(.active){opacity:1}slot::slotted(:hover){opacity:1}.underline{position:absolute;bottom:0;left:0;height:3px;background:#fff}");class i extends t.Element{static get template(){return s}static observedAttrs(){return["options"]}onConnect(){this._connected=!0,this.$("slot").addEventListener("slotchange",this.refresh.bind(this,{})),this.refresh()}onAttributeChange(t,e,s){"options"===t&&(this._attrOptions=JSON.parse(s||"{}"),this._connected&&this.refresh())}refresh(t={}){this.options=Object.assign({content:this,slot:this.$("slot"),showUnderline:!0,line:this.$(".underline"),container:null},this.options,t,this._attrOptions),this.options.menus=this.options.slot.assignedNodes().filter(t=>1===t.nodeType),!this.options.menus||this.options.menus.length<1||(this.setProps(),this.active=this.active||0)}setProps(){if(this.options.showUnderline||(this.options.line.style.display="none"),this.setMenuProps(),this.options.container){const e=this.options.container;e.onScrollPercent=this.setScrollPercent.bind(this),t.Event.addListener("update",e,()=>this.active=e.active)}}setMenuProps(){let t=0;this.options.menuProps=[],Array.from(this.options.menus).forEach((e,s)=>{this.options.menuProps[s]={width:e.offsetWidth,left:t},t+=e.offsetWidth,e._click=()=>{this.options.container?this.options.container.active=s:this.active=s}});const e=this.options.menuProps[this.options.menus.length-1];this.options.totalMenuWidth=e.left+e.width,this.options.slot.style.width=e.left+e.width+1*this.options.menuProps.length+"px";const s=this.options.menuProps[this.active];this.options.line.style.left=s.left+"px",this.options.line.style.width=s.width+"px",this.setScrollPercent(0)}setScrollPercent(t){const e=t%1,s=Math.floor(t),i=this.options.menuProps[s].left*(1-e)+(this.options.menuProps[s+1]||{left:0}).left*e,o=this.options.menuProps[s].width*(1-e)+(this.options.menuProps[s+1]||{width:0}).width*e;this.options.line.style.left=i+"px",this.options.line.style.width=o+"px",this.scrollLeft=i+(o-this.clientWidth)/2}get active(){return this._active||0}set active(t){this._active=t,this.setScrollPercent(t),this.update()}onUpdate(){this.options&&function(t,e,s){1===t.nodeType&&(t=t.children);for(let i=0,o=t.length;i<o;i++)i===s||t[i]===s?t[i].classList.add(e):t[i].classList.remove(e)}(this.options.menus,"active",this.active)}}return t.register(i),i});
/*! (c) @aadityataparia */
