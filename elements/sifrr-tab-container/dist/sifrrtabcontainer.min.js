/*! SifrrTabContainer v0.0.5 - sifrr project | MIT licensed | https://github.com/sifrr/sifrr-elements */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("@sifrr/dom")):"function"==typeof define&&define.amd?define(["@sifrr/dom"],e):(t=t||self).SifrrTabContainer=e(t.Sifrr.Dom)}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var e=function(t,e){return t(e={exports:{}},e.exports),e.exports}(function(t,e){
/*! sifrr-animate v0.0.3 - sifrr project | MIT licensed | https://github.com/sifrr/sifrr-animate */
t.exports=function(){const t={};var e=class{constructor(e){const i=e.join("_");return t[i]||(this.setProps(...e),t[i]=this.final.bind(this)),t[i]}setProps(t,e,i,s){let n={x1:t,y1:e,x2:i,y2:s,A:(t,e)=>1-3*e+3*t,B:(t,e)=>3*e-6*t,C:t=>3*t,CalcBezier:(t,e,i)=>((this.A(e,i)*t+this.B(e,i))*t+this.C(e))*t,GetSlope:(t,e,i)=>3*this.A(e,i)*t*t+2*this.B(e,i)*t+this.C(e)};Object.assign(this,n)}final(t){return this.x1==this.y1&&this.x2==this.y2?t:this.CalcBezier(this.GetTForX(t),this.y1,this.y2)}GetTForX(t){let e=t;for(let i=0;i<4;++i){let i=this.GetSlope(e,this.x1,this.x2);if(0==i)return e;let s=this.CalcBezier(e,this.x1,this.x2)-t;e-=s/i}return e}},i={linear:[0,0,1,1],ease:[.25,.1,.25,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1],spring:[.3642,0,.6358,1]},s=t=>new Promise(e=>setTimeout(e,t));const n=/((?:[+\-*\/]=)?-?\d+\.?\d*)/,o=new Set;window.requestAnimationFrame(function t(e){o.forEach(t=>t(e)),window.requestAnimationFrame(t)});var r=function({target:t,prop:r,from:a,to:h,time:l=300,type:c="spring",onUpdate:p,round:d=!1,delay:u=0}){const f=h.toString().split(n),b=f.length,m=[],y=[],g=[],v=(a||t[r]||"").toString().split(n),x="function"==typeof p;for(let t=0;t<b;t++){const e=Number(v[t])||0;let i=Number(f[t]);if("="===f[t][1])switch(i=Number(f[t].slice(2)),f[t][0]){case"+":i=e+i;break;case"-":i=e-i;break;case"*":i*=e;break;case"/":i=e/i}isNaN(i)||!f[t]?m.push(f[t]):(y.push(e),g.push(i-e))}const w={raw:m};return s(u).then(()=>new Promise((s,n)=>{if(i[c]&&(c=i[c]),Array.isArray(c))c=new e(c);else if("function"!=typeof c)return n(Error("type should be one of "+Object.keys(i).toString()+" or Bezier Array or Function, given "+c));let a;const h=function(e){const i=(e-(a=a||e-17))/l,u=c(i>=1?1:i),f=g.map((t,e)=>{const i=u*t+y[e];return d?Math.round(i):i}),b=String.raw(w,...f);try{t[r]=Number(b)||b,x&&p(t,r,t[r]),i>=1&&s(o.delete(h))}catch(t){o.delete(h),n(t)}};o.add(h)}))};function a({targets:t,target:e,to:i,time:s,type:n,onUpdate:o,round:a,delay:h}){t=t?Array.from(t):[e];let l=i,c=h,p=s;return Promise.all(t.map((t,e)=>("function"==typeof i&&(l=i.call(t,e)),"function"==typeof h&&(c=h.call(t,e)),"function"==typeof s&&(p=s.call(t,e)),function t(e,i,s,h){const l=[];for(let c in i){let p,d;Array.isArray(i[c])?[p,d]=i[c]:d=i[c],"object"!=typeof i[c]||Array.isArray(i[c])?l.push(r({target:e,prop:c,to:d,time:h,type:n,from:p,onUpdate:o,round:a,delay:s})):l.push(t(e[c],i[c],s,h))}return Promise.all(l)}(t,l,c,p))))}return a.types=i,a.wait=s,a.animate=a,a.keyframes=t=>{let e=Promise.resolve(!0);return t.forEach(t=>{Array.isArray(t)&&(e=e.then(()=>Promise.all(t.map(a)))),e=e.then(()=>a(t))}),e},a.loop=t=>t().then(()=>a.loop(t)),a}();
/*! (c) @aadityataparia */});function i(){const t=(e=['<style media="screen">\n  ',"\n</style>\n<style media=\"screen\">\n  .tabs {\n    width: ${this.totalWidth + 'px'};\n  }\n  .tabs::slotted(*) {\n    width: ${this.tabWidth + 'px'};\n  }\n</style>\n<slot class=\"tabs\">\n</slot>"],(s=['<style media="screen">\n  ',"\n</style>\n<style media=\"screen\">\n  .tabs {\n    width: \\${this.totalWidth + 'px'};\n  }\n  .tabs::slotted(*) {\n    width: \\${this.tabWidth + 'px'};\n  }\n</style>\n<slot class=\"tabs\">\n</slot>"])||(s=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(s)}})));var e,s;return i=function(){return t},t}const s=t.template(i(),":host{box-sizing:border-box;width:100%;position:relative;overflow-x:auto;margin:0}.tabs,:host{display:block}.tabs{min-height:1px}.tabs::slotted(*){float:left;max-height:100%;height:100%;overflow-x:hidden;overflow-y:auto;vertical-align:top;padding:8px;box-sizing:border-box}");function n(t,e,i){t instanceof HTMLElement&&(t=t.children);for(let s=0;s<t.length;s++)s!==i&&t[s]!==i?t[s].classList.remove(e):t[s].classList.add(e)}class o extends t.Element{static get template(){return s}static observedAttrs(){return["options"]}onConnect(){this._connected=!0,this.refresh(),window.addEventListener("resize",()=>requestAnimationFrame(this.refresh.bind(this))),this.options.slot.addEventListener("slotchange",this.refresh.bind(this,{})),this.setScrollEvent()}onAttributeChange(t,e,i){"options"===t&&(this._attrOptions=JSON.parse(i||"{}"),this._connected&&this.refresh())}refresh(t={}){this.options=Object.assign({content:this,slot:this.$("slot"),num:1,animation:"spring",animationTime:300,scrollBreakpoint:.3,loop:!1},this.options,t,this._attrOptions),this.options.tabs=this.options.tabs||this.options.slot.assignedNodes().filter(t=>1===t.nodeType),!this.options.tabs||this.options.tabs.length<1||(this.tabWidth=this.clientWidth/this.options.num,this.totalWidth=this.tabWidth*this.options.tabs.length,this.active="number"==typeof this._active?this._active:0)}setScrollEvent(){let t,e,i=this;this.options.content.addEventListener("scroll",function(){e=i.active;const s=i.options.content.scrollLeft/i.tabWidth,n=Math.round(s);i.onScrollPercent(s),clearTimeout(t),t=setTimeout(function(){s-e<-i.options.scrollBreakpoint?i.active=Math.min(n,e-1):s-e>+i.options.scrollBreakpoint?i.active=Math.min(n,e+1):i.active=e},100)})}onScrollPercent(){}get active(){return this._active}set active(t){this._active=this.getTabNumber(t),this.update()}beforeUpdate(){if(!this.options)return;const t=this._active;e({target:this.options.content,to:{scrollLeft:t*this.tabWidth},time:this.options.animationTime,type:"none"===this.options.animation?()=>1:this.options.animation}),n(this.options.tabs,"active",t),n(this.options.tabs,"prev",this.getTabNumber(t-1)),n(this.options.tabs,"next",this.getTabNumber(t+1))}next(){this.active+=1}hasNext(){return this.active!==this.options.tabs.length-this.options.num}prev(){this.active-=1}hasPrev(){return 0!==this.active}getTabNumber(t){const e=this.options.tabs.length;if(e<1)return 0;const i=this.options.num;return(t=t<0?t+e:t%e)+i-1>=e&&(t=this.options.loop?t%e:e-i),t}}return t.register(o),o});
/*! (c) @aadityataparia */
