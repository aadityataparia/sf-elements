/*! SifrrTabContainer v0.0.5 - sifrr project | MIT licensed | https://github.com/sifrr/sifrr-elements */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("@sifrr/dom")):"function"==typeof define&&define.amd?define(["@sifrr/dom"],e):(t=t||self).SifrrTabContainer=e(t.Sifrr.Dom)}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var e=function(t,e){return t(e={exports:{}},e.exports),e.exports}(function(t,e){
/*! Sifrr.animate v0.0.2 - sifrr project | MIT licensed | https://github.com/sifrr/sifrr-elements */
t.exports=function(){const t={};var e=class{constructor(e){const i=e.join("_");return t[i]||(this.setProps(...e),t[i]=this.final.bind(this)),t[i]}setProps(t,e,i,s){let n={x1:t,y1:e,x2:i,y2:s,A:(t,e)=>1-3*e+3*t,B:(t,e)=>3*e-6*t,C:t=>3*t,CalcBezier:(t,e,i)=>((this.A(e,i)*t+this.B(e,i))*t+this.C(e))*t,GetSlope:(t,e,i)=>3*this.A(e,i)*t*t+2*this.B(e,i)*t+this.C(e)};Object.assign(this,n)}final(t){return this.x1==this.y1&&this.x2==this.y2?t:this.CalcBezier(this.GetTForX(t),this.y1,this.y2)}GetTForX(t){let e=t;for(let i=0;i<4;++i){let i=this.GetSlope(e,this.x1,this.x2);if(0==i)return e;let s=this.CalcBezier(e,this.x1,this.x2)-t;e-=s/i}return e}},i={linear:[0,0,1,1],ease:[.25,.1,.25,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1]},s=t=>new Promise(e=>setTimeout(e,t));const n=/(\d+\.?\d*)/,o=new Set;window.requestAnimationFrame(function t(e){o.forEach(t=>t(e)),window.requestAnimationFrame(t)});var r=function({target:t,prop:r,from:a,to:h,time:l=300,type:p="ease",onUpdate:c,round:u=!1,delay:d=0}){const f=h.toString().split(n),b=f.length,m=[],g=[],v=[],y=(a||t[r]||"").toString().split(n),w="function"==typeof c;for(let t=0;t<b;t++){const e=Number(f[t]);isNaN(e)||!f[t]?m.push(f[t]):(g.push(Number(y[t])||0),v.push(e-(Number(y[t])||0)))}const x={raw:m};return s(d).then(()=>new Promise((s,n)=>{if(i[p])p=new e(i[p]);else if(Array.isArray(p))p=new e(p);else if("function"!=typeof p)return n(Error("type should be one of "+Object.keys(i).toString()+" or Bezier Array or Function, given "+p));let a=performance.now();const h=function(e){const i=(e-a)/l,d=p(i>=1?1:i),f=v.map((t,e)=>{const i=d*t+g[e];return u?Math.round(i):i}),b=String.raw(x,...f);try{t[r]=Number(b)||b,w&&c(t,r,t[r]),i>=1&&s(o.delete(h))}catch(t){o.delete(h),n(t)}};o.add(h)}))};function a({targets:t,target:e,to:i,time:s,type:n,onUpdate:o,round:a,delay:h}){t=t?Array.from(t):[e];let l=i,p=h,c=s;return Promise.all(t.map((t,e)=>("function"==typeof i&&(l=i(e)),"function"==typeof h&&(p=h(e)),"function"==typeof s&&(c=s(e)),function t(e,i,s,h){const l=[];for(let p in i){let c,u;Array.isArray(i[p])?[c,u]=i[p]:u=i[p],"object"!=typeof i[p]||Array.isArray(i[p])?l.push(r({target:e,prop:p,to:u,time:h,type:n,from:c,onUpdate:o,round:a,delay:s})):l.push(t(e[p],i[p],s,h))}return Promise.all(l)}(t,l,p,c))))}return a.types=i,a.wait=s,a.animate=a,a}();
/*! (c) @aadityataparia */});function i(){const t=(e=['<style media="screen">\n  ',"\n</style>\n<style>\n  .tabs {\n    height: ${this.options ? this.options.tabHeight : 'auto'};\n    width: ${this.totalWidth + 'px'};\n  }\n  .tabs *::slotted([slot=\"tab\"]) {\n    width: ${this.tabWidth + 'px'};\n    margin: 0 ${this.options ? this.options.arrowMargin + 'px' : 0};\n  }\n</style>\n<div class=\"tabs\">\n  <slot>\n  </slot>\n</div>"],(s=['<style media="screen">\n  ',"\n</style>\n<style>\n  .tabs {\n    height: \\${this.options ? this.options.tabHeight : 'auto'};\n    width: \\${this.totalWidth + 'px'};\n  }\n  .tabs *::slotted([slot=\"tab\"]) {\n    width: \\${this.tabWidth + 'px'};\n    margin: 0 \\${this.options ? this.options.arrowMargin + 'px' : 0};\n  }\n</style>\n<div class=\"tabs\">\n  <slot>\n  </slot>\n</div>"])||(s=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(s)}})));var e,s;return i=function(){return t},t}const s=t.template(i(),":host{box-sizing:border-box;width:100%;display:block;position:relative;overflow-x:auto;margin:0}.tabs{min-height:1px}.tabs ::slotted([slot=tab]){float:left;max-height:100%;height:100%;overflow-x:hidden;overflow-y:auto;vertical-align:top;padding:8px;box-sizing:border-box}");function n(t,e,i){t instanceof HTMLElement&&(t=t.children);for(let s=0;s<t.length;s++)s!==i&&t[s]!==i?t[s].classList.remove(e):t[s].classList.add(e)}class o extends t.Element{static get template(){return s}static observedAttrs(){return["options"]}onConnect(){this._connected=!0,this.refresh(),this.setWindowResizeEvent(),this.setSlotChangeEvent(),this.setScrollEvent()}onAttributeChange(t,e,i){"options"===t&&(this._attrOptions=JSON.parse(i||"{}"),this._connected&&this.refresh())}refresh(){this.options=Object.assign({menu:this.$(".headings ul"),content:this.$(".content"),tabcontainer:this.$(".tabs"),tabs:this.$("slot[name=tab]").assignedNodes(),num:1,tabHeight:"auto",loop:!1,animation:"ease",animationTime:300,scrollBreakpoint:.2},this._attrOptions),!this.options.tabs||this.options.tabs.length<1||(this.usableWidth=this.clientWidth,this.totalWidth=this.usableWidth/this.options.num*this.options.tabs.length,this.usableWidth-=2*this.options.arrowMargin,this.tabWidth=this.usableWidth/this.options.num,this.setProps(),this.update(),this.active=this.active||0)}setScrollEvent(){let t,e,i=this;function s(){e=i.active;const s=i.options.content.scrollLeft/i.tabWidth,n=Math.floor(s);clearTimeout(t),t=setTimeout(function(){s-e<-i.options.scrollBreakpoint?i.active=n:s-e>+i.options.scrollBreakpoint?i.active=n+1:i.active=e},100)}this.options.content.onscroll=()=>requestAnimationFrame(s)}setWindowResizeEvent(){window.addEventListener("resize",()=>requestAnimationFrame(this.refresh.bind(this)))}setSlotChangeEvent(){const t=this;this.$$("slot")[0].addEventListener("slotchange",()=>{t.options.tabs=t.$$("slot")[1].assignedNodes(),t.refresh()})}get active(){return this.state?this.state.active:0}set active(t){this.state={active:t}}beforeUpdate(){if(!this.options)return;let t=this.state.active;if(t=this.getTabNumber(t),!isNaN(t)&&t!==this.state.active)return this.active=t;e({target:this.options.content,to:{scrollLeft:t*(this.tabWidth+2*this.options.arrowMargin)},time:this.options.animationTime,type:"none"===this.options.animation?()=>1:this.options.animation}),n(this.options.tabs,"active",t),n(this.options.tabs,"prev",this.getTabNumber(t-1)),n(this.options.tabs,"next",this.getTabNumber(t+1))}next(){this.active=this.state.active+this.options.step}hasNext(){return this.active!==this.options.tabs.length-this.options.num}prev(){this.active=this.state.active-this.options.step}hasPrev(){return 0!==this.active}getTabNumber(t){const e=this.options.tabs.length,i=this.options.num;return(t=t<0?t+e:t%e)+i-1>=e&&(t=this.options.loop?0:e-i),t}}return o.defaultState={active:0},t.register(o),o});
/*! (c) @aadityataparia */
