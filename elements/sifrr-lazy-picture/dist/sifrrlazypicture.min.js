/*! SifrrLazyPicture v0.0.5 - sifrr project | MIT licensed | https://github.com/sifrr/sifrr-elements */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@sifrr/dom")):"function"==typeof define&&define.amd?define(["@sifrr/dom"],t):(e=e||self).SifrrLazyPicture=t(e.Sifrr.Dom)}(this,function(e){"use strict";function t(e,t){e.dataset[t]&&(e.setAttribute(t,e.dataset[t]),e.removeAttribute("data-".concat(t)))}function r(e){e.forEach(e=>{e.isIntersecting&&!e.target._loaded&&(e.target._loaded=!0,e.target.beforeLoad&&e.target.beforeLoad(),function(e){if("PICTURE"===e.tagName)e.querySelectorAll("source").forEach(e=>{t(e,"src"),t(e,"srcset")}),e=e.querySelector("img");else if("IMG"!==e.tagName)throw Error("LazyLoader only supports `picture` or `img` element. Given: ",e);t(e,"src"),t(e,"srcset")}(e.target),this.unobserve(e.target),e.target.afterLoad&&e.target.afterLoad())})}e=e&&e.hasOwnProperty("default")?e.default:e;class o extends window.IntersectionObserver{constructor(e="0px 0px 0px 0px"){super(r,{rootMargin:e})}}o.prototype._observe=o.prototype.observe,o.prototype.observe=function(e){e._loaded=!1,this._observe(e)};class s extends(e.Element.extends(HTMLPictureElement)){static get observer(){return this._observer=this._observer||new o(this.rootMargin),this._observer}onConnect(){this.reload()}reload(){this.constructor.observer.observe(this)}onDisconnect(){this.constructor.observer.unobserve(this)}}return s.rootMargin="0px 0px 50px 0px",e.register(s,{extends:"picture"}),s});
/*! (c) @aadityataparia */
