/*! SifrrLazyPicture v0.0.4 - sifrr project | MIT licensed | https://github.com/sifrr/sifrr-elements */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@sifrr/dom")):"function"==typeof define&&define.amd?define(["@sifrr/dom"],t):(e=e||self).SifrrLazyPicture=t(e.Sifrr.Dom)}(this,function(e){"use strict";function t(e,t){e.dataset[t]&&(e.setAttribute(t,e.dataset[t]),e.removeAttribute("data-".concat(t)))}e=e&&e.hasOwnProperty("default")?e.default:e;class r extends(Sifrr.Dom.Element.extends(HTMLPictureElement)){static get observer(){return this._observer=this._observer||new IntersectionObserver(this.onVisible,{rootMargin:this.rootMargin}),this._observer}static onVisible(e){e.forEach(e=>{e.isIntersecting&&!e.target._loaded&&(e.target._loaded=!0,e.target.beforeLoad(),function(e){e.$$("source",!1).forEach(e=>{t(e,"srcset")});const r=e.$("img",!1);t(r,"src"),t(r,"srcset")}(e.target),this.unobserve(e.target),e.target.afterLoad())})}onConnect(){this.reload()}reload(){this._loaded=!1,this.constructor.observer.observe(this)}beforeLoad(){}afterLoad(){}onDisconnect(){this.constructor.observer.unobserve(this)}}return r.rootMargin="0px 0px 200px 0px",e.register(r,{extends:"picture"}),r});
/*! (c) @aadityataparia */
