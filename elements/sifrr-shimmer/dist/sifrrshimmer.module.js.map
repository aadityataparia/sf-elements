{"version":3,"file":"sifrrshimmer.module.js","sources":["../src/sifrrshimmer.js"],"sourcesContent":["import SifrrDom from '@sifrr/dom';\n\nimport style from './style.css';\n\nconst properStyle = style.replace(/\"(\\${[^\"]*})\"/g, '$1');\n\nfunction rgbToHsl(r = 0, g = 0, b = 0) {\n  (r /= 255), (g /= 255), (b /= 255);\n  let max = Math.max(r, g, b),\n    min = Math.min(r, g, b);\n  let h,\n    s,\n    l = (max + min) / 2;\n\n  if (max == min) {\n    h = s = 0; // achromatic\n  } else {\n    let d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n    }\n    h /= 6;\n  }\n\n  return [h, s, l];\n}\n\nclass SifrrShimmer extends SifrrDom.Element {\n  static syncedAttrs() {\n    return ['color', 'bg-color', 'fg-color'];\n  }\n\n  static get template() {\n    return SifrrDom.template(`<style>${properStyle}</style>`);\n  }\n\n  get bgColor() {\n    return this['bg-color'] || this.colora(0.15);\n  }\n\n  get fgColor() {\n    return this['fg-color'] || this.colora(0);\n  }\n\n  colora(point) {\n    const hsl = rgbToHsl(\n      ...(this.color || '170, 170, 170')\n        .replace(/ /g, '')\n        .split(',')\n        .map(Number)\n    );\n    const l = Math.min(hsl[2] + (this.isLight() ? point : -1 * point), 1);\n    return `hsl(${hsl[0] * 359}, ${hsl[1] * 100}%, ${l * 100}%)`;\n  }\n\n  isLight() {\n    return this.hasAttribute('light');\n  }\n}\n\nSifrrDom.register(SifrrShimmer);\n\nexport default SifrrShimmer;\n"],"names":["style"],"mappings":";;;;;AAIA,MAAM,WAAW,GAAGA,GAAK,CAAC,OAAO,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC;AAE1D,SAAS,QAAQ,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE;EACrC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;EACnC,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACzB,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;EAC1B,IAAI,CAAC;IACH,CAAC;IACD,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC;EAEtB,IAAI,GAAG,IAAI,GAAG,EAAE;IACd,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;GACX,MAAM;IACL,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC;IAClB,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC;IACpD,QAAQ,GAAG;MACT,KAAK,CAAC;QACJ,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QAClC,MAAM;MACR,KAAK,CAAC;QACJ,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACpB,MAAM;MACR,KAAK,CAAC;QACJ,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACpB,MAAM;KACT;IACD,CAAC,IAAI,CAAC,CAAC;GACR;EAED,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CAClB;AAED,MAAM,YAAY,SAAS,QAAQ,CAAC,OAAO,CAAC;EAC1C,OAAO,WAAW,GAAG;IACnB,OAAO,CAAC,OAAO,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC;GAC1C;EAED,WAAW,QAAQ,GAAG;IACpB,OAAO,QAAQ,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC;GAC3D;EAED,IAAI,OAAO,GAAG;IACZ,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;GAC9C;EAED,IAAI,OAAO,GAAG;IACZ,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;GAC3C;EAED,MAAM,CAAC,KAAK,EAAE;IACZ,MAAM,GAAG,GAAG,QAAQ;MAClB,GAAG,CAAC,IAAI,CAAC,KAAK,IAAI,eAAe;SAC9B,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;SACjB,KAAK,CAAC,GAAG,CAAC;SACV,GAAG,CAAC,MAAM,CAAC;KACf,CAAC;IACF,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,EAAE,GAAG,KAAK,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;IACtE,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,EAAE,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC;GAC9D;EAED,OAAO,GAAG;IACR,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;GACnC;CACF;AAED,QAAQ,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;;;;;;;"}