/*! Sifrr.Elements v0.0.5 - sifrr project | MIT licensed | https://github.com/sifrr/sifrr-elements */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@sifrr/dom"),require("@sifrr/storage")):"function"==typeof define&&define.amd?define(["exports","@sifrr/dom","@sifrr/storage"],e):e(((t=t||self).Sifrr=t.Sifrr||{},t.Sifrr.Elements={}),t.Sifrr.Dom,t.Sifrr.Storage)}(this,function(t,e,s){"use strict";function i(t,e){t.dataset[e]&&(t.setAttribute(e,t.dataset[e]),t.removeAttribute("data-".concat(e)))}function a(t){t.forEach(t=>{t.isIntersecting&&!t.target._loaded&&(t.target._loaded=!0,t.target.beforeLoad&&t.target.beforeLoad(),function(t){if("PICTURE"===t.tagName)t.querySelectorAll("source").forEach(t=>{i(t,"src"),i(t,"srcset")}),t=t.querySelector("img");else if("IMG"!==t.tagName)throw Error("LazyLoader only supports `picture` or `img` element. Given: ",t);i(t,"src"),i(t,"srcset")}(t.target),this.unobserve(t.target),t.target.afterLoad&&t.target.afterLoad())})}e=e&&e.hasOwnProperty("default")?e.default:e,s=s&&s.hasOwnProperty("default")?s.default:s;class n extends window.IntersectionObserver{constructor(t="0px 0px 0px 0px"){super(a,{rootMargin:t})}}n.prototype._observe=n.prototype.observe,n.prototype.observe=function(t){t._loaded=!1,this._observe(t)};var o=n;class r extends(e.Element.extends(HTMLImageElement)){static get observer(){return this._observer=this._observer||new o(this.rootMargin),this._observer}onConnect(){this.reload()}reload(){this.constructor.observer.observe(this)}onDisconnect(){this.constructor.observer.unobserve(this)}}r.rootMargin="0px 0px 50px 0px",e.register(r,{extends:"img"});class l extends(e.Element.extends(HTMLPictureElement)){static get observer(){return this._observer=this._observer||new o(this.rootMargin),this._observer}onConnect(){this.reload()}reload(){this.constructor.observer.observe(this)}onDisconnect(){this.constructor.observer.unobserve(this)}}function h(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}l.rootMargin="0px 0px 50px 0px",e.register(l,{extends:"picture"});function c(){const t=h(['<style media="screen">\n  ',"\n  slot::slotted(*) {\n    ${this.options ? this.options.style : ''}\n  }\n  :host {\n    padding-bottom: ${this.options && this.options.showUnderline ? '3px' : '0'};\n  }\n</style>\n<slot>\n</slot>\n<div class=\"underline\"></div>"],['<style media="screen">\n  ',"\n  slot::slotted(*) {\n    \\${this.options ? this.options.style : ''}\n  }\n  :host {\n    padding-bottom: \\${this.options && this.options.showUnderline ? '3px' : '0'};\n  }\n</style>\n<slot>\n</slot>\n<div class=\"underline\"></div>"]);return c=function(){return t},t}const d=e.template(c(),":host{width:100%;position:relative;overflow-x:auto;box-sizing:border-box}:host,slot{display:block}slot{min-width:100%}slot::slotted(*){float:left;text-align:center;vertical-align:middle;opacity:.7;cursor:pointer}slot::slotted(.active){opacity:1}slot::slotted(:hover){opacity:.9}.underline{position:absolute;bottom:0;height:3px;background:#fff}");class u extends e.Element{static get template(){return d}static observedAttrs(){return["options"]}onConnect(){this._connected=!0,this.$("slot").addEventListener("slotchange",this.refresh.bind(this,{})),this.refresh()}onAttributeChange(t,e,s){"options"===t&&(this._attrOptions=JSON.parse(s||"{}"),this._connected&&this.refresh())}refresh(t){this._options=Object.assign({content:this,slot:this.$("slot"),showUnderline:!0,line:this.$(".underline"),container:null},this._options,t),this.options=Object.assign({},this._options,this._attrOptions),this.options.menus=this.options.slot.assignedNodes().filter(t=>1===t.nodeType),!this.options.menus||this.options.menus.length<1||(this.setProps(),this.active=this.active||0)}setProps(){if(this.options.showUnderline||(this.options.line.style.display="none"),this.setMenuProps(),this.options.container){const t=this.options.container;t.onScrollPercent=this.setScrollPercent.bind(this),e.Event.addListener("update",t,()=>this.active=t.active)}this.setScrollPercent(0)}setMenuProps(){let t=0;this.options.menuProps=[],Array.from(this.options.menus).forEach((e,s)=>{const i=e.getBoundingClientRect().width;this.options.menuProps[s]={width:i,left:t},t+=i,e._click=()=>{this.options.container?this.options.container.active=s:this.active=s}});const e=this.options.menuProps[this.options.menus.length-1];this.options.totalMenuWidth=e.left+e.width,this.$("slot").style.width=this.options.slot.style.width=this.options.totalMenuWidth+1+"px"}setScrollPercent(t){const e=t%1,s=Math.floor(t),i=this.options.menuProps[s].left*(1-e)+(this.options.menuProps[s+1]||{left:0}).left*e,a=this.options.menuProps[s].width*(1-e)+(this.options.menuProps[s+1]||{width:0}).width*e;this.options.line.style.left=i+"px",this.options.line.style.width=a+"px",this.scrollLeft=i+(a-this.clientWidth)/2,0===e&&(this._active=s,this.update())}get active(){return this._active||0}set active(t){this._active=t,this.setScrollPercent(t),this.update()}onUpdate(){if(this.options)for(let t=0,e=this.options.menus.length;t<e;t++)this.options.menus[t].classList[t===this.active?"add":"remove"]("active")}}e.register(u);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var p=function(t,e){return t(e={exports:{}},e.exports),e.exports}(function(t,e){
/*! sifrr-animate v0.0.3 - sifrr project | MIT licensed | https://github.com/sifrr/sifrr-animate */
t.exports=function(){const t={};var e=class{constructor(e){const s=e.join("_");return t[s]||(this.setProps(...e),t[s]=this.final.bind(this)),t[s]}setProps(t,e,s,i){let a={x1:t,y1:e,x2:s,y2:i,A:(t,e)=>1-3*e+3*t,B:(t,e)=>3*e-6*t,C:t=>3*t,CalcBezier:(t,e,s)=>((this.A(e,s)*t+this.B(e,s))*t+this.C(e))*t,GetSlope:(t,e,s)=>3*this.A(e,s)*t*t+2*this.B(e,s)*t+this.C(e)};Object.assign(this,a)}final(t){return this.x1==this.y1&&this.x2==this.y2?t:this.CalcBezier(this.GetTForX(t),this.y1,this.y2)}GetTForX(t){let e=t;for(let s=0;s<4;++s){let s=this.GetSlope(e,this.x1,this.x2);if(0==s)return e;let i=this.CalcBezier(e,this.x1,this.x2)-t;e-=i/s}return e}},s={linear:[0,0,1,1],ease:[.25,.1,.25,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1],spring:[.3642,0,.6358,1]},i=t=>new Promise(e=>setTimeout(e,t));const a=/((?:[+\-*\/]=)?-?\d+\.?\d*)/,n=new Set;window.requestAnimationFrame(function t(e){n.forEach(t=>t(e)),window.requestAnimationFrame(t)});var o=function({target:t,prop:o,from:r,to:l,time:h=300,type:c="spring",onUpdate:d,round:u=!1,delay:p=0}){const m=l.toString().split(a),f=m.length,g=[],b=[],v=[],w=(r||t[o]||"").toString().split(a),x="function"==typeof d;for(let t=0;t<f;t++){const e=Number(w[t])||0;let s=Number(m[t]);if("="===m[t][1])switch(s=Number(m[t].slice(2)),m[t][0]){case"+":s=e+s;break;case"-":s=e-s;break;case"*":s*=e;break;case"/":s=e/s}isNaN(s)||!m[t]?g.push(m[t]):(b.push(e),v.push(s-e))}const y={raw:g};return i(p).then(()=>new Promise((i,a)=>{if(s[c]&&(c=s[c]),Array.isArray(c))c=new e(c);else if("function"!=typeof c)return a(Error("type should be one of "+Object.keys(s).toString()+" or Bezier Array or Function, given "+c));let r;const l=function(e){const s=(e-(r=r||e-17))/h,p=c(s>=1?1:s),m=v.map((t,e)=>{const s=p*t+b[e];return u?Math.round(s):s}),f=String.raw(y,...m);try{t[o]=Number(f)||f,x&&d(t,o,t[o]),s>=1&&i(n.delete(l))}catch(t){n.delete(l),a(t)}};n.add(l)}))};function r({targets:t,target:e,to:s,time:i,type:a,onUpdate:n,round:r,delay:l}){t=t?Array.from(t):[e];let h=s,c=l,d=i;return Promise.all(t.map((t,e)=>("function"==typeof s&&(h=s.call(t,e)),"function"==typeof l&&(c=l.call(t,e)),"function"==typeof i&&(d=i.call(t,e)),function t(e,s,i,l){const h=[];for(let c in s){let d,u;Array.isArray(s[c])?[d,u]=s[c]:u=s[c],"object"!=typeof s[c]||Array.isArray(s[c])?h.push(o({target:e,prop:c,to:u,time:l,type:a,from:d,onUpdate:n,round:r,delay:i})):h.push(t(e[c],s[c],i,l))}return Promise.all(h)}(t,h,c,d))))}return r.types=s,r.wait=i,r.animate=r,r.keyframes=t=>{let e=Promise.resolve(!0);return t.forEach(t=>{Array.isArray(t)&&(e=e.then(()=>Promise.all(t.map(r)))),e=e.then(()=>r(t))}),e},r.loop=t=>t().then(()=>r.loop(t)),r}();
/*! (c) @aadityataparia */});function m(){const t=h(['<style media="screen">\n  ','\n</style>\n<style media="screen">\n  .tabs {\n    width: ${this.totalWidth};\n  }\n  .tabs::slotted(*) {\n    width: ${this.tabWidth};\n  }\n</style>\n<slot class="tabs">\n</slot>'],['<style media="screen">\n  ','\n</style>\n<style media="screen">\n  .tabs {\n    width: \\${this.totalWidth};\n  }\n  .tabs::slotted(*) {\n    width: \\${this.tabWidth};\n  }\n</style>\n<slot class="tabs">\n</slot>']);return m=function(){return t},t}const f=e.template(m(),":host{box-sizing:border-box;width:100%;position:relative;overflow-x:auto;margin:0}.tabs,:host{display:block}.tabs{min-height:1px}.tabs::slotted(*){float:left;max-height:100%;height:100%;overflow-x:hidden;overflow-y:auto;vertical-align:middle;box-sizing:border-box}");class g extends e.Element{static get template(){return f}static observedAttrs(){return["options"]}onConnect(){this._connected=!0,this.refresh(),window.addEventListener("resize",()=>requestAnimationFrame(this.refresh.bind(this))),this.options.slot.addEventListener("slotchange",this.refresh.bind(this,{})),this.setScrollEvent()}onAttributeChange(t,e,s){"options"===t&&(this._attrOptions=JSON.parse(s||"{}"),this._connected&&this.refresh())}refresh(t){this._options=Object.assign({content:this,slot:this.$("slot"),num:1,animation:"spring",animationTime:300,scrollBreakpoint:.3,loop:!1},this._options,t),this.options=Object.assign({},this._options,this._attrOptions),this.options.tabs=this.options.slot.assignedNodes().filter(t=>1===t.nodeType),this.total=this.options.tabs.length,!this.options.tabs||this.options.tabs.length<1||("auto"===this.options.num?(this.tabWidth="auto",this._totalWidth=this.options.tabs.reduce((t,e)=>t+e.getBoundingClientRect().width,0),this.totalWidth=this._totalWidth+"px"):(this._tabWidth=this.getBoundingClientRect().width/this.options.num,this.tabWidth=this._tabWidth+"px",this._totalWidth=this._tabWidth*this.options.tabs.length,this.totalWidth=this._totalWidth+"px",this.active="number"==typeof this._active?this._active:0))}setScrollEvent(){let t,e,s=this;"auto"!==this.options.num&&this.options.content.addEventListener("scroll",function(){e=s.active;const i=s.options.content.scrollLeft/s._tabWidth,a=Math.round(i);s.onScrollPercent(i),clearTimeout(t),t=setTimeout(function(){i-e<-s.options.scrollBreakpoint?s.active=Math.min(a,e-1):i-e>+s.options.scrollBreakpoint?s.active=Math.max(a,e+1):s.active=e},50)})}onScrollPercent(){}get active(){return this._active}set active(t){this._active=this.getTabNumber(t),this.update()}onUpdate(){if(!this.options||"auto"===this.options.num)return;const t=this._active;p({target:this.options.content,to:{scrollLeft:t*this._tabWidth},time:this.options.animationTime,type:"none"===this.options.animation?()=>1:this.options.animation});for(let e=0,s=this.options.tabs.length;e<s;e++){const s=this.options.tabs[e];e===t?(s.onActive&&!s.classList.contains("active")&&s.onActive(),s.classList.add("active")):(s.onInactive&&s.classList.contains("active")&&s.onInactive(),s.classList.remove("active"))}}next(){"auto"===this.options.num?this.options.content.scrollLeft+=this._totalWidth/2:this.active+=1}hasNext(){return this.active!==this.options.tabs.length-this.options.num}prev(){"auto"===this.options.num?this.options.content.scrollLeft-=this._totalWidth/2:this.active-=1}hasPrev(){return 0!==this.active}getTabNumber(t){const e=this.options.tabs.length;if(e<1)return 0;const s=this.options.num;return(t=t<0?t+e:t%e)+s-1>=e&&(t=this.options.loop?t%e:e-s),t}}e.register(g);function b(){const t=h(["<style>\n  ",'\n</style>\n<div id="showHide" _click=${this.showHide}></div>\n<sifrr-tab-header style=\'background: blue; color: white\' data-sifrr-html="true">\n  ${ this.headingHtml() }\n</sifrr-tab-header>\n<sifrr-tab-container style=\'height: calc(100vh - 132px)\' data-sifrr-html="true">\n  ${ this.stateHtml() }\n</sifrr-tab-container>\n<footer>\n  <input _keyup=${this.addTargetOnEnter} id="addTargetInput" type="text" name="addTargetInput" value="" placeholder="Enter css selector query of target">\n  <button _click=${this.addTarget} class="btn3" type="button" name="addTargetButton">Add Taget</button>\n  <button _click=${this.commitAll} class="btn3" type="button" name="commitAll">Commit All</button>\n  <button _click=${this.resetAllToFirstState} class="btn3" type="button" name="resetAll">Reset All</button>\n  <button _click=${this.saveData} class="btn3" type="button" name="saveData">Save Data</button>\n  <button _click=${this.loadData} class="btn3" type="button" name="loadData">Load Data</button>\n  <button _click=${this.clearAll} class="btn3" type="button" name="clearAll">Remove All</button>\n</footer>'],["<style>\n  ",'\n</style>\n<div id="showHide" _click=\\${this.showHide}></div>\n<sifrr-tab-header style=\'background: blue; color: white\' data-sifrr-html="true">\n  \\${ this.headingHtml() }\n</sifrr-tab-header>\n<sifrr-tab-container style=\'height: calc(100vh - 132px)\' data-sifrr-html="true">\n  \\${ this.stateHtml() }\n</sifrr-tab-container>\n<footer>\n  <input _keyup=\\${this.addTargetOnEnter} id="addTargetInput" type="text" name="addTargetInput" value="" placeholder="Enter css selector query of target">\n  <button _click=\\${this.addTarget} class="btn3" type="button" name="addTargetButton">Add Taget</button>\n  <button _click=\\${this.commitAll} class="btn3" type="button" name="commitAll">Commit All</button>\n  <button _click=\\${this.resetAllToFirstState} class="btn3" type="button" name="resetAll">Reset All</button>\n  <button _click=\\${this.saveData} class="btn3" type="button" name="saveData">Save Data</button>\n  <button _click=\\${this.loadData} class="btn3" type="button" name="loadData">Load Data</button>\n  <button _click=\\${this.clearAll} class="btn3" type="button" name="clearAll">Remove All</button>\n</footer>']);return b=function(){return t},t}const v=e.template(b(),':host{position:fixed;right:0;top:0;bottom:0;height:100%;max-width:100%;width:320px;z-index:1000;background-color:rgba(0,0,0,.8);transform:translate3d(100%,0,0);transition:all .2s ease}:host(.show){transform:translateZ(0)}*{box-sizing:border-box}#showHide{position:fixed;left:-30px;top:0;bottom:0;width:30px;height:30px;margin-top:5px;background-color:#00f;z-index:2}.stateContainer{padding-left:10px;margin-left:10px;border-left:1px solid #fff;position:relative}.stateContainer.off{opacity:.5}.stateContainer .dotC{position:absolute;top:0;left:-10px;width:20px;height:100%;cursor:pointer}.stateContainer .dotC .dot{position:absolute;top:50%;left:10px;width:10px;height:10px;transform:translate3d(-50%,-50%,0);background-color:#fff;border-radius:50%}.stateContainer .delete{position:absolute;top:0;right:0;padding:4px;background-color:rgba(0,0,0,.7);color:#fff;cursor:pointer}.state{white-space:pre-wrap;max-height:90px;overflow:hidden;background-color:hsla(0,0%,100%,.97);padding:5px;margin-bottom:5px;position:relative;cursor:pointer}.state:hover:after{content:"\\\\\\/";position:absolute;bottom:0;left:0;width:100%;background-color:rgba(0,0,0,.7);text-align:center;color:#fff}.state.open{max-height:none}.state.open:hover:after{content:"\\/\\\\"}.key{color:red}.string{color:green}.boolean,.null,.number{color:#00f}footer{position:absolute;bottom:0}input{width:calc(100% - 6px)}.btn3,input{margin:3px;padding:3px}.btn3{width:calc(33% - 8px);background:#fff}');e.Event.add("click"),e.Event.add("keyup");class w extends e.Element{static get template(){return v}onConnect(){let t=this;this.storage=new s({name:"sifrr-stater"+window.location.href}),e.Event.addListener("click",".state",function(t,e){e.classList.contains("open")?e.classList.remove("open"):e.classList.add("open")}),e.Event.addListener("click",".dotC",function(e,s,i){t.toState(parseInt(i.dataset.target),parseInt(i.dataset.stateIndex))}),e.Event.addListener("click",".delete",function(e,s){t.deleteState(parseInt(s.dataset.target),parseInt(s.dataset.stateIndex))}),e.Event.addListener("click",".commit",function(e,s){const i=parseInt(s.parentNode.dataset.target);t.commit(i)}),e.Event.addListener("click",".reset",function(e,s){const i=parseInt(s.parentNode.dataset.target);t.resetToFirstState(i)}),e.Event.addListener("click",".remove",function(e,s){const i=parseInt(s.parentNode.dataset.target);t.removeTarget(i)})}showHide(){this.classList.contains("show")?this.classList.remove("show"):this.classList.add("show")}addTargetOnEnter(t){"Enter"===t.key&&this.addTarget()}headingHtml(){return this.state.queries.map(t=>"<span>".concat(t,"</span>")).join("")}stateHtml(){let t=this;return this.state.states.map((e,s)=>'<div data-target="'.concat(s,'">\n      <button class="btn3 commit" type="button" name="commit">Commit</button>\n      <button class="btn3 reset" type="button" name="reset">Reset</button>\n      <button class="btn3 remove" type="button" name="remove">Remove</button>\n      ').concat(e.map((e,i)=>'<div class="stateContainer '.concat(i<=t.state.activeStates[s]?"on":"off",'">\n                           <div class="dotC" data-target="').concat(s,'" data-state-index="').concat(i,'"><div class="dot"></div></div>\n                           <div class="state">').concat(w.prettyJSON(e),'</div>\n                           <div class="delete" data-target="').concat(s,'" data-state-index="').concat(i,'">X</div>\n                           </div>')).join(""),"</div>")).join("")}addTarget(t){"string"!=typeof t&&(t=this.$("#addTargetInput").value);let e=window.document.querySelector(t);if(!e.isSifrr)return window.console.log("Invalid Sifrr Element.",e),!1;if(!e.state)return window.console.log("Sifrr Element has no state.",e),!1;const s=e.onStateChange,i=this;e.onStateChange=function(){i.addState(this,this.state),s.call(this)};let a=this.state.targets.indexOf(e);a>-1||(this.state.targets.push(e),this.state.queries.push(t),a=this.state.targets.indexOf(e),this.state.states[a]=[JSON.parse(JSON.stringify(e.state))],this.state.activeStates[a]=0,this.update())}removeTarget(t){const{index:e}=this.getTarget(t);e>-1&&(this.state.targets.splice(e,1),this.state.queries.splice(e,1),this.state.states.splice(e,1),this.state.activeStates.splice(e,1),this.update())}addState(t,e){const{index:s}=this.getTarget(t);if(s>-1){const t=this.state.activeStates[s],i=JSON.stringify(e);i!==JSON.stringify(this.state.states[s][t])&&(this.state.states[s].splice(t+1,0,JSON.parse(i)),this.state.activeStates[s]=t+1,this.update())}}deleteState(t,e){const{index:s}=this.getTarget(t);this.state.states[s].splice(e,1),e<this.state.activeStates[s]?this.state.activeStates[s]-=1:e==this.state.activeStates[s]&&(this.state.activeStates[s]-=1,this.toState(s,this.state.activeStates[s])),this.update()}commit(t){const{index:e}=this.getTarget(t),s=this.state.states[e][this.state.states[e].length-1];this.state.states[e]=[s],this.state.activeStates[e]=0,this.update()}commitAll(){const t=this;this.state.targets.forEach(e=>t.commit(e)),this.update()}toState(t,e){const{index:s,target:i}=this.getTarget(t);this.state.activeStates[s]=e,i.state=this.state.states[s][e],this.update()}resetToFirstState(t){const{index:e,target:s}=this.getTarget(t);this.toState(s,0,!1),this.state.states[e]=[this.state.states[e][0]],this.update()}resetAllToFirstState(){const t=this;this.state.targets.forEach(e=>t.resetToFirstState(e)),this.update()}clear(t){const{index:e}=this.getTarget(t);this.state.activeStates[e]=-1,this.state.states[e]=[],this.update()}clearAll(){const t=this;this.state.targets.forEach(e=>t.clear(e)),this.update()}saveData(){const t=this;this.storage.clear().then(()=>{t.state.queries.forEach((e,s)=>{const i={active:t.state.activeStates[s],states:t.state.states[s]};t.storage.set(e,i)})})}loadData(){const t=this;this.storage.all().then(e=>{let s=0;for(let i in e)t.addTarget(i),t.clear(s),e[i].states.forEach(e=>t.addState(s,e)),t.toState(s,e[i].active),s++})}getTarget(t){let e;return Number.isInteger(t)?(e=t,t=this.state.targets[e]):e=this.state.targets.indexOf(t),{index:e,target:t}}static prettyJSON(t){return(t=(t=JSON.stringify(t,null,4)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g,function(t){let e="number";return/:$/.test(t)?'<span class="'+(e="key")+'">'+t+"</span>":(/^"/.test(t)?e="string":/true|false/.test(t)?e="boolean":/null/.test(t)&&(e="null"),'<span class="'+e+'">'+t+"</span>")})}}w.defaultState={targets:[],states:[],queries:[],activeStates:[]},e.register(w);var x="*{box-sizing:border-box}.font{font-family:Roboto,Ariel}.container{width:100%;height:100%;display:flex;flex-wrap:nowrap;background-color:#3a3f5a}#sidemenu{width:15%;height:100%}#sidemenu>*{height:100%}sifrr-single-showcase{width:85%;height:100%;display:block}#sidebar{width:30%;height:100%}#sidebar>*{height:33.33%}#main{width:70%;height:100%}.current{background:#5f616d}.flex-column{height:100%;display:flex;flex-wrap:nowrap;flex-direction:column}.box{width:100%;overflow:scroll;border:1px solid #5f616d}#element{padding:20px;height:70%}#code{height:30%}#code sifrr-code-editor{height:calc(100% - 48px)!important}.head{color:#ccc;text-align:center}.small{color:#8f9cb3;font-size:16px;line-height:24px;padding:4px}#error,#status{color:red}sifrr-code-editor{height:calc(100% - 24px)}ul{padding:8px;margin:0}#variants{height:calc(100% - 86px);overflow-y:scroll}.showcase,.variant{list-style-type:none;border-bottom:1px solid #5f616d}.showcase span,.variant span{color:red;float:right;margin-right:10px}#loader,#saver{color:green;padding:4px;margin:0}.button,button{position:relative;display:inline-block;background:#ccc;border:1px solid grey;color:#3a3f5a;font-size:14px;padding:4px}.button input,button input{position:absolute;width:100%;height:100%;top:0;left:0;opacity:0}";function y(){const t=h(['\n<style media="screen">\n  ','\n</style>\n<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/${this.theme}.min.css">\n<pre class=\'hljs\'>\n  <code id="highlight" data-sifrr-html="true">\n    ${this.htmlValue}\n  </code>\n</pre>\n<textarea class=\'hljs\' _input="${this.input}"></textarea>'],['\n<style media="screen">\n  ','\n</style>\n<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/\\${this.theme}.min.css">\n<pre class=\'hljs\'>\n  <code id="highlight" data-sifrr-html="true">\n    \\${this.htmlValue}\n  </code>\n</pre>\n<textarea class=\'hljs\' _input="\\${this.input}"></textarea>']);return y=function(){return t},t}const S=e.template(y(),":host{display:block;position:relative}*{box-sizing:border-box}code,pre{width:100%;display:block}.hljs{width:100%;height:100%;font-family:Consolas,Liberation Mono,Courier,monospace;font-size:14px;line-height:18px;padding:8px;margin:0;position:absolute;white-space:pre-wrap;top:0;left:0}.hljs *{word-break:break-word}textarea{z-index:2;resize:none;border:none}textarea.loaded{background:transparent!important;text-shadow:0 0 0 transparent;text-fill-color:transparent;-webkit-text-fill-color:transparent}pre{z-index:1}");class $ extends e.Element{static get template(){return S}static observedAttrs(){return["value","theme"]}static hljs(){return this._hljs=this._hljs||e.Loader.executeJS("https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"),this._hljs}onAttributeChange(){this.update()}onConnect(){this.constructor.hljs().then(()=>this.hljsLoaded());const t=this.$("textarea");t.addEventListener("keydown",e=>{let s=e.keyCode||e.which;if(this.$("#highlight").style.height=this.$("textarea").height,9==s){e.preventDefault();const s=t.selectionStart,i=t.selectionEnd,a="  ",n=2;t.value=t.value.substring(0,s)+a+t.value.substring(i),t.selectionStart=t.selectionEnd=s+n,this.update()}}),t.onscroll=()=>{this.$("pre.hljs").scrollTop=t.scrollTop}}input(){e.Event.trigger(this,"input"),this.update()}hljsLoaded(){this.$("textarea").classList.add("loaded"),this.update()}get htmlValue(){return window.hljs?window.hljs.highlight(this.lang,this.value.replace(/\n$/,"\n\n")).value:this.value.replace(/</g,"&lt;")}get theme(){return this.getAttribute("theme")||"atom-one-dark"}set theme(t){this.setAttribute("theme",t)}get value(){return this.$("textarea").value}set value(t){this.$("textarea").value=t,this.update()}get lang(){return this.getAttribute("lang")||"html"}}function k(){const t=h(['<style media="screen">\n  ',"\n</style>\n<style>\n${this.state.style}\n</style>\n",""],['<style media="screen">\n  ',"\n</style>\n<style>\n\\${this.state.style}\n</style>\n",""]);return k=function(){return t},t}e.register($);const _=e.template(k(),x,'<div class="container"> <div class="flex-column" id="sidebar"> <div class="box"> <h3 class="font head">Variants</h3> <input id="variantName" type="text" name="variantName" value="${this.state.variantName}" data-sifrr-bind="variantName"> <button class="font" type="button" name="createVariant" _click="${this.createNewVariant}">Create new variant</button> <style media="screen"> #variant${this.state.variantId} {\n          background: #5f616d;\n        } </style> <div id="variants"> <div data-sifrr-repeat="${this.state.variants}"> <li class="font variant small" data-variant-id="${this.state.variantId}" id="variant${this.state.variantId}">${this.state.variantName}<span>X</span></li> </div> </div> </div> <div class="box"> <label class="font small" for="style">Element CSS Styles</label> <sifrr-code-editor lang="css" data-sifrr-bind="style" value="${this.state.style}"></sifrr-code-editor> </div> <div class="box"> <label class="font small" for="elState">Element State Function</label> <sifrr-code-editor id="elState" lang="js" data-sifrr-bind="elState" value="${this.state.elState}"></sifrr-code-editor> </div> </div> <div class="flex-column" id="main"> <div class="box" id="element" data-sifrr-html="true"> ${this.state.code} </div> <div class="box" id="code"> <label class="font small" for="elementName">Element Name</label> <input type="text" name="elementName" placeholder="Enter element name here..." _input="${this.updateHtml}" value="${this.state.element}"> <label class="font small" for="customUrl">Custom Url</label> <input type="text" name="customUrl" placeholder="Enter element url here..." value="${this.state.elementUrl}" data-sifrr-bind="elementUrl"> <label class="font small" for="elementName">Is JS File</label> <select id="isjs" name="isjs" value="${this.state.isjs}" data-sifrr-bind="isjs"> <option value="true">true</option> <option value="false">false</option> </select> <span class="font" id="error"></span> <br> <label class="font small" for="htmlcode">HTML Code</label> <sifrr-code-editor lang="html" data-sifrr-bind="code" value="${this.state.code}"></sifrr-code-editor> </div> </div> </div>');e.Event.add("click");class C extends e.Element{static get template(){return _}static observedAttrs(){return["url"]}onConnect(){this.switchVariant(),e.Event.addListener("click",".variant",(t,e)=>{e.matches(".variant")&&this.switchVariant(e.dataset.variantId),e.matches(".variant span")&&this.deleteVariant(e.parentNode.dataset.variantId)})}beforeUpdate(){this.saveVariant(),this.state.elemnt&&(this._element===this.state.element&&this._js===this.state.isjs&&this._url===this.state.elementUrl||(e.load(this.state.element,{js:"true"==this.state.isjs,url:this.state.elementUrl?this.state.elementUrl:void 0}).then(()=>this.$("#error").innerText="").catch(t=>this.$("#error").innerText=t.message),this._js=this.state.isjs,this._element=this.state.element,this._url=this.state.elementUrl))}onUpdate(){this._stateFxnTimeout&&clearTimeout(this._stateFxnTimeout),this._stateFxnTimeout=setTimeout(this.runStateFunction.bind(this),500)}runStateFunction(){let t;try{t=new Function(this.$("#elState").value).call(this.element())}catch(t){window.console.warn(t)}t&&this.element()&&this.element().isSifrr&&this.element().state!==t&&(this.element().state=t)}onAttributeChange(t,e,s){"url"===t&&(this.url=s)}createNewVariant(){const t=Math.max(...this.state.variants.map(t=>t.variantId),0)+1,e=this.state.variants.findIndex(t=>t.variantId==this.state.variantId)+1||1;this.state.variants.splice(e,0,Object.assign({},{variantId:t,variantName:this.state.variantName,style:this.state.style||"",code:this.state.code||"",elState:this.state.elState||""})),this.switchVariant(t)}deleteVariant(t){this.state.variants.forEach((e,s)=>{e.variantId==t&&(this.state.variants.splice(s,1),this.state.variantId==t?this.switchVariant((this.state.variants[s]||{}).variantId):this.update())})}saveVariant(){this.state.variants||(this.state.variants=[]);const t=this.state.variantId;this.state.variants.forEach(e=>{e.variantId==t&&Object.assign(e,{variantName:this.state.variantName,style:this.state.style,code:this.state.code,elState:this.state.elState})})}switchVariant(t){this.$("#element").textContent="",Object.assign(this.state,this.variant(t)),this.update()}updateHtml(t,e){const s="<".concat(e.value,"></").concat(e.value,">");this.state={code:s,element:e.value}}element(){return this.$("#element").firstElementChild}variant(t){return this.state.variants.find(e=>e.variantId==t)||this.state.variants[this.state.variants.length-1]}}function E(){const t=h(['<style media="screen">\n  ','\n</style>\n<div class="container">\n  <div class="flex-column" id="sidemenu">\n    <div class="box">\n      <h1 class="font head">Sifrr Showcase</h1>\n      <p class="font" id="loader"></p>\n      <input id="url" type="text" placeholder="Enter url here..." name="url" />\n      <button type="button" name="loadUrl" _click=${this.loadUrl}>Load from url</button>\n      <p class="font" id="status"></p>\n      <span class="button font">\n        Upload File\n        <input type="file" name="file" accept="application/json" _input="${this.loadFile}" />\n      </span>\n      <button class="font" type="button" name="saveFile" _click="${this.saveFile}">Save to File</button>\n      <h3 class="font head">Showcases</h3>\n      <input id="showcaseName" type="text" name="showcase" _input=${this.changeName} value=${this.state.showcases[this.state.current].name}>\n      <button class="font" type="button" name="createVariant" _click="${this.createShowcase}">Create new showcase</button>\n      <div id="showcases" data-sifrr-repeat="${this.state.showcases}">\n        <li class="font showcase small ${this._root ? (this.state.id === this._root.state.currentSC.id ? \'current\' : \'\') : \'\'}" data-showcase-id="${this.state.key}" draggable="true">${this.state.name}<span>X</span></li>\n      </div>\n    </div>\n  </div>\n  <sifrr-single-showcase _update=${this.saveShowcase} _state=${this.state.currentSC} data-sifrr-bind="currentSC"></sifrr-single-showcase>\n</div>'],['<style media="screen">\n  ','\n</style>\n<div class="container">\n  <div class="flex-column" id="sidemenu">\n    <div class="box">\n      <h1 class="font head">Sifrr Showcase</h1>\n      <p class="font" id="loader"></p>\n      <input id="url" type="text" placeholder="Enter url here..." name="url" />\n      <button type="button" name="loadUrl" _click=\\${this.loadUrl}>Load from url</button>\n      <p class="font" id="status"></p>\n      <span class="button font">\n        Upload File\n        <input type="file" name="file" accept="application/json" _input="\\${this.loadFile}" />\n      </span>\n      <button class="font" type="button" name="saveFile" _click="\\${this.saveFile}">Save to File</button>\n      <h3 class="font head">Showcases</h3>\n      <input id="showcaseName" type="text" name="showcase" _input=\\${this.changeName} value=\\${this.state.showcases[this.state.current].name}>\n      <button class="font" type="button" name="createVariant" _click="\\${this.createShowcase}">Create new showcase</button>\n      <div id="showcases" data-sifrr-repeat="\\${this.state.showcases}">\n        <li class="font showcase small \\${this._root ? (this.state.id === this._root.state.currentSC.id ? \'current\' : \'\') : \'\'}" data-showcase-id="\\${this.state.key}" draggable="true">\\${this.state.name}<span>X</span></li>\n      </div>\n    </div>\n  </div>\n  <sifrr-single-showcase _update=\\${this.saveShowcase} _state=\\${this.state.currentSC} data-sifrr-bind="currentSC"></sifrr-single-showcase>\n</div>']);return E=function(){return t},t}C.defaultState={id:1,name:"Placeholder Element",element:"sifrr-placeholder",elementUrl:"",isjs:!0,variantName:"",variants:[{variantId:1,variantName:"variant",style:"#element > * {\n  display: block;\n  background-color: white;\n  margin: auto;\n}",code:"<sifrr-placeholder>\n</sifrr-placeholder>",elState:"return {\n\n}"}]},e.register(C);const A=e.template(E(),x),L=new s({name:"showcases",version:"1.0"});class T extends e.Element{static get template(){return A}static observedAttrs(){return["url"]}onAttributeChange(t,e,s){"url"===t&&(this.url=s)}onConnect(){if(e.Event.addListener("click",".showcase",(t,e)=>{e.matches(".showcase")&&this.switchShowcase(this.getChildIndex(e)),e.matches(".showcase span")&&this.deleteShowcase(this.getChildIndex(e.parentNode))}),this.loadUrl(),this.switchShowcase(0),window.Sortable){const t=this;new window.Sortable(this.$("#showcases"),{draggable:"li",onEnd:e=>{const s=e.oldIndex,i=e.newIndex,a=t.state.showcases[s];t.state.showcases[s]=t.state.showcases[i],t.state.showcases[i]=a;const n=t.$("#showcases .current");t.switchShowcase(t.getChildIndex(n))}})}}getChildIndex(t){let e=0;for(;null!=(t=t.previousElementSibling);)e++;return e}deleteShowcase(t){this.state.showcases.splice(t,1),t==this.state.current?this.switchShowcase(this.state.current):this.switchShowcase(this.state.current-1)}createShowcase(){this.state.showcases.splice(this.state.current+1,0,{name:this.$("#showcaseName").value,variants:[],element:this.$("#showcaseName").value}),this.switchShowcase(this.state.current+1)}switchShowcase(t){this.current=t,this.$("#showcases").children[this.state.current].classList.remove("current"),this.state.showcases[t]||(t=this.state.showcases.length-1),this.state={current:t,currentSC:this.state.showcases[t]},this.$("#showcases").children[t].classList.add("current")}onStateChange(){this.state.current!==this.current&&this.switchShowcase(this.state.current)}saveShowcase(){this.state.showcases[this.state.current]=Object.assign(this.state.showcases[this.state.current],this.state.currentSC),this._loaded&&(this.$("#status").textContent="saving locally!",this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(()=>{this._timeout=null,L.set({showcases:this.state.showcases,current:this.state.current}).then(()=>{this.$("#status").textContent="saved locally!"})},500))}changeName(){this.state.showcases[this.state.current].name=this.$("#showcaseName").value,this.update()}get el(){return this.$("sifrr-single-showcase")}set url(t){this._url=t,this.getAttribute("url")!==t&&this.setAttribute("url",t),this.$("#url").value!==t&&(this.$("#url").value=t),this.loadUrl()}get url(){return this._url}loadUrl(){this._url=this.$("#url").value,window.fetch(this._url).then(t=>t.json()).then(t=>{this.state.showcases=t.showcases,this.switchShowcase(t.current),this.$("#status").textContent="loaded from url!"}).catch(t=>{this.$("#status").textContent=t.message,L.all().then(t=>{this.$("#status").textContent="failed to load from url, loaded from storage!",this._loaded=!0,Array.isArray(t.showcases)&&(this.state.showcases=t.showcases,this.switchShowcase(t.current))})})}saveFile(){const t=new Blob([JSON.stringify(this.state,null,2)],{type:"application/json"}),e=document.createElement("a");e.href=URL.createObjectURL(t),e.download="showcases",e.click()}loadFile(t,e){const s=e.files[0],i=new FileReader;i.onload=()=>{const t=JSON.parse(i.result);this.state=t,this.switchShowcase(t.current),this.$("#status").textContent="loaded from file!"},i.readAsText(s)}}T.defaultState={current:0,showcases:[{name:"new"}]},e.register(T);const j='<svg xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMinYMin meet" width="100%" height="100%" viewBox="0 0 60 60"> <circle cx="30" cy="30" r="28" fill="none" stroke="rgba(255, 255, 255, 0.6)" stroke-width="${this.state[\'stroke-width\']}"/> <circle id="top" cx="30" cy="30" r="28" fill="none" stroke="${this.state.stroke}" stroke-width="${this.state[\'stroke-width\']}" stroke-dasharray="188.5" stroke-dashoffset="${(100 - this.state.progress) / 100 * 188.5}"/> </svg>';var N=":host{display:inline-block}svg{transform:rotate(-90deg)}";class I extends e.Element{static get template(){return e.template("<style>".concat(N,"</style>").concat(j))}static syncedAttrs(){return["progress","stroke","stroke-width"]}onAttributeChange(t,e,s){"progress"!==t&&"stroke"!==t&&"stroke-width"!==t||(this.state={[t]:Number(s)})}}I.defaultState={progress:0,"stroke-width":2,stroke:"#fff"},e.register(I);const O=':host{background:linear-gradient(90deg,"${this.bgColor}" 4%,"${this.fgColor}" 25%,"${this.bgColor}" 36%);display:inline-block;animation:shimmer 2.5s linear 0s infinite;background-size:2000px 100%}@keyframes shimmer{0%{background-position:-2000px 0}to{background-position:2000px 0}}'.replace(/"(\${[^"]*})"/g,"$1");class z extends e.Element{static syncedAttrs(){return["color","bg-color","fg-color"]}static get template(){return e.template("<style>".concat(O,"</style>"))}get bgColor(){return this["bg-color"]||this.colora(.15)}get fgColor(){return this["fg-color"]||this.colora(0)}colora(t){const e=function(t=0,e=0,s=0){t/=255,e/=255,s/=255;let i,a,n=Math.max(t,e,s),o=Math.min(t,e,s),r=(n+o)/2;if(n==o)i=a=0;else{let l=n-o;switch(a=r>.5?l/(2-n-o):l/(n+o),n){case t:i=(e-s)/l+(e<s?6:0);break;case e:i=(s-t)/l+2;break;case s:i=(t-e)/l+4}i/=6}return[i,a,r]}(...(this.color||"170, 170, 170").replace(/ /g,"").split(",").map(Number)),s=Math.min(e[2]+(this.isLight()?t:-1*t),1);return"hsl(".concat(359*e[0],", ").concat(100*e[1],"%, ").concat(100*s,"%)")}isLight(){return this.hasAttribute("light")}}e.register(z);class P extends e.Element{static syncedAttrs(){return["url","type"]}onConnect(){let t="",e="";"js"===this.type?(t="<script>",e="<\/script>"):"css"===this.type&&(t="<style>",e="</style>"),this.url&&fetch(this.url).then(t=>t.text()).then(s=>{this.innerHTML=t+s+e})}}e.register(P);function U(){const t=h(['<style media="screen">\n  ','\n</style>\n<style media="screen">\n  ${this.state.style || \'\'}\n</style>\n<div id="bg">\n  <div id="cross">X</div>\n</div>\n<div id="content">\n  <sifrr-tab-container>\n    <slot name="content"></slot>\n  </sifrr-tab-container>\n  <span id="count"></span>\n</div>\n<div id="preview">\n  <div class="arrow l">\n    <span></span>\n  </div>\n  <div class="arrow r">\n    <span></span>\n  </div>\n  <sifrr-tab-header options=\'{ "showUnderline": false }\'>\n    <slot name="preview"></slot>\n  </sifrr-tab-header>\n</div>'],['<style media="screen">\n  ','\n</style>\n<style media="screen">\n  \\${this.state.style || \'\'}\n</style>\n<div id="bg">\n  <div id="cross">X</div>\n</div>\n<div id="content">\n  <sifrr-tab-container>\n    <slot name="content"></slot>\n  </sifrr-tab-container>\n  <span id="count"></span>\n</div>\n<div id="preview">\n  <div class="arrow l">\n    <span></span>\n  </div>\n  <div class="arrow r">\n    <span></span>\n  </div>\n  <sifrr-tab-header options=\'{ "showUnderline": false }\'>\n    <slot name="preview"></slot>\n  </sifrr-tab-header>\n</div>']);return U=function(){return t},t}const F=e.template(U(),":host{display:block;width:100%}#content,#preview{position:relative}#preview{padding:0 24px}#count{position:absolute;bottom:6px;left:6px;background:hsla(0,0%,100%,.7);border-radius:10px;font-size:14px;padding:4px 6px}#bg{background:hsla(0,0%,100%,.9);display:none;height:100%;width:100%}#bg #cross{position:absolute;top:6px;right:6px;width:32px;height:32px;font-family:Helvetica,Arial,sans-serif;font-size:32px}.arrow{position:absolute;z-index:5;top:0;bottom:0}.arrow>*{position:absolute;width:8px;height:8px;margin:-6px 5px;top:50%;border:solid #fff;border-width:0 3px 3px 0;display:inline-block;padding:3px}.arrow.l{left:0;cursor:w-resize}.arrow.l>*{left:0;transform:rotate(135deg)}.arrow.r{right:0;cursor:e-resize}.arrow.r>*{right:0;transform:rotate(-45deg)}#cross,.arrow>*{filter:drop-shadow(-1px -1px 3px #000);-webkit-user-select:none;-moz-user-select:none;user-select:none;color:#fff;z-index:3}slot[name=preview]::slotted(*){height:64px;opacity:.5}slot[name=preview]::slotted(.active){border:1px solid #fff;opacity:1}sifrr-tab-header{height:64px}:host(.fullscreen){position:fixed;width:100%;height:100%;left:0;top:0;z-index:9999}:host(.fullscreen) #bg{display:block;z-index:1}:host(.fullscreen) #content,:host(.fullscreen) #preview{position:absolute;left:0;right:0;margin:auto}:host(.fullscreen) #preview{bottom:30px;max-width:500px;z-index:2}:host(.fullscreen) #content{z-index:2;max-width:90%;max-height:calc(100% - 150px);top:calc(50% - 55px);transform:translateY(-50%);overflow:hidden}");class M extends e.Element{static get template(){return F}onConnect(){this.container=this.$("sifrr-tab-container"),this.header=this.$("sifrr-tab-header"),this.container.refresh({slot:this.$("slot[name=content]")}),this.header.refresh({slot:this.$("slot[name=preview]"),container:this.container}),this._rel=this._rel||this.refresh.bind(this),Array.from(this.$$("img",!1)).forEach(t=>t.addEventListener("load",this._rel)),e.Event.addListener("click",this,(t,e)=>{e.matches("[slot=content]")&&!e.matches(".fullscreen [slot=content]")?this.fullScreen(!0):e.matches("#bg")||e.matches("#bg *")?this.fullScreen(!1):e.matches(".arrow.l")||e.matches(".arrow.l span")?this.container.prev():(e.matches(".arrow.r")||e.matches(".arrow.r span"))&&this.container.next()}),this.container._update=()=>{this.$("#count").textContent="".concat(this.container.active+1,"/").concat(this.container.total)}}fullScreen(t=!0){t?this.classList.add("fullscreen"):this.classList.remove("fullscreen"),this.refresh()}refresh(){this.container.refresh(),this.header.refresh()}}M.defaultState={style:""},e.register(M),window.LazyLoader=o,t.LazyLoader=o,t.SifrrCarousel=M,t.SifrrCodeEditor=$,t.SifrrInclude=P,t.SifrrLazyPicture=l,t.SifrrLazzyImg=r,t.SifrrProgressRound=I,t.SifrrShimmer=z,t.SifrrShowcase=T,t.SifrrStater=w,t.SifrrTabContainer=g,t.SifrrTabHeader=u,Object.defineProperty(t,"__esModule",{value:!0})});
/*! (c) @aadityataparia */
