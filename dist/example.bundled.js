!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.example=e()}(this,function(){"use strict";"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function t(t,e){return t(e={exports:{}},e.exports),e.exports}var e=t(function(t,e){var r;t.exports=(r=class{constructor(t,e,r={}){this.type=t,this._options=r,this._url=e}get response(){return window.fetch(this.url,this.options).then(t=>{let e=t.headers.get("content-type");if(t.ok)return e&&e.includes("application/json")&&(t=t.json()),t;{let e=Error(t.statusText);throw e.response=t,e}})}get url(){const t=this._options.params;return t&&Object.keys(t).length>0?this._url+"?"+Object.keys(t).map(e=>encodeURIComponent(e)+"="+encodeURIComponent(t[e])).join("&"):this._url}get options(){const t=Object.assign({method:this.type,mode:"cors",redirect:"follow"},this._options);return t.headers=Object.assign({accept:"application/json"},this._options.headers||{}),"object"==typeof t.body&&(t.body=JSON.stringify(t.body)),t}},class{static get(t,e={}){return new r("GET",t,e).response}static post(t,e={}){return new r("POST",t,e).response}static put(t,e={}){return new r("PUT",t,e).response}static delete(t,e={}){return new r("DELETE",t,e).response}static graphql(t,e={}){const{query:s,variables:o={}}=e;return delete e.query,delete e.variables,e.headers=e.headers||{},e.headers["Content-Type"]="application/json",e.headers.Accept="application/json",e.body={query:s,variables:o},new r("POST",t,e).response}static file(t,e={}){return e.headers=e.headers||{},e.headers.accept=e.headers.accept||"*/*",new r("GET",t,e).response}})}),r=t(function(t,r){t.exports=function(t){t=t&&t.hasOwnProperty("default")?t.default:t;var e={absolute:(t,e)=>{let r=t.split("/"),s=e.split("/");r.pop();for(let t=0;t<s.length;t++)"."!=s[t]&&(".."==s[t]?r.pop():r.push(s[t]));return r.join("/")},getRoutes:t=>{"/"!=t[0]&&(t="/"+t);let e=t.indexOf("?");return-1!=e&&(t=t.substring(0,e)),t.split("/")}};const r={parse:t=>{let e={};if("string"==typeof t){try{e=JSON.parse(t)}catch(e){return t}return r.parse(e)}if(Array.isArray(t))e=[],t.forEach((t,s)=>{e[s]=r.parse(t)});else{if("object"!=typeof t)return t;for(const s in t)e[s]=r.parse(t[s])}return e},stringify:t=>"string"==typeof t?t:JSON.stringify(t),shallowEqual:(t,e)=>{for(let r in t)if(!(r in e)||t[r]!=e[r])return!1;for(let r in e)if(!(r in t)||t[r]!=e[r])return!1;return!0},deepClone:t=>{if(Array.isArray(t))return t.map(t=>r.deepClone(t));if("object"!=typeof t||null===t)return t;let e={};for(let s in t)e[s]=r.deepClone(t[s]);return e}};var s=r;const o=window.document.createElement("template"),n=window.document.createElement("sifrr-node");var i={SIFRR_NODE:()=>n.cloneNode(),TEMPLATE:()=>o.cloneNode(),TEXT_NODE:3,COMMENT_NODE:8,ELEMENT_NODE:1},a={updateAttribute:function(t,e,r){if("class"===e){const e=t.className;e!=r&&(t.className="null"!=r&&"undefined"!=r&&"false"!=r&&r?r:"")}else{const s=t.getAttribute(e);s!=r&&("null"!=r&&"undefined"!=r&&"false"!=r&&r?t.setAttribute(e,r):s&&t.removeAttribute(e)),"SELECT"!=t.nodeName&&"INPUT"!=t.nodeName||"value"!=e||(t.value=r)}}};const{updateAttribute:c}=a,{shallowEqual:l}=s,{TEXT_NODE:u,COMMENT_NODE:h}=i;function p(t,e){const r=t.childNodes.length,s=e.length;if(r>s){let e=r;for(;e>s;)t.removeChild(t.lastChild),e--}else if(r<s){let o=r;for(;o<s;)t.appendChild(e[o]),o++}const o=Math.min(s,r);for(let r,s=0,n=t.firstChild;s<o;s++)r=e[s],n=d(n,r).nextSibling}function d(t,e){if(null===e)return t;if("stateChange"===e.type)return l(t.state,e.state)||(t.state=e.state),t;if(t.nodeName!==e.nodeName)return t.replaceWith(e),e;if(t.nodeType===u||t.nodeType===h)return t.data!==e.data&&(t.data=e.data),t;e.state&&(t.state=e.state);let r,s=t.attributes,o=e.attributes;for(let e=o.length-1;e>=0;--e)c(t,o[e].name,o[e].value);for(let o=s.length-1;o>=0;--o)r=s[o],e.hasAttribute(r.name)||!1===r.specified||t.removeAttribute(r.name);return p(t,e.childNodes),t}var f={makeEqual:d,makeChildrenEqual:p};const m=window.document.createTreeWalker(window.document,window.NodeFilter.SHOW_ALL,null,!1);m.roll=function(t,e=!1){let r=this.currentNode;for(;--t;)r=e&&e(r)?m.nextSibling()||m.parentNode():m.nextNode();return r};class g{constructor(t,e){this.idx=t,this.ref=e}}var y={walker:m,collect:function(t,e=t.stateMap,r){const s=[];return m.currentNode=t,e.map(t=>s.push(m.roll(t.idx,r))),s},create:function(t,e,r=!1){let s,o=[],n=0;for(m.currentNode=t;t;)(s=e(t))?(o.push(new g(n+1,s)),n=1):n++,t=r&&r(t)?m.nextSibling()||m.parentNode():m.nextNode();return o},Ref:g};const{makeChildrenEqual:_}=f,{updateAttribute:b}=a,{collect:N,create:S}=y,{TEXT_NODE:E,COMMENT_NODE:w,ELEMENT_NODE:v}=i,x=i.TEMPLATE();function O(t){return t.dataset&&"true"==t.dataset.sifrrHtml||"true"==t.contentEditable||"TEXTAREA"==t.nodeName||"STYLE"==t.nodeName||t.dataset&&t.dataset.sifrrRepeat}function j(t){if(t.nodeType===E||t.nodeType===w){const e=t.nodeValue;if(e.indexOf("${")>-1)return{html:!1,text:e.trim()}}else if(t.nodeType===v){const e={};if(O(t)){const r=t.innerHTML;r.indexOf("${")>=0&&(e.html=!0,e.text=r.replace(/<!--(.*)-->/g,"$1"))}const r=t.attributes||[],s=r.length,o={events:{}};for(let t=0;t<s;t++){const e=r[t];"$"===e.name[0]?o.events[e.name]=e.value:e.value.indexOf("${")>=0&&(o[e.name]=e.value)}if(Object.keys(o).length>0&&(e.attributes=o),Object.keys(e).length>0)return e}return 0}const C={collectRefs:(t,e)=>N(t,e,O),createStateMap:t=>S(t,j,O),update:t=>{if(!t._refs)return!1;const e=t._refs.length;for(let r=0;r<e;r++){const e=t.constructor.stateMap[r].ref,s=t._refs[r];if(e.attributes)for(let r in e.attributes)if("events"===r)for(let r in e.attributes.events){const o=C.evaluateString(e.attributes.events[r],t,!0);"${this"===e.attributes.events[r].slice(0,6)?s[r]=o.bind(t):s[r]=o}else{const o=C.evaluateString(e.attributes[r],t);b(s,r,o)}if(void 0===e.html)continue;const o=C.evaluateString(e.text,t);if(o)if(e.html){let t;Array.isArray(o)?t=o:o.nodeType?t=[o]:(x.innerHTML=o.toString().replace(/(&lt;)(((?!&gt;).)*)(&gt;)(((?!&lt;).)*)(&lt;)\/(((?!&gt;).)*)(&gt;)/g,"<$2>$5</$8>").replace(/(&lt;)(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)(((?!&gt;).)*)(&gt;)/g,"<$2$3>"),t=Array.prototype.slice.call(x.content.childNodes)),t.length<1?s.textContent="":_(s,t)}else s.nodeValue!=o&&(s.nodeValue=o);else s.textContent=""}},twoWayBind:t=>{const e=t.path?t.path[0]:t.target;if(!e.dataset.sifrrBind)return;const r=void 0===e.value?e.innerHTML:e.value;let s,o={};if(e._root)s=e._root;else{for(s=e;!s.isSifrr;)s=s.parentNode||s.host;e._root=s}o[e.dataset.sifrrBind]=r,s.state=o},evaluateString:(t,e)=>{return t.indexOf("${")<0?t:(t=t.trim()).match(/^\${([^{}$]|{([^{}$])*})*}$/)?r(t):r("`"+t+"`");function r(t){let r;return"$"==t[0]&&(t=t.slice(2,-1)),(r=t.indexOf("return ")>=0?new Function(t).bind(e):new Function("return "+t).bind(e))()}}};var T=C;const $=i.TEMPLATE();class A{constructor(e,r={}){if(!t)throw Error("Sifrr.Dom.load requires Sifrr.Fetch to work.");if(this.constructor.all[e])return this.constructor.all[e].instance;this.elementName=e,this.config=r,this.constructor.urls[e]=this.htmlUrl}get html(){const e=this;if(this.constructor.all[this.elementName]&&this.constructor.all[this.elementName].html)return this.constructor.all[this.elementName].html;const r=t.file(this.htmlUrl).then(t=>t.text()).then(t=>($.innerHTML=t,$.content)).then(t=>(A._all[e.elementName].template=t.querySelector("template"),t));return A.add(e.elementName,{instance:e,html:r}),r}get js(){if(this.constructor.all[this.elementName]&&this.constructor.all[this.elementName].js)return this.constructor.all[this.elementName].js;const e=t.file(this.jsUrl).then(t=>t.text());return A.add(this.elementName,{instance:this,js:e}),e}get htmlUrl(){return this.config.url||`${this.config.baseUrl+"/"||""}elements/${this.elementName.split("-").join("/")}.html`}get jsUrl(){return this.config.url||`${this.config.baseUrl+"/"||""}elements/${this.elementName.split("-").join("/")}.js`}executeScripts(){return this.html.then(t=>{t.querySelectorAll("script").forEach(t=>{t.hasAttribute("src")?window.document.body.appendChild(t):new Function(t.text).bind(window)()})}).catch(t=>{"Not Found"===t.message?(window.console.log(`HTML file not found. Trying to get js file for ${this.elementName}.`),this.js.then(t=>{new Function(t).bind(window)()})):window.console.warn(t)})}static add(t,e){A._all[t]=Object.assign(A._all[t]||{},e)}static get all(){return A._all}}A._all={},A.urls={};var D=A;const{collect:R,create:k}=y,M=i.TEMPLATE();function q(t){if(3!==t.nodeType){if(void 0!==t.attributes){const e=Array.from(t.attributes),r=e.length,s=[];for(let t=0;t<r;t++){const r=e[t].value;"$"===r[0]&&s.push({name:e[t].name,text:r.slice(2,-1)})}if(s.length>0)return s}return 0}{let e=t.nodeValue;return"$"===e[0]?(t.nodeValue="",e.slice(2,-1)):0}}function U(t){const e=t._refs,r=t.stateMap,s=r.length,o=t.state,n=t._oldState;for(let t=0;t<s;t++){const s=r[t].ref,i=e[t];if(Array.isArray(s)){const t=s.length;for(let e=0;e<t;e++){const t=s[e];n[t.text]!==o[t.text]&&("class"===t.name?i.className=o[t.text]||"":i.setAttribute(t.name,o[t.text]))}}else n[s]!=o[s]&&(i.nodeValue=o[s])}}var P=function(t,e){if("string"==typeof t){M.innerHTML=t;const e=(t=M.content.firstElementChild||M.content.firstChild).style.display;t.style.display="none",window.document.body.appendChild(t),t.remove(),t.style.display=e}return-1!==t.nodeName.indexOf("-")||t.getAttribute("is")&&t.getAttribute("is").indexOf("-")>=0||t.isSifrr&&t.isSifrr()?t:(t.stateMap=k(t,q),t._refs=R(t,t.stateMap),Object.defineProperty(t,"state",{get:()=>t._state,set:e=>{t._oldState=Object.assign({},t._state),t._state=Object.assign(t._state||{},e),U(t)}}),e&&(t.state=e),t.sifrrClone=function(e){const r=t.cloneNode(e);return r.stateMap=t.stateMap,r._refs=R(r,t.stateMap),Object.defineProperty(r,"state",{get:()=>r._state,set:t=>{r._oldState=Object.assign({},r._state),r._state=Object.assign(r._state||{},t),U(r)}}),t.state&&(r.state=t.state),r},t)},I=function t(e){return class extends e{static extends(e){return t(e)}static get observedAttributes(){return["data-sifrr-state"].concat(this.observedAttrs())}static observedAttrs(){return[]}static get template(){return D.all[this.elementName].template}static get ctemp(){return this._ctemp=this._ctemp||this.template,this._ctemp}static get stateMap(){return this._stateMap=this._stateMap||T.createStateMap(this.ctemp.content),this._stateMap}static get elementName(){return this.name.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}static onStateChange(){}static get useShadowRoot(){return this._ctempusr=this._ctempusr||"false"!==this.ctemp.getAttribute("use-shadow-root"),this._ctempusr&&this.useSR}static get noContent(){return this._nocont=this._nocont||"false"===this.ctemp.getAttribute("content"),this._nocont}constructor(){if(super(),this.constructor.noContent)   ;else{(this.constructor.defaultState||this.state)&&(this._state=Object.assign({},this.constructor.defaultState,this.state));const t=this.constructor.ctemp.content.cloneNode(!0);this.constructor.useShadowRoot?(this._refs=T.collectRefs(t,this.constructor.stateMap),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(t),this.shadowRoot.addEventListener("change",T.twoWayBind)):this.__content=t}}connectedCallback(){this.constructor.useShadowRoot?!this.hasAttribute("data-sifrr-state")&&this._state&&this.update():(this.textContent="",this._refs=T.collectRefs(this.__content,this.constructor.stateMap),this.appendChild(this.__content),(this._state||this.hasAttribute("data-sifrr-state"))&&this.update()),this.onConnect()}onConnect(){}disconnectedCallback(){this.shadowRoot&&this.shadowRoot.removeEventListener("change",T.twoWayBind),this.onDisconnect()}onDisconnect(){}attributeChangedCallback(t,e,r){"data-sifrr-state"===t&&(this.state=s.parse(r)),this.onAttributeChange(t,e,r)}onAttributeChange(){}get state(){return this._state}set state(t){this._state=this._state||{},this._state!==t&&Object.assign(this._state,t),this.update()}update(){T.update(this),this.onStateChange(),this.constructor.onStateChange(this)}onStateChange(){}isSifrr(t=null){return!t||t===this.constructor.elementName}sifrrClone(t){return this.cloneNode(t)}clearState(){this._state={},this.update()}$(t,e=!0){return this.constructor.useShadowRoot&&e?this.shadowRoot.querySelector(t):this.querySelector(t)}$$(t,e=!0){return this.constructor.useShadowRoot&&e?this.shadowRoot.querySelectorAll(t):this.querySelectorAll(t)}static addArrayToDom(t,e){this._arrayToDom=this._arrayToDom||{},this._arrayToDom[this.elementName]=this._arrayToDom[this.elementName]||{},this._arrayToDom[this.elementName][t]=P(e)}arrayToDom(t,e=this.state[t]){this._domL=this._domL||{};const r=this._domL[t]||0,s=[],o=e.length;let n;try{n=this.constructor._arrayToDom[this.constructor.elementName][t]}catch(e){return window.console.log(`[error]: No arrayToDom data of '${t}' added in ${this.constructor.elementName}.`)}for(let t=0;t<o;t++)if(t<r)s.push({type:"stateChange",state:e[t]});else{const r=n.sifrrClone(!0);r.state=e[t],s.push(r)}return this._domL[t]=o,s}}}(window.HTMLElement);const L={},F=(t,e,r,s)=>{function o(e){e.forEach(e=>e(t,s,r))}for(let t in L[e])("function"==typeof r.matches&&r.matches(t)||9===r.nodeType&&"document"===t)&&o(L[e][t])};var H={add:t=>!L[t]&&(window.document.addEventListener(t,e=>((t,e)=>Promise.resolve((()=>{const r=t.composedPath?t.composedPath()[0]:t.target;let s=r;for(;s;){const o=s[`$${e}`];o&&o(t,r),F(t,e,s,r),s=s.parentNode||s.host}})()))(e,t),{capture:!0,passive:!0}),L[t]={},!0),addListener:(t,e,r)=>{const s=L[t][e]||[];return s.indexOf(r)<0&&s.push(r),L[t][e]=s,!0},removeListener:(t,e,r)=>{const s=L[t][e]||[],o=s.indexOf(r);return o>=0&&s.splice(o,1),L[t][e]=s,!0},trigger:(t,e,r)=>{t.dispatchEvent(new window.Event(e,Object.assign({bubbles:!0,composed:!0},r)))}};const{TEMPLATE:W}=i;let B={elements:{}};return B.Element=I,B.Parser=T,B.Loader=D,B.SimpleElement=P,B.Event=H,B.makeEqual=f,B.Url=e,B.Json=s,B.html=((t,...e)=>{const r=W();if(t[0]&&"string"==typeof t[0])t=String.raw(t,...e).replace(/{{(.*)}}/g,"${$1}"),r.innerHTML=t;else{if(!t[0])return t;Array.from(t).forEach(t=>{r.appendChild(t)})}return r}),B.register=((t,e)=>{t.useSR=B.config.useShadowRoot;const r=t.elementName;if(!r)throw Error("Error creating Custom Element: No name given.",t);if(window.customElements.get(r))window.console.warn(`Error creating Element: ${r} - Custom Element with this name is already defined.`);else{if(r.indexOf("-")<1)throw Error(`Error creating Element: ${r} - Custom Element name must have one dash '-'`);try{return window.customElements.define(r,t,e),B.elements[r]=t,!0}catch(t){return window.console.error(`Error creating Custom Element: ${r} - ${t}`),!1}}return!1}),B.setup=function(t){B.config=Object.assign({baseUrl:"",useShadowRoot:!0},t),B.Event.add("input"),B.Event.add("change"),B.Event.addListener("change","document",B.Parser.twoWayBind),B.Event.addListener("input","document",B.Parser.twoWayBind)},B.load=function(t,e={baseUrl:B.config.baseUrl}){return new B.Loader(t,e).executeScripts()},B.relativeTo=function(t,e){if("string"==typeof t)return B.Url.absolute(B.Loader.urls[t],e)},B}(e)}),s=t(function(t,e){t.exports=function(){var t=class{static parse(t){let e={};if("string"==typeof t){try{e=JSON.parse(t)}catch(e){return t}return this.parse(e)}if(Array.isArray(t))e=[],t.forEach((t,r)=>{e[r]=this.parse(t)});else{if("object"!=typeof t)return t;for(const r in t)e[r]=this.parse(t[r])}return e}static stringify(t){return"string"==typeof t?t:JSON.stringify(t)}},e=class{constructor(t){this._options=t}_parseKeyValue(t,e){let r={}.constructor;if(void 0===e){if(Array.isArray(t))return t;if("string"==typeof t)return[t];if(t.constructor===r)return t;throw Error("Invalid Key")}if("string"==typeof t){let r={};return r[t]=e,r}throw Error("Invalid Key")}_select(t){return this.data().then(e=>{let r={};return t.forEach(t=>r[t]=e[t]),r})}_upsert(t){let e=this.table;for(let r in t)e[r]=t[r];this.table=e}_delete(t){let e=this.table;t.forEach(t=>delete e[t]),this.table=e}_clear(){this.table={}}_isEqual(t,e){return this.tableName==t.name+t.version&&this.type==e}get tableName(){return this.name+this.version}get name(){return this._options.name}get version(){return this._options.version}get description(){return this._options.description}get type(){return this.constructor.type}isSupported(){return"undefined"==typeof window||"undefined"==typeof document||!(!window||void 0===this.store)}all(){return this.data()}data(){return Promise.resolve(this._parsedData())}select(t){return Promise.resolve(this._select(this._parseKeyValue(t)))}insert(t,e){return Promise.resolve(this._upsert(this._parseKeyValue(t,e)))}update(t,e){return Promise.resolve(this._upsert(this._parseKeyValue(t,e)))}upsert(t,e){return Promise.resolve(this._upsert(this._parseKeyValue(t,e)))}delete(t){return Promise.resolve(this._delete(this._parseKeyValue(t)))}deleteAll(){return Promise.resolve(this._clear())}clear(){return Promise.resolve(this._clear())}static stringify(e){return t.stringify(e)}static parse(e){return t.parse(e)}},r=class extends e{constructor(t){super(t)}_parsedData(){return this._tx("readonly","getAll").then(t=>this.parse(t))}_select(t){let e={},r=[];return t.forEach(t=>r.push(this._tx("readonly","get",t).then(r=>e[t]=this.parse(r)))),Promise.all(r).then(()=>e)}_upsert(t){let e=[];for(let r in t){let s=this._tx("readonly","get",r).then(e=>e&&e.key==r?this._tx("readwrite","put",{key:r,value:t[r]}):this._tx("readwrite","add",{key:r,value:t[r]}));e.push(s)}return Promise.all(e)}_delete(t){let e=[];return t.forEach(t=>e.push(this._tx("readwrite","delete",t))),Promise.all(e)}_clear(){return this._tx("readwrite","clear")}_tx(t,e,r){let s=this;return this.createStore(s.tableName).then(o=>new Promise((n,i)=>{let a=o.transaction(s.tableName,t).objectStore(s.tableName),c=a[e].call(a,r);c.onsuccess=(t=>n(t.target.result)),c.onerror=(t=>i(t.error))}))}get store(){return window.indexedDB}createStore(t){return new Promise((e,r)=>{const s=this.store.open(t,1);s.onupgradeneeded=(e=>{let r=e.target.result;r.createObjectStore(t,{keyPath:"key"})}),s.onsuccess=(()=>e(s.result)),s.onerror=(()=>r(s.error))})}parse(t){let e={};return Array.isArray(t)?(t.forEach(t=>{e[t.key]=t.value}),e):t&&t.value?t.value:void 0}static get type(){return"indexeddb"}},s=class extends e{constructor(t){super(t),this.createStore()}_parsedData(){let t=this;return new Promise(e=>{this.store.transaction(function(r){r.executeSql(`SELECT * FROM ${t.tableName}`,[],(r,s)=>{e(t.parse(s))})})})}_select(t){let e=t.map(()=>"?").join(", ");return this.execSql(`SELECT key, value FROM ${this.tableName} WHERE key in (${e})`,t)}_upsert(t){let e=this.tableName;this.store.transaction(r=>{for(let s in t)r.executeSql(`INSERT OR IGNORE INTO ${e}(key, value) VALUES (?, ?)`,[s,t[s]]),r.executeSql(`UPDATE ${e} SET value = ? WHERE key = ?`,[this.constructor.stringify(t[s]),s])})}_delete(t){let e=this.tableName,r=t.map(()=>"?").join(", ");return this.execSql(`DELETE FROM ${e} WHERE key in (${r})`,t)}_clear(){let t=this.tableName;return this.execSql(`DELETE FROM ${t}`)}get store(){return"undefined"==typeof window||window.openDatabase("bs",1,this._options.description,this._options.size)}createStore(){let t=this.tableName;if("undefined"!=typeof window)return this.execSql(`CREATE TABLE IF NOT EXISTS ${t} (key unique, value)`)}execSql(t,e=[]){let r=this;return new Promise(s=>{r.store.transaction(function(o){o.executeSql(t,e,(t,e)=>{s(r.parse(e))})})})}parse(t){let e,r={},s=t.rows.length;for(e=0;e<s;e++)r[t.rows.item(e).key]=this.constructor.parse(t.rows.item(e).value);return r}static get type(){return"websql"}},o=class extends e{constructor(t){super(t)}_parsedData(){return this.table}get table(){return this.constructor.parse(this.store.getItem(this.tableName))}set table(t){this.store.setItem(this.tableName,this.constructor.stringify(t))}get store(){return window.localStorage}static get type(){return"localstorage"}},n=class extends e{constructor(t){super(t)}_parsedData(){return this.table}get table(){let t=this.store,e={};return t.split("; ").forEach(t=>{let[r,s]=t.split("=");s&&(e[r]=this.constructor.parse(s))}),e[this.tableName]||{}}set table(t){document.cookie=`${this.tableName}=${e.stringify(t)}; path=/`}get store(){return document.cookie}static get type(){return"cookies"}},i=class extends e{constructor(t,e={}){super(t),this._upsert(this.constructor.parse(e))}_parsedData(){return this._table}get store(){return this._table}get table(){return this._table||{}}set table(t){this._table=t}static get type(){return"jsonstorage"}};let a={};a[r.type]=r,a[s.type]=s,a[o.type]=o,a[n.type]=n,a[i.type]=i;var c=a;return class{constructor(t){return t="string"==typeof t?{priority:[t]}:t||{},this._options=Object.assign(this.constructor.defaultOptions,t),this.storage}get storage(){let t=this.supportedStore();if(void 0===t)throw new Error("No available storage supported in this browser");let e=this.constructor._matchingInstance(this._options,t.type);if(e)return e;{let e=new t(this._options);return this.constructor._add(e),e}}get priority(){return this._options.priority.concat(["indexeddb","websql","localstorage","cookies","jsonstorage"])}supportedStore(){for(let t=0;t<this.priority.length;t++){let e=this.constructor.availableStores[this.priority[t]];if(e&&new e(this._options).isSupported())return e}}static _matchingInstance(t,e){let r,s=this.all,o=s.length;for(r=0;r<o;r++)if(s[r]._isEqual(t,e))return s[r];return!1}static _add(t){this._all=this._all||[],this._all.push(t)}static get availableStores(){return c}static get defaultOptions(){return{priority:[],name:"SifrrStorage",version:1,description:"Sifrr Storage",size:5242880}}static get all(){return this._all||[]}static json(t){return new i({},t)}}}()});window.Sifrr=window.Sifrr||{},window.Sifrr.Dom=r,window.Sifrr.Storage=s;const o=window.Sifrr,n=window.location.href.split("/");n.pop(),o.Dom.setup({baseUrl:n.join("/")+"/"}),o.Dom.Event.add("click"),o.Dom.load("sifrr-stater"),o.Dom.load("sifrr-tabs"),o.Dom.load("sifrr-lazy-picture");return{}});
//# sourceMappingURL=example.bundled.js.map
