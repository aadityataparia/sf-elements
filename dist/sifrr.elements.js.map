{"version":3,"file":"sifrr.elements.js","sources":["../helpers/lazyloader.js","../elements/sifrr-lazy-img/src/sifrrlazyimg.js","../elements/sifrr-lazy-picture/src/sifrrlazypicture.js","../elements/sifrr-tab-header/src/sifrrtabheader.js","../node_modules/@sifrr/animate/dist/sifrr.animate.js","../elements/sifrr-tab-container/src/sifrrtabcontainer.js","../elements/sifrr-stater/src/sifrrstater.js","../elements/sifrr-code-editor/src/sifrrcodeeditor.js","../elements/sifrr-showcase/src/singleshowcase.js","../elements/sifrr-showcase/src/sifrrshowcase.js","../elements/sifrr-progress-round/src/sifrrprogressround.js","../elements/sifrr-shimmer/src/sifrrshimmer.js","../elements/sifrr-include/src/sifrrinclude.js","../elements/sifrr-carousel/src/sifrrcarousel.js","../src/sifrr.elements.js"],"sourcesContent":["function moveAttr(el, attr) {\n  if (!el.dataset[attr]) return;\n  el.setAttribute(attr, el.dataset[attr]);\n  el.removeAttribute(`data-${attr}`);\n}\n\nfunction loadPicture(pic) {\n  if (pic.tagName === 'PICTURE') {\n    pic.querySelectorAll('source').forEach((s) => {\n      moveAttr(s, 'src');\n      moveAttr(s, 'srcset');\n    });\n    pic = pic.querySelector('img');\n  } else if (pic.tagName !== 'IMG') {\n    throw Error('LazyLoader only supports `picture` or `img` element. Given: ', pic);\n  }\n  moveAttr(pic, 'src');\n  moveAttr(pic, 'srcset');\n  return true;\n}\n\nfunction onVisible(entries) {\n  entries.forEach(entry => {\n    if (entry.isIntersecting && !entry.target._loaded) {\n      entry.target._loaded = true;\n      if (entry.target.beforeLoad) entry.target.beforeLoad();\n      loadPicture(entry.target);\n      this.unobserve(entry.target);\n      if (entry.target.afterLoad) entry.target.afterLoad();\n    }\n  });\n}\n\nclass LazyLoader extends window.IntersectionObserver {\n  constructor(rootMargin = '0px 0px 0px 0px') {\n    super(onVisible, { rootMargin });\n  }\n}\n\nLazyLoader.prototype._observe = LazyLoader.prototype.observe;\nLazyLoader.prototype.observe = function(el) {\n  el._loaded = false;\n  this._observe(el);\n};\n\nmodule.exports = LazyLoader;\n","import SifrrDom from '@sifrr/dom';\nimport LazyLoader from '../../../helpers/lazyloader';\n\nclass SifrrLazyImg extends SifrrDom.Element.extends(HTMLImageElement) {\n  static get observer() {\n    this._observer = this._observer || new LazyLoader(this.rootMargin);\n    return this._observer;\n  }\n\n  onConnect() {\n    this.reload();\n  }\n\n  reload() {\n    this.constructor.observer.observe(this);\n  }\n\n  onDisconnect() {\n    this.constructor.observer.unobserve(this);\n  }\n}\n\nSifrrLazyImg.rootMargin = '0px 0px 50px 0px';\n\nSifrrDom.register(SifrrLazyImg, { extends: 'img' });\n\nexport default SifrrLazyImg;\n","import SifrrDom from '@sifrr/dom';\nimport LazyLoader from '../../../helpers/lazyloader';\n\nclass SifrrLazyPicture extends SifrrDom.Element.extends(HTMLPictureElement) {\n  static get observer() {\n    this._observer = this._observer || new LazyLoader(this.rootMargin);\n    return this._observer;\n  }\n\n  onConnect() {\n    this.reload();\n  }\n\n  reload() {\n    this.constructor.observer.observe(this);\n  }\n\n  onDisconnect() {\n    this.constructor.observer.unobserve(this);\n  }\n}\n\nSifrrLazyPicture.rootMargin = '0px 0px 50px 0px';\n\nSifrrDom.register(SifrrLazyPicture, { extends: 'picture' });\n\nexport default SifrrLazyPicture;\n","import SifrrDom from '@sifrr/dom';\nimport style from './style.scss';\n\nconst template = SifrrDom.template`<style media=\"screen\">\n  ${style}\n  slot::slotted(*) {\n    \\${this.options ? this.options.style : ''}\n  }\n  :host {\n    padding-bottom: \\${this.options.showUnderline ? '3px' : '0'};\n  }\n</style>\n<slot>\n</slot>\n<div class=\"underline\"></div>`;\n\nclass SifrrTabHeader extends SifrrDom.Element {\n  static get template() {\n    return template;\n  }\n\n  static observedAttrs() {\n    return ['options'];\n  }\n\n  onConnect() {\n    this._connected = true;\n    this.$('slot').addEventListener('slotchange', this.refresh.bind(this, {}));\n    this.refresh();\n  }\n\n  onAttributeChange(n, _, v) {\n    if (n === 'options') {\n      this._attrOptions = JSON.parse(v || '{}');\n      if (this._connected) this.refresh();\n    }\n  }\n\n  refresh(options) {\n    this._options = Object.assign({\n      content: this,\n      slot: this.$('slot'),\n      showUnderline: true,\n      line: this.$('.underline'),\n      container: null\n    }, this._options, options);\n    this.options = Object.assign({}, this._options, this._attrOptions);\n    this.options.menus = this.options.slot.assignedNodes().filter(n => n.nodeType === 1);\n    if (!this.options.menus || this.options.menus.length < 1) return;\n    this.setProps();\n    this.active = this.active || 0;\n  }\n\n  setProps() {\n    if (!this.options.showUnderline) this.options.line.style.display = 'none';\n    this.setMenuProps();\n    if (this.options.container) {\n      const c = this.options.container;\n      c.onScrollPercent = this.setScrollPercent.bind(this);\n      SifrrDom.Event.addListener('update', c, () => this.active = c.active);\n    }\n    this.setScrollPercent(0);\n  }\n\n  setMenuProps() {\n    let left = 0;\n    this._smt = this._smt || this.setMenuProps.bind(this);\n    this.options.menuProps = [];\n    Array.from(this.options.menus).forEach((elem, i) => {\n      const width = elem.getBoundingClientRect().width;\n      this.options.menuProps[i] = {\n        width,\n        left: left\n      };\n      left += width;\n      elem.addEventListener('load', this._smt);\n      elem._click = () => {\n        if (this.options.container) this.options.container.active = i;\n        else this.active = i;\n      };\n    });\n    const last = this.options.menuProps[this.options.menus.length - 1];\n    this.options.totalMenuWidth = last.left + last.width;\n    this.$('slot').style.width = this.options.slot.style.width = this.options.totalMenuWidth + 'px';\n  }\n\n  setScrollPercent(total) {\n    const per = total % 1, t = Math.floor(total);\n    const left = this.options.menuProps[t].left * (1 - per) + (this.options.menuProps[t + 1] || {\n      left: 0\n    }).left * per;\n    const width = this.options.menuProps[t].width * (1 - per) + (this.options.menuProps[t + 1] || {\n      width: 0\n    }).width * per;\n    this.options.line.style.left = left + 'px';\n    this.options.line.style.width = width + 'px';\n    this.scrollLeft = left + (width - this.clientWidth) / 2;\n    if (per === 0) {\n      this._active = t;\n      this.update();\n    }\n  }\n\n  get active() {\n    return this._active || 0;\n  }\n\n  set active(i) {\n    this._active = i;\n    this.setScrollPercent(i);\n    this.update();\n  }\n\n  onUpdate() {\n    if (!this.options) return;\n    for (let j = 0, l = this.options.menus.length; j < l; j++) {\n      this.options.menus[j].classList[j === this.active ? 'add' : 'remove']('active');\n    }\n  }\n}\n\nSifrrDom.register(SifrrTabHeader);\nexport default SifrrTabHeader;\n","/*! sifrr-animate v0.0.3 - sifrr project | MIT licensed | https://github.com/sifrr/sifrr-animate */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, (global.Sifrr = global.Sifrr || {}, global.Sifrr.animate = factory()));\n}(this, function () { 'use strict';\n\n  const beziers = {};\n  class Bezier {\n    constructor(args) {\n      const key = args.join('_');\n      if (!beziers[key]) {\n        this.setProps(...args);\n        beziers[key] = this.final.bind(this);\n      }\n      return beziers[key];\n    }\n    setProps(x1, y1, x2, y2) {\n      let props = {\n        x1,\n        y1,\n        x2,\n        y2,\n        A: (x1, x2) => 1.0 - 3.0 * x2 + 3.0 * x1,\n        B: (x1, x2) => 3.0 * x2 - 6.0 * x1,\n        C: x1 => 3.0 * x1,\n        CalcBezier: (t, x1, x2) => ((this.A(x1, x2) * t + this.B(x1, x2)) * t + this.C(x1)) * t,\n        GetSlope: (t, x1, x2) => 3.0 * this.A(x1, x2) * t * t + 2.0 * this.B(x1, x2) * t + this.C(x1)\n      };\n      Object.assign(this, props);\n    }\n    final(x) {\n      if (this.x1 == this.y1 && this.x2 == this.y2) return x;\n      return this.CalcBezier(this.GetTForX(x), this.y1, this.y2);\n    }\n    GetTForX(xx) {\n      let t = xx;\n      for (let i = 0; i < 4; ++i) {\n        let slope = this.GetSlope(t, this.x1, this.x2);\n        if (slope == 0) return t;\n        let x = this.CalcBezier(t, this.x1, this.x2) - xx;\n        t -= x / slope;\n      }\n      return t;\n    }\n  }\n  var bezier = Bezier;\n\n  var types = {\n    linear: [0, 0, 1, 1],\n    ease: [.25, .1, .25, 1],\n    easeIn: [.42, 0, 1, 1],\n    easeOut: [0, 0, .58, 1],\n    easeInOut: [.42, 0, .58, 1],\n    spring: [.3642, 0, .6358, 1]\n  };\n\n  var wait = t => new Promise(res => setTimeout(res, t));\n\n  const digitRgx = /((?:[+\\-*/]=)?-?\\d+\\.?\\d*)/;\n  const frames = new Set();\n  function runFrames(currentTime) {\n    frames.forEach(f => f(currentTime));\n    window.requestAnimationFrame(runFrames);\n  }\n  window.requestAnimationFrame(runFrames);\n  function animateOne({\n    target,\n    prop,\n    from,\n    to,\n    time = 300,\n    type = 'spring',\n    onUpdate,\n    round = false,\n    delay = 0\n  }) {\n    const toSplit = to.toString().split(digitRgx),\n          l = toSplit.length,\n          raw = [],\n          fromNums = [],\n          diffs = [];\n    const fromSplit = (from || target[prop] || '').toString().split(digitRgx);\n    const onUp = typeof onUpdate === 'function';\n    for (let i = 0; i < l; i++) {\n      const fn = Number(fromSplit[i]) || 0;\n      let tn = Number(toSplit[i]);\n      if (toSplit[i][1] === '=') {\n        tn = Number(toSplit[i].slice(2));\n        switch (toSplit[i][0]) {\n          case '+':\n            tn = fn + tn;\n            break;\n          case '-':\n            tn = fn - tn;\n            break;\n          case '*':\n            tn = fn * tn;\n            break;\n          case '/':\n            tn = fn / tn;\n            break;\n        }\n      }\n      if (isNaN(tn) || !toSplit[i]) raw.push(toSplit[i]);else {\n        fromNums.push(fn);\n        diffs.push(tn - fn);\n      }\n    }\n    const rawObj = {\n      raw\n    };\n    return wait(delay).then(() => new Promise((resolve, reject) => {\n      if (types[type]) type = types[type];\n      if (Array.isArray(type)) type = new bezier(type);else if (typeof type !== 'function') return reject(Error('type should be one of ' + Object.keys(types).toString() + ' or Bezier Array or Function, given ' + type));\n      let startTime;\n      const frame = function (currentTime) {\n        startTime = startTime || currentTime - 17;\n        const percent = (currentTime - startTime) / time,\n              bper = type(percent >= 1 ? 1 : percent);\n        const next = diffs.map((d, i) => {\n          const n = bper * d + fromNums[i];\n          return round ? Math.round(n) : n;\n        });\n        const val = String.raw(rawObj, ...next);\n        try {\n          target[prop] = Number(val) || val;\n          if (onUp) onUpdate(target, prop, target[prop]);\n          if (percent >= 1) resolve(frames.delete(frame));\n        } catch (e) {\n          frames.delete(frame);\n          reject(e);\n        }\n      };\n      frames.add(frame);\n    }));\n  }\n  var animateone = animateOne;\n\n  function animate({\n    targets,\n    target,\n    to,\n    time,\n    type,\n    onUpdate,\n    round,\n    delay\n  }) {\n    targets = targets ? Array.from(targets) : [target];\n    function iterate(tg, props, d, ntime) {\n      const promises = [];\n      for (let prop in props) {\n        let from, final;\n        if (Array.isArray(props[prop])) [from, final] = props[prop];else final = props[prop];\n        if (typeof props[prop] === 'object' && !Array.isArray(props[prop])) {\n          promises.push(iterate(tg[prop], props[prop], d, ntime));\n        } else {\n          promises.push(animateone({\n            target: tg,\n            prop,\n            to: final,\n            time: ntime,\n            type,\n            from,\n            onUpdate,\n            round,\n            delay: d\n          }));\n        }\n      }\n      return Promise.all(promises);\n    }\n    let numTo = to,\n        numDelay = delay,\n        numTime = time;\n    return Promise.all(targets.map((target, i) => {\n      if (typeof to === 'function') numTo = to.call(target, i);\n      if (typeof delay === 'function') numDelay = delay.call(target, i);\n      if (typeof time === 'function') numTime = time.call(target, i);\n      return iterate(target, numTo, numDelay, numTime);\n    }));\n  }\n  animate.types = types;\n  animate.wait = wait;\n  animate.animate = animate;\n  animate.keyframes = arrOpts => {\n    let promise = Promise.resolve(true);\n    arrOpts.forEach(opts => {\n      if (Array.isArray(opts)) promise = promise.then(() => Promise.all(opts.map(animate)));\n      promise = promise.then(() => animate(opts));\n    });\n    return promise;\n  };\n  animate.loop = fxn => fxn().then(() => animate.loop(fxn));\n  var animate_1 = animate;\n\n  return animate_1;\n\n}));\n/*! (c) @aadityataparia */\n//# sourceMappingURL=sifrr.animate.js.map\n","import SifrrDom from '@sifrr/dom';\nimport style from './style.scss';\nimport animate from '@sifrr/animate';\n\nconst template = SifrrDom.template`<style media=\"screen\">\n  ${style}\n</style>\n<style media=\"screen\">\n  .tabs {\n    width: \\${this.totalWidth};\n  }\n  .tabs::slotted(*) {\n    width: \\${this.tabWidth};\n  }\n</style>\n<slot class=\"tabs\">\n</slot>`;\n\nclass SifrrTabContainer extends SifrrDom.Element {\n  static get template() {\n    return template;\n  }\n\n  static observedAttrs() {\n    return ['options'];\n  }\n\n  onConnect() {\n    this._connected = true;\n    this.refresh();\n    window.addEventListener('resize', () => requestAnimationFrame(this.refresh.bind(this)));\n    this.options.slot.addEventListener('slotchange', this.refresh.bind(this, {}));\n    this.setScrollEvent();\n  }\n\n  onAttributeChange(n, _, v) {\n    if (n === 'options') {\n      this._attrOptions = JSON.parse(v || '{}');\n      if (this._connected) this.refresh();\n    }\n  }\n\n  refresh(options) {\n    this._options = Object.assign({\n      content: this,\n      slot: this.$('slot'),\n      num: 1,\n      animation: 'spring',\n      animationTime: 300,\n      scrollBreakpoint: 0.3,\n      loop: false\n    }, this._options, options);\n    this.options = Object.assign({}, this._options, this._attrOptions);\n    this.options.tabs = this.options.slot.assignedNodes().filter(n => n.nodeType === 1);\n    this.total = this.options.tabs.length;\n    if (!this.options.tabs || this.options.tabs.length < 1) return;\n    if (this.options.num === 'auto') {\n      this.tabWidth = 'auto';\n      this._totalWidth = this.options.tabs.reduce((a, b) => a + b.offsetWidth, 0);\n      this.totalWidth = this._totalWidth + 'px';\n    } else {\n      this._tabWidth = this.clientWidth / this.options.num;\n      this.tabWidth = this._tabWidth + 'px';\n      this._totalWidth = this._tabWidth * this.options.tabs.length;\n      this.totalWidth = this._totalWidth + 'px';\n      this.active = typeof this._active === 'number' ? this._active : 0;\n    }\n  }\n\n  setScrollEvent() {\n    let me = this,\n      isScrolling,\n      scrollPos;\n    if (this.options.num !== 'auto') this.options.content.addEventListener('scroll', onScroll);\n\n    function onScroll() {\n      scrollPos = me.active;\n      const total = me.options.content.scrollLeft / me._tabWidth;\n      const t = Math.round(total);\n      me.onScrollPercent(total);\n      clearTimeout(isScrolling);\n      isScrolling = setTimeout(function() {\n        if (total - scrollPos < -me.options.scrollBreakpoint) {\n          me.active = Math.min(t, scrollPos - 1);\n        } else if (total - scrollPos > +me.options.scrollBreakpoint) {\n          me.active = Math.max(t, scrollPos + 1);\n        } else {\n          me.active = scrollPos;\n        }\n      }, 50);\n    }\n  }\n\n  onScrollPercent() {}\n\n  get active() {\n    return this._active;\n  }\n\n  set active(i) {\n    this._active = this.getTabNumber(i);\n    this.update();\n  }\n\n  onUpdate() {\n    if (!this.options || this.options.num === 'auto') return;\n    const i = this._active;\n    animate({\n      target: this.options.content,\n      to: {\n        scrollLeft: i * this._tabWidth\n      },\n      time: this.options.animationTime,\n      type: this.options.animation === 'none' ? () => 1 : this.options.animation\n    });\n    for (let j = 0, l = this.options.tabs.length; j < l; j++) {\n      const el = this.options.tabs[j];\n      if (j === i) {\n        if (el.onActive && !el.classList.contains('active')) el.onActive();\n        el.classList.add('active');\n      } else {\n        if (el.onInactive && el.classList.contains('active')) el.onInactive();\n        el.classList.remove('active');\n      }\n    }\n  }\n\n  next() {\n    this.options.num === 'auto' ? (this.options.content.scrollLeft += this._totalWidth / 2) : (this.active += 1);\n  }\n\n  hasNext() {\n    if (this.active === this.options.tabs.length - this.options.num) return false;\n    return true;\n  }\n\n  prev() {\n    this.options.num === 'auto' ? (this.options.content.scrollLeft -= this._totalWidth / 2) : (this.active -= 1);\n  }\n\n  hasPrev() {\n    return this.active === 0 ? false : true;\n  }\n\n  getTabNumber(i) {\n    const l = this.options.tabs.length;\n    if (l < 1) return 0;\n    const num = this.options.num;\n    i = i < 0 ? i + l : i % l;\n    if (i + num - 1 >= l) {\n      i = this.options.loop ? i % l : l - num;\n    }\n    return i;\n  }\n}\n\nSifrrDom.register(SifrrTabContainer);\nexport default SifrrTabContainer;\n","import SifrrDom from '@sifrr/dom';\nimport SifrrStorage from '@sifrr/storage';\nimport '../../sifrr-tab-header/src/sifrrtabheader';\nimport '../../sifrr-tab-container/src/sifrrtabcontainer';\nimport style from './style.scss';\n\nconst template = SifrrDom.template`<style>\n  ${style}\n</style>\n<div id=\"showHide\" _click=\\${this.showHide}></div>\n<sifrr-tab-header style='background: blue; color: white' data-sifrr-html=\"true\">\n  \\${ this.headingHtml() }\n</sifrr-tab-header>\n<sifrr-tab-container style='height: calc(100vh - 132px)' data-sifrr-html=\"true\">\n  \\${ this.stateHtml() }\n</sifrr-tab-container>\n<footer>\n  <input _keyup=\\${this.addTargetOnEnter} id=\"addTargetInput\" type=\"text\" name=\"addTargetInput\" value=\"\" placeholder=\"Enter css selector query of target\">\n  <button _click=\\${this.addTarget} class=\"btn3\" type=\"button\" name=\"addTargetButton\">Add Taget</button>\n  <button _click=\\${this.commitAll} class=\"btn3\" type=\"button\" name=\"commitAll\">Commit All</button>\n  <button _click=\\${this.resetAllToFirstState} class=\"btn3\" type=\"button\" name=\"resetAll\">Reset All</button>\n  <button _click=\\${this.saveData} class=\"btn3\" type=\"button\" name=\"saveData\">Save Data</button>\n  <button _click=\\${this.loadData} class=\"btn3\" type=\"button\" name=\"loadData\">Load Data</button>\n  <button _click=\\${this.clearAll} class=\"btn3\" type=\"button\" name=\"clearAll\">Remove All</button>\n</footer>`;\n\nSifrrDom.Event.add('click');\nSifrrDom.Event.add('keyup');\nclass SifrrStater extends SifrrDom.Element {\n  static get template() {\n    return template;\n  }\n\n  onConnect() {\n    let me = this;\n    this.storage = new SifrrStorage({\n      name: 'sifrr-stater' + window.location.href\n    });\n    SifrrDom.Event.addListener('click', '.state', function(e, el) {\n      el.classList.contains('open') ? el.classList.remove('open') : el.classList.add('open');\n    });\n    SifrrDom.Event.addListener('click', '.dotC', function(e, target, el) {\n      me.toState(parseInt(el.dataset.target), parseInt(el.dataset.stateIndex));\n    });\n    SifrrDom.Event.addListener('click', '.delete', function(e, el) {\n      me.deleteState(parseInt(el.dataset.target), parseInt(el.dataset.stateIndex));\n    });\n    SifrrDom.Event.addListener('click', '.commit', function(e, el) {\n      const i = parseInt(el.parentNode.dataset.target);\n      me.commit(i);\n    });\n    SifrrDom.Event.addListener('click', '.reset', function(e, el) {\n      const i = parseInt(el.parentNode.dataset.target);\n      me.resetToFirstState(i);\n    });\n    SifrrDom.Event.addListener('click', '.remove', function(e, el) {\n      const i = parseInt(el.parentNode.dataset.target);\n      me.removeTarget(i);\n    });\n  }\n\n  showHide() {\n    this.classList.contains('show') ? this.classList.remove('show') : this.classList.add('show');\n  }\n\n  addTargetOnEnter(event) {\n    if (event.key === 'Enter') {\n      this.addTarget();\n    }\n  }\n\n  headingHtml() {\n    return this.state.queries.map((q) => `<span>${q}</span>`).join('');\n  }\n\n  stateHtml() {\n    let me = this;\n    return this.state.states.map((s, i) =>\n      `<div data-target=\"${i}\">\n      <button class=\"btn3 commit\" type=\"button\" name=\"commit\">Commit</button>\n      <button class=\"btn3 reset\" type=\"button\" name=\"reset\">Reset</button>\n      <button class=\"btn3 remove\" type=\"button\" name=\"remove\">Remove</button>\n      ${s.map((jsn, j) => `<div class=\"stateContainer ${j <= me.state.activeStates[i] ? 'on' : 'off'}\">\n                           <div class=\"dotC\" data-target=\"${i}\" data-state-index=\"${j}\"><div class=\"dot\"></div></div>\n                           <div class=\"state\">${SifrrStater.prettyJSON(jsn)}</div>\n                           <div class=\"delete\" data-target=\"${i}\" data-state-index=\"${j}\">X</div>\n                           </div>`).join('')}</div>`\n    ).join('');\n  }\n\n  addTarget(query) {\n    if (typeof query !== 'string') query = this.$('#addTargetInput').value;\n    let target = window.document.querySelector(query);\n    if (!target.isSifrr) {\n      window.console.log('Invalid Sifrr Element.', target);\n      return false;\n    }\n    if (!target.state) {\n      window.console.log('Sifrr Element has no state.', target);\n      return false;\n    }\n    const old = target.onStateChange, me = this;\n    target.onStateChange = function() {\n      me.addState(this, this.state);\n      old.call(this);\n    };\n    let index = this.state.targets.indexOf(target);\n    if (index > -1) return;\n    this.state.targets.push(target);\n    this.state.queries.push(query);\n    index = this.state.targets.indexOf(target);\n    this.state.states[index] = [JSON.parse(JSON.stringify(target.state))];\n    this.state.activeStates[index] = 0;\n    this.update();\n  }\n\n  removeTarget(el) {\n    const {\n      index\n    } = this.getTarget(el);\n    if (index > -1) {\n      this.state.targets.splice(index, 1);\n      this.state.queries.splice(index, 1);\n      this.state.states.splice(index, 1);\n      this.state.activeStates.splice(index, 1);\n      this.update();\n    }\n  }\n\n  addState(el, state) {\n    const {\n      index\n    } = this.getTarget(el);\n    if (index > -1) {\n      const active = this.state.activeStates[index];\n      const newState = JSON.stringify(state);\n      if (newState !== JSON.stringify(this.state.states[index][active])) {\n        this.state.states[index].splice(active + 1, 0, JSON.parse(newState));\n        this.state.activeStates[index] = active + 1;\n        this.update();\n      }\n    }\n  }\n  deleteState(el, stateN) {\n    const {\n      index\n    } = this.getTarget(el);\n    this.state.states[index].splice(stateN, 1);\n    if (stateN < this.state.activeStates[index]) {\n      this.state.activeStates[index] -= 1;\n    } else if (stateN == this.state.activeStates[index]) {\n      this.state.activeStates[index] -= 1;\n      this.toState(index, this.state.activeStates[index]);\n    }\n    this.update();\n  }\n\n  commit(el) {\n    const {\n      index\n    } = this.getTarget(el);\n    const last_state = this.state.states[index][this.state.states[index].length - 1];\n    this.state.states[index] = [last_state];\n    this.state.activeStates[index] = 0;\n    this.update();\n  }\n\n  commitAll() {\n    const me = this;\n    this.state.targets.forEach(t => me.commit(t));\n    this.update();\n  }\n\n  toState(el, n) {\n    const {\n      index,\n      target\n    } = this.getTarget(el);\n    this.state.activeStates[index] = n;\n    target.state = this.state.states[index][n];\n    this.update();\n  }\n\n  resetToFirstState(el) {\n    const {\n      index,\n      target\n    } = this.getTarget(el);\n    this.toState(target, 0, false);\n    this.state.states[index] = [this.state.states[index][0]];\n    this.update();\n  }\n\n  resetAllToFirstState() {\n    const me = this;\n    this.state.targets.forEach(t => me.resetToFirstState(t));\n    this.update();\n  }\n\n  clear(target) {\n    const {\n      index\n    } = this.getTarget(target);\n    this.state.activeStates[index] = -1;\n    this.state.states[index] = [];\n    this.update();\n  }\n\n  clearAll() {\n    const me = this;\n    this.state.targets.forEach(t => me.clear(t));\n    this.update();\n  }\n\n  saveData() {\n    const me = this;\n    this.storage.clear().then(() => {\n      me.state.queries.forEach((q, i) => {\n        const data = {\n          active: me.state.activeStates[i],\n          states: me.state.states[i]\n        };\n        me.storage.set(q, data);\n      });\n    });\n  }\n\n  loadData() {\n    const me = this;\n    this.storage.all().then((data) => {\n      let i = 0;\n      for (let q in data) {\n        me.addTarget(q);\n        me.clear(i);\n        data[q].states.forEach(s => me.addState(i, s));\n        me.toState(i, data[q].active);\n        i++;\n      }\n    });\n  }\n\n  getTarget(target) {\n    let index;\n    if (Number.isInteger(target)) {\n      index = target;\n      target = this.state.targets[index];\n    } else {\n      index = this.state.targets.indexOf(target);\n    }\n    return {\n      index: index,\n      target: target\n    };\n  }\n\n  static prettyJSON(json) {\n    json = JSON.stringify(json, null, 4);\n    json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n    return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)/g, function(match) {\n      let cls = 'number';\n      if (/:$/.test(match)) {\n        cls = 'key';\n        return '<span class=\"' + cls + '\">' + match + '</span>';\n      } else if (/^\"/.test(match)) {\n        cls = 'string';\n      } else if (/true|false/.test(match)) {\n        cls = 'boolean';\n      } else if (/null/.test(match)) {\n        cls = 'null';\n      }\n      return '<span class=\"' + cls + '\">' + match + '</span>';\n    });\n  }\n}\n\nSifrrStater.defaultState = {\n  targets: [],\n  states: [],\n  queries: [],\n  activeStates: []\n};\n\nSifrrDom.register(SifrrStater);\n\nexport default SifrrStater;\n","import SifrrDom from '@sifrr/dom';\nimport style from './style.scss';\n\nconst template = SifrrDom.template`\n<style media=\"screen\">\n  ${style}\n</style>\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/\\${this.theme}.min.css\">\n<pre class='hljs'>\n  <code id=\"highlight\" data-sifrr-html=\"true\">\n    \\${this.htmlValue}\n  </code>\n</pre>\n<textarea class='hljs' _input=\"\\${this.input}\"></textarea>`;\n\nclass SifrrCodeEditor extends SifrrDom.Element {\n  static get template() {\n    return template;\n  }\n\n  static observedAttrs() {\n    return ['value', 'theme'];\n  }\n\n  static hljs() {\n    this._hljs = this._hljs || SifrrDom.Loader.executeJS('https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js');\n    return this._hljs;\n  }\n\n  onAttributeChange() {\n    this.update();\n  }\n\n  onConnect() {\n    this.constructor.hljs().then(() => this.hljsLoaded());\n\n    const txtarea = this.$('textarea');\n    txtarea.addEventListener('keydown', (e) => {\n      let keyCode = e.keyCode || e.which;\n      this.$('#highlight').style.height = this.$('textarea').height;\n      if (keyCode == 9) {\n        e.preventDefault();\n        const start = txtarea.selectionStart;\n        const end = txtarea.selectionEnd;\n\n        const tabCharacter = '  ';\n        const tabOffset = 2;\n\n        // set textarea value to: text before caret + tab + text after caret\n        txtarea.value = txtarea.value.substring(0, start) + tabCharacter + txtarea.value.substring(end);\n\n        // put caret at right position again\n        txtarea.selectionStart = txtarea.selectionEnd = start + tabOffset;\n\n        this.update();\n      }\n    });\n    txtarea.onscroll = () => {\n      this.$('pre.hljs').scrollTop = txtarea.scrollTop;\n    };\n  }\n\n  input() {\n    SifrrDom.Event.trigger(this, 'input');\n    this.update();\n  }\n\n  hljsLoaded() {\n    this.$('textarea').classList.add('loaded');\n    this.update();\n  }\n\n  get htmlValue() {\n    if (window.hljs) return window.hljs.highlight(this.lang, this.value.replace(/\\n$/, '\\n\\n')).value;\n    else return this.value.replace(/</g, '&lt;');\n  }\n\n  get theme() {\n    return this.getAttribute('theme') || 'atom-one-dark';\n  }\n\n  set theme(v) {\n    this.setAttribute('theme', v);\n  }\n\n  get value() {\n    return this.$('textarea').value;\n  }\n\n  set value(v) {\n    this.$('textarea').value = v;\n    this.update();\n  }\n\n  get lang() {\n    return this.getAttribute('lang') || 'html';\n  }\n}\n\nSifrrDom.register(SifrrCodeEditor);\n\nexport default SifrrCodeEditor;\n","import SifrrDom from '@sifrr/dom';\nimport style from './style.scss';\nimport html from './template.html';\nimport '../../sifrr-code-editor/src/sifrrcodeeditor';\n\nconst template = SifrrDom.template`<style media=\"screen\">\n  ${style}\n</style>\n<style>\n\\${this.state.style}\n</style>\n${html}`;\n\nSifrrDom.Event.add('click');\n\nconst defaultShowcase = {\n  id: 1,\n  name: 'Placeholder Element',\n  element: 'sifrr-placeholder',\n  elementUrl: '',\n  isjs: true,\n  variantName: '',\n  variants: [\n    {\n      variantId: 1,\n      variantName: 'variant',\n      style: `#element > * {\n  display: block;\n  background-color: white;\n  margin: auto;\n}`,\n      code: '<sifrr-placeholder>\\n</sifrr-placeholder>',\n      elState: 'return {\\n\\n}'\n    }\n  ]\n};\n\nclass SifrrSingleShowcase extends SifrrDom.Element {\n  static get template() {\n    return template;\n  }\n\n  static observedAttrs() {\n    return ['url'];\n  }\n\n  onConnect() {\n    this.switchVariant();\n    SifrrDom.Event.addListener('click', '.variant', (e, el) => {\n      if (el.matches('.variant')) this.switchVariant(el.dataset.variantId);\n      if (el.matches('.variant span')) this.deleteVariant(el.parentNode.dataset.variantId);\n    });\n  }\n\n  beforeUpdate() {\n    this.saveVariant();\n    if (!this.state.elemnt) return;\n    if (this._element !== this.state.element || this._js !== this.state.isjs || this._url !== this.state.elementUrl) {\n      SifrrDom.load(this.state.element, {\n        js: this.state.isjs == 'true',\n        url: this.state.elementUrl ? this.state.elementUrl : undefined\n      }).then(() => this.$('#error').innerText = '').catch(e => this.$('#error').innerText = e.message);\n      this._js = this.state.isjs;\n      this._element = this.state.element;\n      this._url = this.state.elementUrl;\n    }\n  }\n\n  onUpdate() {\n    if (this._stateFxnTimeout) clearTimeout(this._stateFxnTimeout);\n    this._stateFxnTimeout = setTimeout(this.runStateFunction.bind(this), 500);\n  }\n\n  runStateFunction() {\n    let state;\n    try {\n      state = new Function(this.$('#elState').value).call(this.element());\n    } catch (e) { window.console.warn(e); }\n    if (state && this.element() && this.element().isSifrr && this.element().state !== state) {\n      this.element().state = state;\n    }\n  }\n\n  onAttributeChange(name, _, value) {\n    if (name === 'url') this.url = value;\n  }\n\n  createNewVariant() {\n    const id = Math.max(...this.state.variants.map(s => s.variantId), 0) + 1;\n    const cid = this.state.variants.findIndex(v => v.variantId == this.state.variantId) + 1 || 1;\n    this.state.variants.splice(cid, 0, Object.assign({}, {\n      variantId: id,\n      variantName: this.state.variantName,\n      style: this.state.style || '',\n      code: this.state.code || '',\n      elState: this.state.elState || ''\n    }));\n    this.switchVariant(id);\n  }\n\n  deleteVariant(id) {\n    this.state.variants.forEach((s, i) => {\n      if (s.variantId == id) {\n        this.state.variants.splice(i, 1);\n        if (this.state.variantId == id) this.switchVariant((this.state.variants[i] || {}).variantId);\n        else this.update();\n      }\n    });\n  }\n\n  saveVariant() {\n    if (!this.state.variants) this.state.variants = [];\n    const id = this.state.variantId;\n    this.state.variants.forEach(s => {\n      if (s.variantId == id) {\n        Object.assign(s, {\n          variantName: this.state.variantName,\n          style: this.state.style,\n          code: this.state.code,\n          elState: this.state.elState\n        });\n      }\n    });\n  }\n\n  switchVariant(id) {\n    this.$('#element').textContent = '';\n    Object.assign(this.state, this.variant(id));\n    this.update();\n  }\n\n  updateHtml(e, el) {\n    const html = `<${el.value}></${el.value}>`;\n    this.state = { code: html, element: el.value };\n  }\n\n  element() {\n    return this.$('#element').firstElementChild;\n  }\n\n  variant(id) {\n    return this.state.variants.find(s => s.variantId == id) || this.state.variants[this.state.variants.length - 1];\n  }\n}\n\nSifrrSingleShowcase.defaultState = defaultShowcase;\n\nSifrrDom.register(SifrrSingleShowcase);\n\nexport default SifrrSingleShowcase;\n","import SifrrDom from '@sifrr/dom';\nimport SifrrStorage from '@sifrr/storage';\nimport style from './style.scss';\nimport './singleshowcase';\n\nconst template = SifrrDom.template`<style media=\"screen\">\n  ${style}\n</style>\n<div class=\"container\">\n  <div class=\"flex-column\" id=\"sidemenu\">\n    <div class=\"box\">\n      <h1 class=\"font head\">Sifrr Showcase</h1>\n      <p class=\"font\" id=\"loader\"></p>\n      <input id=\"url\" type=\"text\" placeholder=\"Enter url here...\" name=\"url\" />\n      <button type=\"button\" name=\"loadUrl\" _click=\\${this.loadUrl}>Load from url</button>\n      <p class=\"font\" id=\"status\"></p>\n      <span class=\"button font\">\n        Upload File\n        <input type=\"file\" name=\"file\" accept=\"application/json\" _input=\"\\${this.loadFile}\" />\n      </span>\n      <button class=\"font\" type=\"button\" name=\"saveFile\" _click=\"\\${this.saveFile}\">Save to File</button>\n      <h3 class=\"font head\">Showcases</h3>\n      <input id=\"showcaseName\" type=\"text\" name=\"showcase\" _input=\\${this.changeName} value=\\${this.state.showcases[this.state.current].name}>\n      <button class=\"font\" type=\"button\" name=\"createVariant\" _click=\"\\${this.createShowcase}\">Create new showcase</button>\n      <div id=\"showcases\" data-sifrr-repeat=\"\\${this.state.showcases}\">\n        <li class=\"font showcase small \\${this._root ? (this.state.id === this._root.state.currentSC.id ? 'current' : '') : ''}\" data-showcase-id=\"\\${this.state.key}\" draggable=\"true\">\\${this.state.name}<span>X</span></li>\n      </div>\n    </div>\n  </div>\n  <sifrr-single-showcase _update=\\${this.saveShowcase} _state=\\${this.state.currentSC} data-sifrr-bind=\"currentSC\"></sifrr-single-showcase>\n</div>`;\n\nconst storage = new SifrrStorage({ name: 'showcases', version: '1.0' });\n\nclass SifrrShowcase extends SifrrDom.Element {\n  static get template() {\n    return template;\n  }\n\n  static observedAttrs() {\n    return ['url'];\n  }\n\n  onAttributeChange(n, _, value) {\n    if (n === 'url') this.url = value;\n  }\n\n  onConnect() {\n    SifrrDom.Event.addListener('click', '.showcase', (e, el) => {\n      if (el.matches('.showcase')) this.switchShowcase(this.getChildIndex(el));\n      if (el.matches('.showcase span')) this.deleteShowcase(this.getChildIndex(el.parentNode));\n    });\n    this.loadUrl();\n    this.switchShowcase(0);\n    if (window.Sortable) {\n      const me = this;\n      new window.Sortable(this.$('#showcases'), {\n        draggable: 'li',\n        onEnd: (e) => {\n          const o = e.oldIndex, n = e.newIndex;\n          const old = me.state.showcases[o];\n          me.state.showcases[o] = me.state.showcases[n];\n          me.state.showcases[n] = old;\n          const current = me.$('#showcases .current');\n          me.switchShowcase(me.getChildIndex(current));\n        }\n      });\n    }\n  }\n\n  getChildIndex(el) {\n    let i = 0;\n    while((el = el.previousElementSibling) != null) i++;\n    return i;\n  }\n\n  deleteShowcase(i) {\n    this.state.showcases.splice(i, 1);\n    if (i == this.state.current) this.switchShowcase(this.state.current);\n    else this.switchShowcase(this.state.current - 1);\n  }\n\n  createShowcase() {\n    this.state.showcases.splice(this.state.current + 1, 0, {\n      name: this.$('#showcaseName').value,\n      variants: [],\n      element: this.$('#showcaseName').value\n    });\n    this.switchShowcase(this.state.current + 1);\n  }\n\n  switchShowcase(i) {\n    this.current = i;\n    this.$('#showcases').children[this.state.current].classList.remove('current');\n    if (!this.state.showcases[i]) i = this.state.showcases.length - 1;\n    this.state = { current: i, currentSC: this.state.showcases[i] };\n    this.$('#showcases').children[i].classList.add('current');\n  }\n\n  onStateChange() {\n    if (this.state.current !== this.current) this.switchShowcase(this.state.current);\n  }\n\n  saveShowcase() {\n    this.state.showcases[this.state.current] = Object.assign(this.state.showcases[this.state.current], this.state.currentSC);\n    if (this._loaded) {\n      this.$('#status').textContent = 'saving locally!';\n      if (this._timeout) clearTimeout(this._timeout);\n      this._timeout = setTimeout(() => {\n        this._timeout = null;\n        storage.set({ showcases: this.state.showcases, current: this.state.current }).then(() => {\n          this.$('#status').textContent = 'saved locally!';\n        });\n      }, 500);\n    }\n  }\n\n  changeName() {\n    this.state.showcases[this.state.current].name = this.$('#showcaseName').value;\n    this.update();\n  }\n\n  get el() {\n    return this.$('sifrr-single-showcase');\n  }\n\n  set url(v) {\n    this._url = v;\n    if (this.getAttribute('url') !== v) this.setAttribute('url', v);\n    if (this.$('#url').value !== v) this.$('#url').value = v;\n    this.loadUrl();\n  }\n\n  get url() {\n    return this._url;\n  }\n\n  loadUrl() {\n    this._url = this.$('#url').value;\n    window.fetch(this._url).then((resp) => resp.json()).then(v => {\n      this.state.showcases = v.showcases;\n      this.switchShowcase(v.current);\n      this.$('#status').textContent = 'loaded from url!';\n    }).catch((e) => {\n      this.$('#status').textContent = e.message;\n      storage.all().then(v => {\n        this.$('#status').textContent = 'failed to load from url, loaded from storage!';\n        this._loaded = true;\n        if (Array.isArray(v.showcases)) {\n          this.state.showcases = v.showcases;\n          this.switchShowcase(v.current);\n        }\n      });\n    });\n  }\n\n  saveFile() {\n    const blob = new Blob([JSON.stringify(this.state, null, 2)], {\n      type: 'application/json'\n    });\n    const a = document.createElement('a');\n    a.href = URL.createObjectURL(blob);\n    a.download = 'showcases';\n    a.click();\n  }\n\n  loadFile(e, el) {\n    const file = el.files[0];\n    const fr = new FileReader();\n    fr.onload = () => {\n      const json = JSON.parse(fr.result);\n      this.state = json;\n      this.switchShowcase(json.current);\n      this.$('#status').textContent = 'loaded from file!';\n    };\n    fr.readAsText(file);\n  }\n}\n\nSifrrShowcase.defaultState = {\n  current: 0,\n  showcases: [{\n    name: 'new'\n  }]\n};\n\nSifrrDom.register(SifrrShowcase);\n\nexport default SifrrShowcase;\n","import SifrrDom from '@sifrr/dom';\n\nimport template from './template.html';\nimport style from './style.css';\n\nclass SifrrProgressRound extends SifrrDom.Element {\n  static get template() {\n    return SifrrDom.template(`<style>${style}</style>${template}`);\n  }\n\n  static syncedAttrs() {\n    return ['progress', 'stroke', 'stroke-width'];\n  }\n\n  onAttributeChange(n, _, v) {\n    if (n === 'progress' || n === 'stroke' || n === 'stroke-width') this.state = { [n]: Number(v) };\n  }\n}\n\nSifrrProgressRound.defaultState = { progress: 0, 'stroke-width': 2, stroke: '#fff' };\nSifrrDom.register(SifrrProgressRound);\n\nexport default SifrrProgressRound;\n","import SifrrDom from '@sifrr/dom';\n\nimport style from './style.css';\n\nconst properStyle = style.replace(/\"(\\${[^\"]*})\"/g, '$1');\n\nfunction rgbToHsl(r = 0, g = 0, b = 0) {\n  r /= 255, g /= 255, b /= 255;\n  let max = Math.max(r, g, b), min = Math.min(r, g, b);\n  let h, s, l = (max + min) / 2;\n\n  if (max == min) {\n    h = s = 0; // achromatic\n  } else {\n    let d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    switch(max) {\n    case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n    case g: h = (b - r) / d + 2; break;\n    case b: h = (r - g) / d + 4; break;\n    }\n    h /= 6;\n  }\n\n  return [h, s, l];\n}\n\nclass SifrrShimmer extends SifrrDom.Element {\n  static syncedAttrs() {\n    return ['color', 'bg-color', 'fg-color'];\n  }\n\n  static get template() {\n    return SifrrDom.template(`<style>${properStyle}</style>`);\n  }\n\n  get bgColor() {\n    return this['bg-color'] || this.colora(0.15);\n  }\n\n  get fgColor() {\n    return this['fg-color'] || this.colora(0);\n  }\n\n  colora(point) {\n    const hsl = rgbToHsl(...(this.color || '170, 170, 170').replace(/ /g, '').split(',').map(Number));\n    const l = Math.min(hsl[2] + (this.isLight() ? point : -1 * point), 1);\n    return `hsl(${hsl[0] * 359}, ${hsl[1] * 100}%, ${l * 100}%)`;\n  }\n\n  isLight() {\n    return this.hasAttribute('light');\n  }\n}\n\nSifrrDom.register(SifrrShimmer);\n\nexport default SifrrShimmer;\n","import SifrrDom from '@sifrr/dom';\n\nclass SifrrInclude extends SifrrDom.Element {\n  static syncedAttrs() {\n    return ['url', 'type'];\n  }\n\n  onConnect() {\n    let preffix = '', suffix = '';\n    if (this.type === 'js') {\n      preffix = '<script>';\n      suffix = '</script>';\n    } else if (this.type === 'css') {\n      preffix = '<style>';\n      suffix = '</style>';\n    }\n\n    if (this.url) {\n      fetch(this.url).then(r => r.text()).then(text => {\n        this.innerHTML = preffix + text + suffix;\n      });\n    }\n  }\n}\n\nSifrrDom.register(SifrrInclude);\n\nexport default SifrrInclude;\n","import SifrrDom from '@sifrr/dom';\nimport style from './style.scss';\nimport '../../sifrr-tab-header/src/sifrrtabheader';\nimport '../../sifrr-tab-container/src/sifrrtabcontainer';\n\nconst template = SifrrDom.template`<style media=\"screen\">\n  ${style}\n</style>\n<style media=\"screen\">\n  \\${this.state.style || ''}\n</style>\n<div id=\"container\">\n  <sifrr-tab-container>\n    <slot name=\"content\"></slot>\n  </sifrr-tab-container>\n  <span id=\"count\"></span>\n</div>\n<div id=\"header\">\n  <div class=\"arrow l\">\n    <span></span>\n  </div>\n  <div class=\"arrow r\">\n    <span></span>\n  </div>\n  <sifrr-tab-header options='{ \"showUnderline\": false }'>\n    <slot name=\"preview\"></slot>\n  </sifrr-tab-header>\n</div>`;\n\nclass SifrrCarousel extends SifrrDom.Element {\n  static get template() {\n    return template;\n  }\n\n  onConnect() {\n    this.container = this.$('sifrr-tab-container');\n    this.header = this.$('sifrr-tab-header');\n    this.container.refresh({\n      slot: this.$('slot[name=content]')\n    });\n    this.header.refresh({\n      slot: this.$('slot[name=preview]'),\n      container: this.container\n    });\n\n    SifrrDom.Event.addListener('click', this, (e, t) => {\n      if (t.matches('.arrow.l') || t.matches('.arrow.l span')) this.container.prev();\n      if (t.matches('.arrow.r') || t.matches('.arrow.r span')) this.container.next();\n    });\n    this.container._update = () => {\n      this.$('#count').textContent = `${this.container.active + 1}/${this.container.total}`;\n    };\n  }\n}\n\nSifrrCarousel.defaultState = { style: '' };\nSifrrDom.register(SifrrCarousel);\n\nexport default SifrrCarousel;\n","// elements\nexport { default as SifrrLazzyImg } from '../elements/sifrr-lazy-img/src/sifrrlazyimg';\nexport { default as SifrrLazyPicture } from '../elements/sifrr-lazy-picture/src/sifrrlazypicture';\nexport { default as SifrrStater } from '../elements/sifrr-stater/src/sifrrstater';\nexport { default as SifrrShowcase } from '../elements/sifrr-showcase/src/sifrrshowcase';\nexport { default as SifrrCodeEditor } from '../elements/sifrr-code-editor/src/sifrrcodeeditor';\nexport { default as SifrrProgressRound } from '../elements/sifrr-progress-round/src/sifrrprogressround';\nexport { default as SifrrShimmer } from '../elements/sifrr-shimmer/src/sifrrshimmer';\nexport { default as SifrrInclude } from '../elements/sifrr-include/src/sifrrinclude';\nexport { default as SifrrCarousel } from '../elements/sifrr-carousel/src/sifrrcarousel';\nexport { default as SifrrTabContainer } from '../elements/sifrr-tab-container/src/sifrrtabcontainer';\nexport { default as SifrrTabHeader } from '../elements/sifrr-tab-header/src/sifrrtabheader';\n\n// helpers\nexport { default as LazyLoader } from '../helpers/lazyloader';\nimport LazyLoader from '../helpers/lazyloader';\nwindow.LazyLoader = LazyLoader;\n"],"names":["moveAttr","el","attr","dataset","setAttribute","removeAttribute","loadPicture","pic","tagName","querySelectorAll","forEach","s","querySelector","Error","onVisible","entries","entry","isIntersecting","target","_loaded","beforeLoad","unobserve","afterLoad","LazyLoader","window","IntersectionObserver","constructor","rootMargin","prototype","_observe","observe","SifrrLazyImg","SifrrDom","Element","extends","HTMLImageElement","observer","_observer","onConnect","reload","onDisconnect","register","SifrrLazyPicture","HTMLPictureElement","template","style","SifrrTabHeader","observedAttrs","_connected","$","addEventListener","refresh","bind","onAttributeChange","n","_","v","_attrOptions","JSON","parse","options","_options","Object","assign","content","slot","showUnderline","line","container","menus","assignedNodes","filter","nodeType","length","setProps","active","display","setMenuProps","c","onScrollPercent","setScrollPercent","Event","addListener","left","_smt","menuProps","Array","from","elem","i","width","getBoundingClientRect","_click","last","totalMenuWidth","total","per","t","Math","floor","scrollLeft","clientWidth","_active","update","onUpdate","j","l","classList","this","SifrrTabContainer","requestAnimationFrame","setScrollEvent","num","animation","animationTime","scrollBreakpoint","loop","tabs","tabWidth","_totalWidth","reduce","a","b","offsetWidth","totalWidth","_tabWidth","me","isScrolling","scrollPos","onScroll","round","clearTimeout","setTimeout","min","max","getTabNumber","animate","to","time","type","onActive","contains","add","onInactive","remove","next","hasNext","prev","hasPrev","SifrrStater","storage","SifrrStorage","name","location","href","e","toState","parseInt","stateIndex","deleteState","parentNode","commit","resetToFirstState","removeTarget","showHide","addTargetOnEnter","event","key","addTarget","headingHtml","state","queries","map","q","join","stateHtml","states","jsn","activeStates","prettyJSON","query","value","document","isSifrr","console","log","old","onStateChange","addState","call","index","targets","indexOf","push","stringify","getTarget","splice","newState","stateN","last_state","commitAll","resetAllToFirstState","clear","clearAll","saveData","then","data","set","loadData","all","Number","isInteger","json","replace","match","cls","test","defaultState","SifrrCodeEditor","hljs","_hljs","Loader","executeJS","hljsLoaded","txtarea","keyCode","which","height","preventDefault","start","selectionStart","end","selectionEnd","tabCharacter","tabOffset","substring","onscroll","scrollTop","input","trigger","htmlValue","highlight","lang","theme","getAttribute","html","defaultShowcase","id","element","elementUrl","isjs","variantName","variants","variantId","code","elState","SifrrSingleShowcase","switchVariant","matches","deleteVariant","beforeUpdate","saveVariant","elemnt","_element","_js","_url","load","js","url","undefined","innerText","catch","message","_stateFxnTimeout","runStateFunction","Function","warn","createNewVariant","cid","findIndex","textContent","variant","updateHtml","firstElementChild","find","version","SifrrShowcase","switchShowcase","getChildIndex","deleteShowcase","loadUrl","Sortable","draggable","onEnd","o","oldIndex","newIndex","showcases","current","previousElementSibling","createShowcase","children","currentSC","saveShowcase","_timeout","changeName","fetch","resp","isArray","saveFile","blob","Blob","createElement","URL","createObjectURL","download","click","loadFile","file","files","fr","FileReader","onload","result","readAsText","SifrrProgressRound","syncedAttrs","progress","stroke","properStyle","rgbToHsl","r","g","h","d","SifrrShimmer","bgColor","colora","fgColor","point","hsl","color","split","isLight","hasAttribute","SifrrInclude","preffix","suffix","text","innerHTML","SifrrCarousel","header","_update"],"mappings":"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"}